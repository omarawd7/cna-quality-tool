function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/c4Diagram-b2a90758-V1WgorCj.js","assets/svgDrawCommon-5ccd53ef-CIeN6btH.js","assets/flowDiagram-5540d9b9-CjMlvzr-.js","assets/flowDb-4b19a42f-CgXpO4fO.js","assets/graph-BnaMVrso.js","assets/layout-9GIWcppC.js","assets/styles-3ed67cfa-Dl9tw4Ax.js","assets/index-fc10efb0-yC_dN9Eb.js","assets/clone-Cs9S1A8U.js","assets/edges-d32062c0-L0kTqD2A.js","assets/createText-6b48ae7d-C_m1ASh9.js","assets/line-BaqdOrCM.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-Cdm6MDCF.js","assets/flowDiagram-v2-3b53844e-B8DNBvIz.js","assets/erDiagram-47591fe2-DJyo1zTM.js","assets/ganttDiagram-9a3bba1f-DqryuTbF.js","assets/linear-Chx5_4_U.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-79897490-DOtV5zHT.js","assets/arc-DtIR9NyL.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-62f64e94-CND-Bafo.js","assets/xychartDiagram-ab372869-BfZNS4R7.js","assets/requirementDiagram-05bf5f74-BG1w53a4.js","assets/sequenceDiagram-acc0e65c-0ytJN1XU.js","assets/classDiagram-30eddba6-ZbJU0QgF.js","assets/styles-991ebdfc-DS1YhWKL.js","assets/classDiagram-v2-f2df5561-D08C7TsG.js","assets/stateDiagram-0ff1cf1a-ByJsjuaX.js","assets/styles-d20c7d72-BuowOfJ-.js","assets/stateDiagram-v2-9a9d610d-BQGGRCz6.js","assets/journeyDiagram-4fe6b3dc-CcP12EL8.js","assets/flowchart-elk-definition-5fe447d6-DSy1MrMz.js","assets/timeline-definition-fea2a41d-CjhUzZ4O.js","assets/mindmap-definition-f354de21-DZHOU7US.js","assets/sankeyDiagram-97764748-5_IJsgTn.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-91b80b7a-DGhKY7-w.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Q5=Object.defineProperty;var Z5=(e,t,n)=>t in e?Q5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Hi=(e,t,n)=>(Z5(e,typeof t!="symbol"?t+"":t,n),n),j_=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var O=(e,t,n)=>(j_(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},De=(e,t,n,i)=>(j_(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);var uE=(e,t,n,i)=>({set _(r){De(e,t,r,n)},get _(){return O(e,t,i)}}),ut=(e,t,n)=>(j_(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function o1(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const hi={},Cd=[],Wo=()=>{},ez=()=>!1,Xb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s1=e=>e.startsWith("onUpdate:"),or=Object.assign,a1=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},tz=Object.prototype.hasOwnProperty,Mn=(e,t)=>tz.call(e,t),Wt=Array.isArray,Td=e=>jg(e)==="[object Map]",Gh=e=>jg(e)==="[object Set]",dE=e=>jg(e)==="[object Date]",rn=e=>typeof e=="function",Oi=e=>typeof e=="string",el=e=>typeof e=="symbol",li=e=>e!==null&&typeof e=="object",bP=e=>(li(e)||rn(e))&&rn(e.then)&&rn(e.catch),_P=Object.prototype.toString,jg=e=>_P.call(e),nz=e=>jg(e).slice(8,-1),xP=e=>jg(e)==="[object Object]",l1=e=>Oi(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zf=o1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},iz=/-(\w)/g,da=Jb(e=>e.replace(iz,(t,n)=>n?n.toUpperCase():"")),rz=/\B([A-Z])/g,ku=Jb(e=>e.replace(rz,"-$1").toLowerCase()),Qb=Jb(e=>e.charAt(0).toUpperCase()+e.slice(1)),K_=Jb(e=>e?`on${Qb(e)}`:""),rc=(e,t)=>!Object.is(e,t),Ny=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wP=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ov=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hE;const CP=()=>hE||(hE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zb(e){if(Wt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Oi(i)?lz(i):Zb(i);if(r)for(const o in r)t[o]=r[o]}return t}else if(Oi(e)||li(e))return e}const oz=/;(?![^(]*\))/g,sz=/:([^]+)/,az=/\/\*[^]*?\*\//g;function lz(e){const t={};return e.replace(az,"").split(oz).forEach(n=>{if(n){const i=n.split(sz);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function mn(e){let t="";if(Oi(e))t=e;else if(Wt(e))for(let n=0;n<e.length;n++){const i=mn(e[n]);i&&(t+=i+" ")}else if(li(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function c1(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Oi(t)&&(e.class=mn(t)),n&&(e.style=Zb(n)),e}const cz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uz=o1(cz);function TP(e){return!!e||e===""}function dz(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Kg(e[i],t[i]);return n}function Kg(e,t){if(e===t)return!0;let n=dE(e),i=dE(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=el(e),i=el(t),n||i)return e===t;if(n=Wt(e),i=Wt(t),n||i)return n&&i?dz(e,t):!1;if(n=li(e),i=li(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Kg(e[s],t[s]))return!1}}return String(e)===String(t)}function u1(e,t){return e.findIndex(n=>Kg(n,t))}const Mt=e=>Oi(e)?e:e==null?"":Wt(e)||li(e)&&(e.toString===_P||!rn(e.toString))?JSON.stringify(e,SP,2):String(e),SP=(e,t)=>t&&t.__v_isRef?SP(e,t.value):Td(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],o)=>(n[Y_(i,o)+" =>"]=r,n),{})}:Gh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Y_(n))}:el(t)?Y_(t):li(t)&&!Wt(t)&&!xP(t)?String(t):t,Y_=(e,t="")=>{var n;return el(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ms;class hz{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ms,!t&&ms&&(this.index=(ms.scopes||(ms.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ms;try{return ms=this,t()}finally{ms=n}}}on(){ms=this}off(){ms=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function fz(e,t=ms){t&&t.active&&t.effects.push(e)}function pz(){return ms}let pu;class d1{constructor(t,n,i,r){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,fz(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,dc();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(gz(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),hc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ec,n=pu;try{return ec=!0,pu=this,this._runnings++,fE(this),this.fn()}finally{pE(this),this._runnings--,pu=n,ec=t}}stop(){var t;this.active&&(fE(this),pE(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function gz(e){return e.value}function fE(e){e._trackId++,e._depsLength=0}function pE(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)EP(e.deps[t],e);e.deps.length=e._depsLength}}function EP(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ec=!0,Wx=0;const AP=[];function dc(){AP.push(ec),ec=!1}function hc(){const e=AP.pop();ec=e===void 0?!0:e}function h1(){Wx++}function f1(){for(Wx--;!Wx&&jx.length;)jx.shift()()}function kP(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&EP(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const jx=[];function IP(e,t,n){h1();for(const i of e.keys()){let r;i._dirtyLevel<t&&(r??(r=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(r??(r=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&jx.push(i.scheduler)))}f1()}const PP=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Kx=new WeakMap,gu=Symbol(""),Yx=Symbol("");function co(e,t,n){if(ec&&pu){let i=Kx.get(e);i||Kx.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=PP(()=>i.delete(n))),kP(pu,r)}}function Ja(e,t,n,i,r,o){const s=Kx.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Wt(e)){const l=Number(i);s.forEach((u,f)=>{(f==="length"||!el(f)&&f>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Wt(e)?l1(n)&&a.push(s.get("length")):(a.push(s.get(gu)),Td(e)&&a.push(s.get(Yx)));break;case"delete":Wt(e)||(a.push(s.get(gu)),Td(e)&&a.push(s.get(Yx)));break;case"set":Td(e)&&a.push(s.get(gu));break}h1();for(const l of a)l&&IP(l,4);f1()}const mz=o1("__proto__,__v_isRef,__isVue"),OP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(el)),gE=yz();function yz(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Un(this);for(let o=0,s=this.length;o<s;o++)co(i,"get",o+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(Un)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){dc(),h1();const i=Un(this)[t].apply(this,n);return f1(),hc(),i}}),e}function vz(e){el(e)||(e=String(e));const t=Un(this);return co(t,"has",e),t.hasOwnProperty(e)}class LP{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(r?o?Oz:FP:o?MP:NP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=Wt(t);if(!r){if(s&&Mn(gE,n))return Reflect.get(gE,n,i);if(n==="hasOwnProperty")return vz}const a=Reflect.get(t,n,i);return(el(n)?OP.has(n):mz(n))||(r||co(t,"get",n),o)?a:uo(a)?s&&l1(n)?a:a.value:li(a)?r?BP(a):t0(a):a}}class DP extends LP{constructor(t=!1){super(!1,t)}set(t,n,i,r){let o=t[n];if(!this._isShallow){const l=sp(o);if(!sv(i)&&!sp(i)&&(o=Un(o),i=Un(i)),!Wt(t)&&uo(o)&&!uo(i))return l?!1:(o.value=i,!0)}const s=Wt(t)&&l1(n)?Number(n)<t.length:Mn(t,n),a=Reflect.set(t,n,i,r);return t===Un(r)&&(s?rc(i,o)&&Ja(t,"set",n,i):Ja(t,"add",n,i)),a}deleteProperty(t,n){const i=Mn(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ja(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!el(n)||!OP.has(n))&&co(t,"has",n),i}ownKeys(t){return co(t,"iterate",Wt(t)?"length":gu),Reflect.ownKeys(t)}}class bz extends LP{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const _z=new DP,xz=new bz,wz=new DP(!0),p1=e=>e,e0=e=>Reflect.getPrototypeOf(e);function Jm(e,t,n=!1,i=!1){e=e.__v_raw;const r=Un(e),o=Un(t);n||(rc(t,o)&&co(r,"get",t),co(r,"get",o));const{has:s}=e0(r),a=i?p1:n?y1:ap;if(s.call(r,t))return a(e.get(t));if(s.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Qm(e,t=!1){const n=this.__v_raw,i=Un(n),r=Un(e);return t||(rc(e,r)&&co(i,"has",e),co(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Zm(e,t=!1){return e=e.__v_raw,!t&&co(Un(e),"iterate",gu),Reflect.get(e,"size",e)}function mE(e){e=Un(e);const t=Un(this);return e0(t).has.call(t,e)||(t.add(e),Ja(t,"add",e,e)),this}function yE(e,t){t=Un(t);const n=Un(this),{has:i,get:r}=e0(n);let o=i.call(n,e);o||(e=Un(e),o=i.call(n,e));const s=r.call(n,e);return n.set(e,t),o?rc(t,s)&&Ja(n,"set",e,t):Ja(n,"add",e,t),this}function vE(e){const t=Un(this),{has:n,get:i}=e0(t);let r=n.call(t,e);r||(e=Un(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&Ja(t,"delete",e,void 0),o}function bE(){const e=Un(this),t=e.size!==0,n=e.clear();return t&&Ja(e,"clear",void 0,void 0),n}function ey(e,t){return function(i,r){const o=this,s=o.__v_raw,a=Un(s),l=t?p1:e?y1:ap;return!e&&co(a,"iterate",gu),s.forEach((u,f)=>i.call(r,l(u),l(f),o))}}function ty(e,t,n){return function(...i){const r=this.__v_raw,o=Un(r),s=Td(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=r[e](...i),f=n?p1:t?y1:ap;return!t&&co(o,"iterate",l?Yx:gu),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:a?[f(d[0]),f(d[1])]:f(d),done:m}},[Symbol.iterator](){return this}}}}function Al(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Cz(){const e={get(o){return Jm(this,o)},get size(){return Zm(this)},has:Qm,add:mE,set:yE,delete:vE,clear:bE,forEach:ey(!1,!1)},t={get(o){return Jm(this,o,!1,!0)},get size(){return Zm(this)},has:Qm,add:mE,set:yE,delete:vE,clear:bE,forEach:ey(!1,!0)},n={get(o){return Jm(this,o,!0)},get size(){return Zm(this,!0)},has(o){return Qm.call(this,o,!0)},add:Al("add"),set:Al("set"),delete:Al("delete"),clear:Al("clear"),forEach:ey(!0,!1)},i={get(o){return Jm(this,o,!0,!0)},get size(){return Zm(this,!0)},has(o){return Qm.call(this,o,!0)},add:Al("add"),set:Al("set"),delete:Al("delete"),clear:Al("clear"),forEach:ey(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ty(o,!1,!1),n[o]=ty(o,!0,!1),t[o]=ty(o,!1,!0),i[o]=ty(o,!0,!0)}),[e,n,t,i]}const[Tz,Sz,Ez,Az]=Cz();function g1(e,t){const n=t?e?Az:Ez:e?Sz:Tz;return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Mn(n,r)&&r in i?n:i,r,o)}const kz={get:g1(!1,!1)},Iz={get:g1(!1,!0)},Pz={get:g1(!0,!1)},NP=new WeakMap,MP=new WeakMap,FP=new WeakMap,Oz=new WeakMap;function Lz(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dz(e){return e.__v_skip||!Object.isExtensible(e)?0:Lz(nz(e))}function t0(e){return sp(e)?e:m1(e,!1,_z,kz,NP)}function RP(e){return m1(e,!1,wz,Iz,MP)}function BP(e){return m1(e,!0,xz,Pz,FP)}function m1(e,t,n,i,r){if(!li(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const s=Dz(e);if(s===0)return e;const a=new Proxy(e,s===2?i:n);return r.set(e,a),a}function Uf(e){return sp(e)?Uf(e.__v_raw):!!(e&&e.__v_isReactive)}function sp(e){return!!(e&&e.__v_isReadonly)}function sv(e){return!!(e&&e.__v_isShallow)}function $P(e){return e?!!e.__v_raw:!1}function Un(e){const t=e&&e.__v_raw;return t?Un(t):e}function Nz(e){return Object.isExtensible(e)&&wP(e,"__v_skip",!0),e}const ap=e=>li(e)?t0(e):e,y1=e=>li(e)?BP(e):e;class qP{constructor(t,n,i,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new d1(()=>t(this._value),()=>My(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Un(this);return(!t._cacheable||t.effect.dirty)&&rc(t._value,t._value=t.effect.run())&&My(t,4),zP(t),t.effect._dirtyLevel>=2&&My(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Mz(e,t,n=!1){let i,r;const o=rn(e);return o?(i=e,r=Wo):(i=e.get,r=e.set),new qP(i,r,o||!r,n)}function zP(e){var t;ec&&pu&&(e=Un(e),kP(pu,(t=e.dep)!=null?t:e.dep=PP(()=>e.dep=void 0,e instanceof qP?e:void 0)))}function My(e,t=4,n){e=Un(e);const i=e.dep;i&&IP(i,t)}function uo(e){return!!(e&&e.__v_isRef===!0)}function nn(e){return UP(e,!1)}function Fz(e){return UP(e,!0)}function UP(e,t){return uo(e)?e:new Rz(e,t)}class Rz{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Un(t),this._value=n?t:ap(t)}get value(){return zP(this),this._value}set value(t){const n=this.__v_isShallow||sv(t)||sp(t);t=n?t:Un(t),rc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ap(t),My(this,4))}}function Xn(e){return uo(e)?e.value:e}const Bz={get:(e,t,n)=>Xn(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return uo(r)&&!uo(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function HP(e){return Uf(e)?e:new Proxy(e,Bz)}/**
* @vue/runtime-core v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tc(e,t,n,i){try{return i?e(...i):e()}catch(r){n0(r,t,n)}}function Cs(e,t,n,i){if(rn(e)){const r=tc(e,t,n,i);return r&&bP(r)&&r.catch(o=>{n0(o,t,n)}),r}if(Wt(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Cs(e[o],t,n,i));return r}}function n0(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,s,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){dc(),tc(l,null,10,[e,s,a]),hc();return}}$z(e,n,r,i)}function $z(e,t,n,i=!0){console.error(e)}let lp=!1,Xx=!1;const mr=[];let ta=0;const Sd=[];let Nl=null,Hc=0;const VP=Promise.resolve();let v1=null;function i0(e){const t=v1||VP;return e?t.then(this?e.bind(this):e):t}function qz(e){let t=ta+1,n=mr.length;for(;t<n;){const i=t+n>>>1,r=mr[i],o=cp(r);o<e||o===e&&r.pre?t=i+1:n=i}return t}function b1(e){(!mr.length||!mr.includes(e,lp&&e.allowRecurse?ta+1:ta))&&(e.id==null?mr.push(e):mr.splice(qz(e.id),0,e),GP())}function GP(){!lp&&!Xx&&(Xx=!0,v1=VP.then(jP))}function zz(e){const t=mr.indexOf(e);t>ta&&mr.splice(t,1)}function Uz(e){Wt(e)?Sd.push(...e):(!Nl||!Nl.includes(e,e.allowRecurse?Hc+1:Hc))&&Sd.push(e),GP()}function _E(e,t,n=lp?ta+1:0){for(;n<mr.length;n++){const i=mr[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;mr.splice(n,1),n--,i()}}}function WP(e){if(Sd.length){const t=[...new Set(Sd)].sort((n,i)=>cp(n)-cp(i));if(Sd.length=0,Nl){Nl.push(...t);return}for(Nl=t,Hc=0;Hc<Nl.length;Hc++)Nl[Hc]();Nl=null,Hc=0}}const cp=e=>e.id==null?1/0:e.id,Hz=(e,t)=>{const n=cp(e)-cp(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function jP(e){Xx=!1,lp=!0,mr.sort(Hz);try{for(ta=0;ta<mr.length;ta++){const t=mr[ta];t&&t.active!==!1&&tc(t,null,14)}}finally{ta=0,mr.length=0,WP(),lp=!1,v1=null,(mr.length||Sd.length)&&jP()}}function Vz(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||hi;let r=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:m}=i[f]||hi;m&&(r=n.map(b=>Oi(b)?b.trim():b)),d&&(r=n.map(ov))}let a,l=i[a=K_(t)]||i[a=K_(da(t))];!l&&o&&(l=i[a=K_(ku(t))]),l&&Cs(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Cs(u,e,6,r)}}function KP(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let s={},a=!1;if(!rn(e)){const l=u=>{const f=KP(u,t,!0);f&&(a=!0,or(s,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(li(e)&&i.set(e,null),null):(Wt(o)?o.forEach(l=>s[l]=null):or(s,o),li(e)&&i.set(e,s),s)}function r0(e,t){return!e||!Xb(t)?!1:(t=t.slice(2).replace(/Once$/,""),Mn(e,t[0].toLowerCase()+t.slice(1))||Mn(e,ku(t))||Mn(e,t))}let Qi=null,YP=null;function av(e){const t=Qi;return Qi=e,YP=e&&e.type.__scopeId||null,t}function wu(e,t=Qi,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&NE(-1);const o=av(t);let s;try{s=e(...r)}finally{av(o),i._d&&NE(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function X_(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:f,renderCache:d,data:m,setupState:b,ctx:x,inheritAttrs:C}=e;let k,T;const A=av(e);try{if(n.shapeFlag&4){const F=r||i,Z=F;k=ea(f.call(Z,F,d,o,b,m,x)),T=l}else{const F=t;k=ea(F.length>1?F(o,{attrs:l,slots:a,emit:u}):F(o,null)),T=t.props?l:Gz(l)}}catch(F){Kf.length=0,n0(F,e,1),k=Dn(oc)}let R=k;if(T&&C!==!1){const F=Object.keys(T),{shapeFlag:Z}=R;F.length&&Z&7&&(s&&F.some(s1)&&(T=Wz(T,s)),R=Eh(R,T))}return n.dirs&&(R=Eh(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),k=R,av(A),k}const Gz=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xb(n))&&((t||(t={}))[n]=e[n]);return t},Wz=(e,t)=>{const n={};for(const i in e)(!s1(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function jz(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?xE(i,s,u):!!s;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const m=f[d];if(s[m]!==i[m]&&!r0(u,m))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?xE(i,s,u):!0:!!s;return!1}function xE(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!r0(n,o))return!0}return!1}function Kz({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const XP="components";function wE(e,t){return Xz(XP,e,!0,t)||e}const Yz=Symbol.for("v-ndc");function Xz(e,t,n=!0,i=!1){const r=Qi||yr;if(r){const o=r.type;if(e===XP){const a=HU(o,!1);if(a&&(a===t||a===da(t)||a===Qb(da(t))))return o}const s=CE(r[e]||o[e],t)||CE(r.appContext[e],t);return!s&&i?o:s}}function CE(e,t){return e&&(e[t]||e[da(t)]||e[Qb(da(t))])}const Jz=e=>e.__isSuspense;function Qz(e,t){t&&t.pendingBranch?Wt(e)?t.effects.push(...e):t.effects.push(e):Uz(e)}const Zz=Symbol.for("v-scx"),eU=()=>ra(Zz),ny={};function Hf(e,t,n){return JP(e,t,n)}function JP(e,t,{immediate:n,deep:i,flush:r,once:o,onTrack:s,onTrigger:a}=hi){if(t&&o){const ee=t;t=(...g)=>{ee(...g),Z()}}const l=yr,u=ee=>i===!0?ee:Wc(ee,i===!1?1:void 0);let f,d=!1,m=!1;if(uo(e)?(f=()=>e.value,d=sv(e)):Uf(e)?(f=()=>u(e),d=!0):Wt(e)?(m=!0,d=e.some(ee=>Uf(ee)||sv(ee)),f=()=>e.map(ee=>{if(uo(ee))return ee.value;if(Uf(ee))return u(ee);if(rn(ee))return tc(ee,l,2)})):rn(e)?t?f=()=>tc(e,l,2):f=()=>(b&&b(),Cs(e,l,3,[x])):f=Wo,t&&i){const ee=f;f=()=>Wc(ee())}let b,x=ee=>{b=R.onStop=()=>{tc(ee,l,4),b=R.onStop=void 0}},C;if(c0)if(x=Wo,t?n&&Cs(t,l,3,[f(),m?[]:void 0,x]):f(),r==="sync"){const ee=eU();C=ee.__watcherHandles||(ee.__watcherHandles=[])}else return Wo;let k=m?new Array(e.length).fill(ny):ny;const T=()=>{if(!(!R.active||!R.dirty))if(t){const ee=R.run();(i||d||(m?ee.some((g,L)=>rc(g,k[L])):rc(ee,k)))&&(b&&b(),Cs(t,l,3,[ee,k===ny?void 0:m&&k[0]===ny?[]:k,x]),k=ee)}else R.run()};T.allowRecurse=!!t;let A;r==="sync"?A=T:r==="post"?A=()=>eo(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),A=()=>b1(T));const R=new d1(f,Wo,A),F=pz(),Z=()=>{R.stop(),F&&a1(F.effects,R)};return t?n?T():k=R.run():r==="post"?eo(R.run.bind(R),l&&l.suspense):R.run(),C&&C.push(Z),Z}function tU(e,t,n){const i=this.proxy,r=Oi(e)?e.includes(".")?QP(i,e):()=>i[e]:e.bind(i,i);let o;rn(t)?o=t:(o=t.handler,n=t);const s=Yg(this),a=JP(r,o.bind(i),n);return s(),a}function QP(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Wc(e,t,n=0,i){if(!li(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),uo(e))Wc(e.value,t,n,i);else if(Wt(e))for(let r=0;r<e.length;r++)Wc(e[r],t,n,i);else if(Gh(e)||Td(e))e.forEach(r=>{Wc(r,t,n,i)});else if(xP(e))for(const r in e)Wc(e[r],t,n,i);return e}function dn(e,t){if(Qi===null)return e;const n=u0(Qi)||Qi.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,s,a,l=hi]=t[r];o&&(rn(o)&&(o={mounted:o,updated:o}),o.deep&&Wc(s),i.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Nc(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(dc(),Cs(l,n,8,[e.el,a,e,t]),hc())}}/*! #__NO_SIDE_EFFECTS__ */function Zi(e,t){return rn(e)?or({name:e.name},t,{setup:e}):e}const Vf=e=>!!e.type.__asyncLoader,ZP=e=>e.type.__isKeepAlive;function nU(e,t){e2(e,"a",t)}function iU(e,t){e2(e,"da",t)}function e2(e,t,n=yr){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(o0(t,i,n),n){let r=n.parent;for(;r&&r.parent;)ZP(r.parent.vnode)&&rU(i,t,n,r),r=r.parent}}function rU(e,t,n,i){const r=o0(t,e,i,!0);t2(()=>{a1(i[t],r)},n)}function o0(e,t,n=yr,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;dc();const a=Yg(n),l=Cs(t,n,e,s);return a(),hc(),l});return i?r.unshift(o):r.push(o),o}}const ol=e=>(t,n=yr)=>(!c0||e==="sp")&&o0(e,(...i)=>t(...i),n),oU=ol("bm"),pa=ol("m"),sU=ol("bu"),s0=ol("u"),aU=ol("bum"),t2=ol("um"),lU=ol("sp"),cU=ol("rtg"),uU=ol("rtc");function dU(e,t=yr){o0("ec",e,t)}function kn(e,t,n,i){let r;const o=n&&n[i];if(Wt(e)||Oi(e)){r=new Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,o&&o[s])}else if(li(e))if(e[Symbol.iterator])r=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];r[a]=t(e[u],u,a,o&&o[a])}}else r=[];return n&&(n[i]=r),r}function hU(e,t,n={},i,r){if(Qi.isCE||Qi.parent&&Vf(Qi.parent)&&Qi.parent.isCE)return t!=="default"&&(n.name=t),Dn("slot",n,i&&i());let o=e[t];o&&o._c&&(o._d=!1),He();const s=o&&n2(o(n)),a=tl(Gt,{key:n.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function n2(e){return e.some(t=>cv(t)?!(t.type===oc||t.type===Gt&&!n2(t.children)):!0)?e:null}const Jx=e=>e?m2(e)?u0(e)||e.proxy:Jx(e.parent):null,Gf=or(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jx(e.parent),$root:e=>Jx(e.root),$emit:e=>e.emit,$options:e=>_1(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,b1(e.update)}),$nextTick:e=>e.n||(e.n=i0.bind(e.proxy)),$watch:e=>tU.bind(e)}),J_=(e,t)=>e!==hi&&!e.__isScriptSetup&&Mn(e,t),fU={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const b=s[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(J_(i,t))return s[t]=1,i[t];if(r!==hi&&Mn(r,t))return s[t]=2,r[t];if((u=e.propsOptions[0])&&Mn(u,t))return s[t]=3,o[t];if(n!==hi&&Mn(n,t))return s[t]=4,n[t];Qx&&(s[t]=0)}}const f=Gf[t];let d,m;if(f)return t==="$attrs"&&co(e,"get",t),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==hi&&Mn(n,t))return s[t]=4,n[t];if(m=l.config.globalProperties,Mn(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;return J_(r,t)?(r[t]=n,!0):i!==hi&&Mn(i,t)?(i[t]=n,!0):Mn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!n[s]||e!==hi&&Mn(e,s)||J_(t,s)||(a=o[0])&&Mn(a,s)||Mn(i,s)||Mn(Gf,s)||Mn(r.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Mn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function TE(e){return Wt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qx=!0;function pU(e){const t=_1(e),n=e.proxy,i=e.ctx;Qx=!1,t.beforeCreate&&SE(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:u,created:f,beforeMount:d,mounted:m,beforeUpdate:b,updated:x,activated:C,deactivated:k,beforeDestroy:T,beforeUnmount:A,destroyed:R,unmounted:F,render:Z,renderTracked:ee,renderTriggered:g,errorCaptured:L,serverPrefetch:M,expose:z,inheritAttrs:Q,components:de,directives:ce,filters:pe}=t;if(u&&gU(u,i,null),s)for(const G in s){const j=s[G];rn(j)&&(i[G]=j.bind(n))}if(r){const G=r.call(n,n);li(G)&&(e.data=t0(G))}if(Qx=!0,o)for(const G in o){const j=o[G],te=rn(j)?j.bind(n,n):rn(j.get)?j.get.bind(n,n):Wo,le=!rn(j)&&rn(j.set)?j.set.bind(n):Wo,Ae=Jn({get:te,set:le});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>Ae.value,set:ke=>Ae.value=ke})}if(a)for(const G in a)i2(a[G],i,n,G);if(l){const G=rn(l)?l.call(n):l;Reflect.ownKeys(G).forEach(j=>{Fy(j,G[j])})}f&&SE(f,e,"c");function q(G,j){Wt(j)?j.forEach(te=>G(te.bind(n))):j&&G(j.bind(n))}if(q(oU,d),q(pa,m),q(sU,b),q(s0,x),q(nU,C),q(iU,k),q(dU,L),q(uU,ee),q(cU,g),q(aU,A),q(t2,F),q(lU,M),Wt(z))if(z.length){const G=e.exposed||(e.exposed={});z.forEach(j=>{Object.defineProperty(G,j,{get:()=>n[j],set:te=>n[j]=te})})}else e.exposed||(e.exposed={});Z&&e.render===Wo&&(e.render=Z),Q!=null&&(e.inheritAttrs=Q),de&&(e.components=de),ce&&(e.directives=ce)}function gU(e,t,n=Wo){Wt(e)&&(e=Zx(e));for(const i in e){const r=e[i];let o;li(r)?"default"in r?o=ra(r.from||i,r.default,!0):o=ra(r.from||i):o=ra(r),uo(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[i]=o}}function SE(e,t,n){Cs(Wt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function i2(e,t,n,i){const r=i.includes(".")?QP(n,i):()=>n[i];if(Oi(e)){const o=t[e];rn(o)&&Hf(r,o)}else if(rn(e))Hf(r,e.bind(n));else if(li(e))if(Wt(e))e.forEach(o=>i2(o,t,n,i));else{const o=rn(e.handler)?e.handler.bind(n):t[e.handler];rn(o)&&Hf(r,o,e)}}function _1(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>lv(l,u,s,!0)),lv(l,t,s)),li(t)&&o.set(t,l),l}function lv(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&lv(e,o,n,!0),r&&r.forEach(s=>lv(e,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const a=mU[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const mU={data:EE,props:AE,emits:AE,methods:Df,computed:Df,beforeCreate:kr,created:kr,beforeMount:kr,mounted:kr,beforeUpdate:kr,updated:kr,beforeDestroy:kr,beforeUnmount:kr,destroyed:kr,unmounted:kr,activated:kr,deactivated:kr,errorCaptured:kr,serverPrefetch:kr,components:Df,directives:Df,watch:vU,provide:EE,inject:yU};function EE(e,t){return t?e?function(){return or(rn(e)?e.call(this,this):e,rn(t)?t.call(this,this):t)}:t:e}function yU(e,t){return Df(Zx(e),Zx(t))}function Zx(e){if(Wt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kr(e,t){return e?[...new Set([].concat(e,t))]:t}function Df(e,t){return e?or(Object.create(null),e,t):t}function AE(e,t){return e?Wt(e)&&Wt(t)?[...new Set([...e,...t])]:or(Object.create(null),TE(e),TE(t??{})):t}function vU(e,t){if(!e)return t;if(!t)return e;const n=or(Object.create(null),e);for(const i in t)n[i]=kr(e[i],t[i]);return n}function r2(){return{app:null,config:{isNativeTag:ez,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bU=0;function _U(e,t){return function(i,r=null){rn(i)||(i=or({},i)),r!=null&&!li(r)&&(r=null);const o=r2(),s=new WeakSet;let a=!1;const l=o.app={_uid:bU++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:GU,get config(){return o.config},set config(u){},use(u,...f){return s.has(u)||(u&&rn(u.install)?(s.add(u),u.install(l,...f)):rn(u)&&(s.add(u),u(l,...f))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,f){return f?(o.components[u]=f,l):o.components[u]},directive(u,f){return f?(o.directives[u]=f,l):o.directives[u]},mount(u,f,d){if(!a){const m=Dn(i,r);return m.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(m,u):e(m,u,d),a=!0,l._container=u,u.__vue_app__=l,u0(m.component)||m.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return o.provides[u]=f,l},runWithContext(u){const f=Wf;Wf=l;try{return u()}finally{Wf=f}}};return l}}let Wf=null;function Fy(e,t){if(yr){let n=yr.provides;const i=yr.parent&&yr.parent.provides;i===n&&(n=yr.provides=Object.create(i)),n[e]=t}}function ra(e,t,n=!1){const i=yr||Qi;if(i||Wf){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Wf._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&rn(t)?t.call(i&&i.proxy):t}}const o2={};function xU(e,t,n,i=!1){const r={},o=Object.create(o2);e.propsDefaults=Object.create(null),s2(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=i?r:RP(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function wU(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,a=Un(r),[l]=e.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let m=f[d];if(r0(e.emitsOptions,m))continue;const b=t[m];if(l)if(Mn(o,m))b!==o[m]&&(o[m]=b,u=!0);else{const x=da(m);r[x]=ew(l,a,x,b,e,!1)}else b!==o[m]&&(o[m]=b,u=!0)}}}else{s2(e,t,r,o)&&(u=!0);let f;for(const d in a)(!t||!Mn(t,d)&&((f=ku(d))===d||!Mn(t,f)))&&(l?n&&(n[d]!==void 0||n[f]!==void 0)&&(r[d]=ew(l,a,d,void 0,e,!0)):delete r[d]);if(o!==a)for(const d in o)(!t||!Mn(t,d))&&(delete o[d],u=!0)}u&&Ja(e.attrs,"set","")}function s2(e,t,n,i){const[r,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(zf(l))continue;const u=t[l];let f;r&&Mn(r,f=da(l))?!o||!o.includes(f)?n[f]=u:(a||(a={}))[f]=u:r0(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(o){const l=Un(n),u=a||hi;for(let f=0;f<o.length;f++){const d=o[f];n[d]=ew(r,l,d,u[d],e,!Mn(u,d))}}return s}function ew(e,t,n,i,r,o){const s=e[n];if(s!=null){const a=Mn(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&rn(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const f=Yg(r);i=u[n]=l.call(null,t),f()}}else i=l}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===ku(n))&&(i=!0))}return i}function a2(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const o=e.props,s={},a=[];let l=!1;if(!rn(e)){const f=d=>{l=!0;const[m,b]=a2(d,t,!0);or(s,m),b&&a.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!l)return li(e)&&i.set(e,Cd),Cd;if(Wt(o))for(let f=0;f<o.length;f++){const d=da(o[f]);kE(d)&&(s[d]=hi)}else if(o)for(const f in o){const d=da(f);if(kE(d)){const m=o[f],b=s[d]=Wt(m)||rn(m)?{type:m}:or({},m);if(b){const x=OE(Boolean,b.type),C=OE(String,b.type);b[0]=x>-1,b[1]=C<0||x<C,(x>-1||Mn(b,"default"))&&a.push(d)}}}const u=[s,a];return li(e)&&i.set(e,u),u}function kE(e){return e[0]!=="$"&&!zf(e)}function IE(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function PE(e,t){return IE(e)===IE(t)}function OE(e,t){return Wt(t)?t.findIndex(n=>PE(n,e)):rn(t)&&PE(t,e)?0:-1}const l2=e=>e[0]==="_"||e==="$stable",x1=e=>Wt(e)?e.map(ea):[ea(e)],CU=(e,t,n)=>{if(t._n)return t;const i=wu((...r)=>x1(t(...r)),n);return i._c=!1,i},c2=(e,t,n)=>{const i=e._ctx;for(const r in e){if(l2(r))continue;const o=e[r];if(rn(o))t[r]=CU(r,o,i);else if(o!=null){const s=x1(o);t[r]=()=>s}}},u2=(e,t)=>{const n=x1(t);e.slots.default=()=>n},TU=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Un(t),wP(e.slots,"_",n)):c2(t,e.slots={})}else e.slots={},t&&u2(e,t)},SU=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,s=hi;if(i.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(or(r,t),!n&&a===1&&delete r._):(o=!t.$stable,c2(t,r)),s=t}else t&&(u2(e,t),s={default:1});if(o)for(const a in r)!l2(a)&&s[a]==null&&delete r[a]};function tw(e,t,n,i,r=!1){if(Wt(e)){e.forEach((m,b)=>tw(m,t&&(Wt(t)?t[b]:t),n,i,r));return}if(Vf(i)&&!r)return;const o=i.shapeFlag&4?u0(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:l}=e,u=t&&t.r,f=a.refs===hi?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Oi(u)?(f[u]=null,Mn(d,u)&&(d[u]=null)):uo(u)&&(u.value=null)),rn(l))tc(l,a,12,[s,f]);else{const m=Oi(l),b=uo(l);if(m||b){const x=()=>{if(e.f){const C=m?Mn(d,l)?d[l]:f[l]:l.value;r?Wt(C)&&a1(C,o):Wt(C)?C.includes(o)||C.push(o):m?(f[l]=[o],Mn(d,l)&&(d[l]=f[l])):(l.value=[o],e.k&&(f[e.k]=l.value))}else m?(f[l]=s,Mn(d,l)&&(d[l]=s)):b&&(l.value=s,e.k&&(f[e.k]=s))};s?(x.id=-1,eo(x,n)):x()}}}const eo=Qz;function EU(e){return AU(e)}function AU(e,t){const n=CP();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:m,setScopeId:b=Wo,insertStaticContent:x}=e,C=(U,K,ne,we=null,fe=null,ze=null,tt=void 0,Je=null,nt=!!K.dynamicChildren)=>{if(U===K)return;U&&!wf(U,K)&&(we=Se(U),ke(U,fe,ze,!0),U=null),K.patchFlag===-2&&(nt=!1,K.dynamicChildren=null);const{type:Xe,ref:ht,shapeFlag:vt}=K;switch(Xe){case a0:k(U,K,ne,we);break;case oc:T(U,K,ne,we);break;case Ry:U==null&&A(K,ne,we,tt);break;case Gt:de(U,K,ne,we,fe,ze,tt,Je,nt);break;default:vt&1?Z(U,K,ne,we,fe,ze,tt,Je,nt):vt&6?ce(U,K,ne,we,fe,ze,tt,Je,nt):(vt&64||vt&128)&&Xe.process(U,K,ne,we,fe,ze,tt,Je,nt,Fe)}ht!=null&&fe&&tw(ht,U&&U.ref,ze,K||U,!K)},k=(U,K,ne,we)=>{if(U==null)i(K.el=a(K.children),ne,we);else{const fe=K.el=U.el;K.children!==U.children&&u(fe,K.children)}},T=(U,K,ne,we)=>{U==null?i(K.el=l(K.children||""),ne,we):K.el=U.el},A=(U,K,ne,we)=>{[U.el,U.anchor]=x(U.children,K,ne,we,U.el,U.anchor)},R=({el:U,anchor:K},ne,we)=>{let fe;for(;U&&U!==K;)fe=m(U),i(U,ne,we),U=fe;i(K,ne,we)},F=({el:U,anchor:K})=>{let ne;for(;U&&U!==K;)ne=m(U),r(U),U=ne;r(K)},Z=(U,K,ne,we,fe,ze,tt,Je,nt)=>{K.type==="svg"?tt="svg":K.type==="math"&&(tt="mathml"),U==null?ee(K,ne,we,fe,ze,tt,Je,nt):M(U,K,fe,ze,tt,Je,nt)},ee=(U,K,ne,we,fe,ze,tt,Je)=>{let nt,Xe;const{props:ht,shapeFlag:vt,transition:Ge,dirs:ft}=U;if(nt=U.el=s(U.type,ze,ht&&ht.is,ht),vt&8?f(nt,U.children):vt&16&&L(U.children,nt,null,we,fe,Q_(U,ze),tt,Je),ft&&Nc(U,null,we,"created"),g(nt,U,U.scopeId,tt,we),ht){for(const Jt in ht)Jt!=="value"&&!zf(Jt)&&o(nt,Jt,null,ht[Jt],ze,U.children,we,fe,lt);"value"in ht&&o(nt,"value",null,ht.value,ze),(Xe=ht.onVnodeBeforeMount)&&Gs(Xe,we,U)}ft&&Nc(U,null,we,"beforeMount");const Et=kU(fe,Ge);Et&&Ge.beforeEnter(nt),i(nt,K,ne),((Xe=ht&&ht.onVnodeMounted)||Et||ft)&&eo(()=>{Xe&&Gs(Xe,we,U),Et&&Ge.enter(nt),ft&&Nc(U,null,we,"mounted")},fe)},g=(U,K,ne,we,fe)=>{if(ne&&b(U,ne),we)for(let ze=0;ze<we.length;ze++)b(U,we[ze]);if(fe){let ze=fe.subTree;if(K===ze){const tt=fe.vnode;g(U,tt,tt.scopeId,tt.slotScopeIds,fe.parent)}}},L=(U,K,ne,we,fe,ze,tt,Je,nt=0)=>{for(let Xe=nt;Xe<U.length;Xe++){const ht=U[Xe]=Je?Ml(U[Xe]):ea(U[Xe]);C(null,ht,K,ne,we,fe,ze,tt,Je)}},M=(U,K,ne,we,fe,ze,tt)=>{const Je=K.el=U.el;let{patchFlag:nt,dynamicChildren:Xe,dirs:ht}=K;nt|=U.patchFlag&16;const vt=U.props||hi,Ge=K.props||hi;let ft;if(ne&&Mc(ne,!1),(ft=Ge.onVnodeBeforeUpdate)&&Gs(ft,ne,K,U),ht&&Nc(K,U,ne,"beforeUpdate"),ne&&Mc(ne,!0),Xe?z(U.dynamicChildren,Xe,Je,ne,we,Q_(K,fe),ze):tt||j(U,K,Je,null,ne,we,Q_(K,fe),ze,!1),nt>0){if(nt&16)Q(Je,K,vt,Ge,ne,we,fe);else if(nt&2&&vt.class!==Ge.class&&o(Je,"class",null,Ge.class,fe),nt&4&&o(Je,"style",vt.style,Ge.style,fe),nt&8){const Et=K.dynamicProps;for(let Jt=0;Jt<Et.length;Jt++){const yn=Et[Jt],Fn=vt[yn],Rn=Ge[yn];(Rn!==Fn||yn==="value")&&o(Je,yn,Fn,Rn,fe,U.children,ne,we,lt)}}nt&1&&U.children!==K.children&&f(Je,K.children)}else!tt&&Xe==null&&Q(Je,K,vt,Ge,ne,we,fe);((ft=Ge.onVnodeUpdated)||ht)&&eo(()=>{ft&&Gs(ft,ne,K,U),ht&&Nc(K,U,ne,"updated")},we)},z=(U,K,ne,we,fe,ze,tt)=>{for(let Je=0;Je<K.length;Je++){const nt=U[Je],Xe=K[Je],ht=nt.el&&(nt.type===Gt||!wf(nt,Xe)||nt.shapeFlag&70)?d(nt.el):ne;C(nt,Xe,ht,null,we,fe,ze,tt,!0)}},Q=(U,K,ne,we,fe,ze,tt)=>{if(ne!==we){if(ne!==hi)for(const Je in ne)!zf(Je)&&!(Je in we)&&o(U,Je,ne[Je],null,tt,K.children,fe,ze,lt);for(const Je in we){if(zf(Je))continue;const nt=we[Je],Xe=ne[Je];nt!==Xe&&Je!=="value"&&o(U,Je,Xe,nt,tt,K.children,fe,ze,lt)}"value"in we&&o(U,"value",ne.value,we.value,tt)}},de=(U,K,ne,we,fe,ze,tt,Je,nt)=>{const Xe=K.el=U?U.el:a(""),ht=K.anchor=U?U.anchor:a("");let{patchFlag:vt,dynamicChildren:Ge,slotScopeIds:ft}=K;ft&&(Je=Je?Je.concat(ft):ft),U==null?(i(Xe,ne,we),i(ht,ne,we),L(K.children||[],ne,ht,fe,ze,tt,Je,nt)):vt>0&&vt&64&&Ge&&U.dynamicChildren?(z(U.dynamicChildren,Ge,ne,fe,ze,tt,Je),(K.key!=null||fe&&K===fe.subTree)&&w1(U,K,!0)):j(U,K,ne,ht,fe,ze,tt,Je,nt)},ce=(U,K,ne,we,fe,ze,tt,Je,nt)=>{K.slotScopeIds=Je,U==null?K.shapeFlag&512?fe.ctx.activate(K,ne,we,tt,nt):pe(K,ne,we,fe,ze,tt,nt):ae(U,K,nt)},pe=(U,K,ne,we,fe,ze,tt)=>{const Je=U.component=BU(U,we,fe);if(ZP(U)&&(Je.ctx.renderer=Fe),$U(Je),Je.asyncDep){if(fe&&fe.registerDep(Je,q),!U.el){const nt=Je.subTree=Dn(oc);T(null,nt,K,ne)}}else q(Je,U,K,ne,fe,ze,tt)},ae=(U,K,ne)=>{const we=K.component=U.component;if(jz(U,K,ne))if(we.asyncDep&&!we.asyncResolved){G(we,K,ne);return}else we.next=K,zz(we.update),we.effect.dirty=!0,we.update();else K.el=U.el,we.vnode=K},q=(U,K,ne,we,fe,ze,tt)=>{const Je=()=>{if(U.isMounted){let{next:ht,bu:vt,u:Ge,parent:ft,vnode:Et}=U;{const Cn=d2(U);if(Cn){ht&&(ht.el=Et.el,G(U,ht,tt)),Cn.asyncDep.then(()=>{U.isUnmounted||Je()});return}}let Jt=ht,yn;Mc(U,!1),ht?(ht.el=Et.el,G(U,ht,tt)):ht=Et,vt&&Ny(vt),(yn=ht.props&&ht.props.onVnodeBeforeUpdate)&&Gs(yn,ft,ht,Et),Mc(U,!0);const Fn=X_(U),Rn=U.subTree;U.subTree=Fn,C(Rn,Fn,d(Rn.el),Se(Rn),U,fe,ze),ht.el=Fn.el,Jt===null&&Kz(U,Fn.el),Ge&&eo(Ge,fe),(yn=ht.props&&ht.props.onVnodeUpdated)&&eo(()=>Gs(yn,ft,ht,Et),fe)}else{let ht;const{el:vt,props:Ge}=K,{bm:ft,m:Et,parent:Jt}=U,yn=Vf(K);if(Mc(U,!1),ft&&Ny(ft),!yn&&(ht=Ge&&Ge.onVnodeBeforeMount)&&Gs(ht,Jt,K),Mc(U,!0),vt&&Ie){const Fn=()=>{U.subTree=X_(U),Ie(vt,U.subTree,U,fe,null)};yn?K.type.__asyncLoader().then(()=>!U.isUnmounted&&Fn()):Fn()}else{const Fn=U.subTree=X_(U);C(null,Fn,ne,we,U,fe,ze),K.el=Fn.el}if(Et&&eo(Et,fe),!yn&&(ht=Ge&&Ge.onVnodeMounted)){const Fn=K;eo(()=>Gs(ht,Jt,Fn),fe)}(K.shapeFlag&256||Jt&&Vf(Jt.vnode)&&Jt.vnode.shapeFlag&256)&&U.a&&eo(U.a,fe),U.isMounted=!0,K=ne=we=null}},nt=U.effect=new d1(Je,Wo,()=>b1(Xe),U.scope),Xe=U.update=()=>{nt.dirty&&nt.run()};Xe.id=U.uid,Mc(U,!0),Xe()},G=(U,K,ne)=>{K.component=U;const we=U.vnode.props;U.vnode=K,U.next=null,wU(U,K.props,we,ne),SU(U,K.children,ne),dc(),_E(U),hc()},j=(U,K,ne,we,fe,ze,tt,Je,nt=!1)=>{const Xe=U&&U.children,ht=U?U.shapeFlag:0,vt=K.children,{patchFlag:Ge,shapeFlag:ft}=K;if(Ge>0){if(Ge&128){le(Xe,vt,ne,we,fe,ze,tt,Je,nt);return}else if(Ge&256){te(Xe,vt,ne,we,fe,ze,tt,Je,nt);return}}ft&8?(ht&16&&lt(Xe,fe,ze),vt!==Xe&&f(ne,vt)):ht&16?ft&16?le(Xe,vt,ne,we,fe,ze,tt,Je,nt):lt(Xe,fe,ze,!0):(ht&8&&f(ne,""),ft&16&&L(vt,ne,we,fe,ze,tt,Je,nt))},te=(U,K,ne,we,fe,ze,tt,Je,nt)=>{U=U||Cd,K=K||Cd;const Xe=U.length,ht=K.length,vt=Math.min(Xe,ht);let Ge;for(Ge=0;Ge<vt;Ge++){const ft=K[Ge]=nt?Ml(K[Ge]):ea(K[Ge]);C(U[Ge],ft,ne,null,fe,ze,tt,Je,nt)}Xe>ht?lt(U,fe,ze,!0,!1,vt):L(K,ne,we,fe,ze,tt,Je,nt,vt)},le=(U,K,ne,we,fe,ze,tt,Je,nt)=>{let Xe=0;const ht=K.length;let vt=U.length-1,Ge=ht-1;for(;Xe<=vt&&Xe<=Ge;){const ft=U[Xe],Et=K[Xe]=nt?Ml(K[Xe]):ea(K[Xe]);if(wf(ft,Et))C(ft,Et,ne,null,fe,ze,tt,Je,nt);else break;Xe++}for(;Xe<=vt&&Xe<=Ge;){const ft=U[vt],Et=K[Ge]=nt?Ml(K[Ge]):ea(K[Ge]);if(wf(ft,Et))C(ft,Et,ne,null,fe,ze,tt,Je,nt);else break;vt--,Ge--}if(Xe>vt){if(Xe<=Ge){const ft=Ge+1,Et=ft<ht?K[ft].el:we;for(;Xe<=Ge;)C(null,K[Xe]=nt?Ml(K[Xe]):ea(K[Xe]),ne,Et,fe,ze,tt,Je,nt),Xe++}}else if(Xe>Ge)for(;Xe<=vt;)ke(U[Xe],fe,ze,!0),Xe++;else{const ft=Xe,Et=Xe,Jt=new Map;for(Xe=Et;Xe<=Ge;Xe++){const Qn=K[Xe]=nt?Ml(K[Xe]):ea(K[Xe]);Qn.key!=null&&Jt.set(Qn.key,Xe)}let yn,Fn=0;const Rn=Ge-Et+1;let Cn=!1,bn=0;const Gn=new Array(Rn);for(Xe=0;Xe<Rn;Xe++)Gn[Xe]=0;for(Xe=ft;Xe<=vt;Xe++){const Qn=U[Xe];if(Fn>=Rn){ke(Qn,fe,ze,!0);continue}let ti;if(Qn.key!=null)ti=Jt.get(Qn.key);else for(yn=Et;yn<=Ge;yn++)if(Gn[yn-Et]===0&&wf(Qn,K[yn])){ti=yn;break}ti===void 0?ke(Qn,fe,ze,!0):(Gn[ti-Et]=Xe+1,ti>=bn?bn=ti:Cn=!0,C(Qn,K[ti],ne,null,fe,ze,tt,Je,nt),Fn++)}const yi=Cn?IU(Gn):Cd;for(yn=yi.length-1,Xe=Rn-1;Xe>=0;Xe--){const Qn=Et+Xe,ti=K[Qn],Bi=Qn+1<ht?K[Qn+1].el:we;Gn[Xe]===0?C(null,ti,ne,Bi,fe,ze,tt,Je,nt):Cn&&(yn<0||Xe!==yi[yn]?Ae(ti,ne,Bi,2):yn--)}}},Ae=(U,K,ne,we,fe=null)=>{const{el:ze,type:tt,transition:Je,children:nt,shapeFlag:Xe}=U;if(Xe&6){Ae(U.component.subTree,K,ne,we);return}if(Xe&128){U.suspense.move(K,ne,we);return}if(Xe&64){tt.move(U,K,ne,Fe);return}if(tt===Gt){i(ze,K,ne);for(let vt=0;vt<nt.length;vt++)Ae(nt[vt],K,ne,we);i(U.anchor,K,ne);return}if(tt===Ry){R(U,K,ne);return}if(we!==2&&Xe&1&&Je)if(we===0)Je.beforeEnter(ze),i(ze,K,ne),eo(()=>Je.enter(ze),fe);else{const{leave:vt,delayLeave:Ge,afterLeave:ft}=Je,Et=()=>i(ze,K,ne),Jt=()=>{vt(ze,()=>{Et(),ft&&ft()})};Ge?Ge(ze,Et,Jt):Jt()}else i(ze,K,ne)},ke=(U,K,ne,we=!1,fe=!1)=>{const{type:ze,props:tt,ref:Je,children:nt,dynamicChildren:Xe,shapeFlag:ht,patchFlag:vt,dirs:Ge}=U;if(Je!=null&&tw(Je,null,ne,U,!0),ht&256){K.ctx.deactivate(U);return}const ft=ht&1&&Ge,Et=!Vf(U);let Jt;if(Et&&(Jt=tt&&tt.onVnodeBeforeUnmount)&&Gs(Jt,K,U),ht&6)st(U.component,ne,we);else{if(ht&128){U.suspense.unmount(ne,we);return}ft&&Nc(U,null,K,"beforeUnmount"),ht&64?U.type.remove(U,K,ne,fe,Fe,we):Xe&&(ze!==Gt||vt>0&&vt&64)?lt(Xe,K,ne,!1,!0):(ze===Gt&&vt&384||!fe&&ht&16)&&lt(nt,K,ne),we&&rt(U)}(Et&&(Jt=tt&&tt.onVnodeUnmounted)||ft)&&eo(()=>{Jt&&Gs(Jt,K,U),ft&&Nc(U,null,K,"unmounted")},ne)},rt=U=>{const{type:K,el:ne,anchor:we,transition:fe}=U;if(K===Gt){Be(ne,we);return}if(K===Ry){F(U);return}const ze=()=>{r(ne),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(U.shapeFlag&1&&fe&&!fe.persisted){const{leave:tt,delayLeave:Je}=fe,nt=()=>tt(ne,ze);Je?Je(U.el,ze,nt):nt()}else ze()},Be=(U,K)=>{let ne;for(;U!==K;)ne=m(U),r(U),U=ne;r(K)},st=(U,K,ne)=>{const{bum:we,scope:fe,update:ze,subTree:tt,um:Je}=U;we&&Ny(we),fe.stop(),ze&&(ze.active=!1,ke(tt,U,K,ne)),Je&&eo(Je,K),eo(()=>{U.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},lt=(U,K,ne,we=!1,fe=!1,ze=0)=>{for(let tt=ze;tt<U.length;tt++)ke(U[tt],K,ne,we,fe)},Se=U=>U.shapeFlag&6?Se(U.component.subTree):U.shapeFlag&128?U.suspense.next():m(U.anchor||U.el);let $e=!1;const qe=(U,K,ne)=>{U==null?K._vnode&&ke(K._vnode,null,null,!0):C(K._vnode||null,U,K,null,null,null,ne),$e||($e=!0,_E(),WP(),$e=!1),K._vnode=U},Fe={p:C,um:ke,m:Ae,r:rt,mt:pe,mc:L,pc:j,pbc:z,n:Se,o:e};let xe,Ie;return t&&([xe,Ie]=t(Fe)),{render:qe,hydrate:xe,createApp:_U(qe,xe)}}function Q_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Mc({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function kU(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function w1(e,t,n=!1){const i=e.children,r=t.children;if(Wt(i)&&Wt(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Ml(r[o]),a.el=s.el),n||w1(s,a)),a.type===a0&&(a.el=s.el)}}function IU(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<u?o=a+1:s=a;u<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function d2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:d2(t)}const PU=e=>e.__isTeleport,jf=e=>e&&(e.disabled||e.disabled===""),LE=e=>typeof SVGElement<"u"&&e instanceof SVGElement,DE=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,nw=(e,t)=>{const n=e&&e.to;return Oi(n)?t?t(n):null:n},OU={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,o,s,a,l,u){const{mc:f,pc:d,pbc:m,o:{insert:b,querySelector:x,createText:C,createComment:k}}=u,T=jf(t.props);let{shapeFlag:A,children:R,dynamicChildren:F}=t;if(e==null){const Z=t.el=C(""),ee=t.anchor=C("");b(Z,n,i),b(ee,n,i);const g=t.target=nw(t.props,x),L=t.targetAnchor=C("");g&&(b(L,g),s==="svg"||LE(g)?s="svg":(s==="mathml"||DE(g))&&(s="mathml"));const M=(z,Q)=>{A&16&&f(R,z,Q,r,o,s,a,l)};T?M(n,ee):g&&M(g,L)}else{t.el=e.el;const Z=t.anchor=e.anchor,ee=t.target=e.target,g=t.targetAnchor=e.targetAnchor,L=jf(e.props),M=L?n:ee,z=L?Z:g;if(s==="svg"||LE(ee)?s="svg":(s==="mathml"||DE(ee))&&(s="mathml"),F?(m(e.dynamicChildren,F,M,r,o,s,a),w1(e,t,!0)):l||d(e,t,M,z,r,o,s,a,!1),T)L?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):iy(t,n,Z,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Q=t.target=nw(t.props,x);Q&&iy(t,Q,null,u,0)}else L&&iy(t,ee,g,u,1)}h2(t)},remove(e,t,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:f,target:d,props:m}=e;if(d&&o(f),s&&o(u),a&16){const b=s||!jf(m);for(let x=0;x<l.length;x++){const C=l[x];r(C,t,n,b,!!C.dynamicChildren)}}},move:iy,hydrate:LU};function iy(e,t,n,{o:{insert:i},m:r},o=2){o===0&&i(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:f}=e,d=o===2;if(d&&i(s,t,n),(!d||jf(f))&&l&16)for(let m=0;m<u.length;m++)r(u[m],t,n,2);d&&i(a,t,n)}function LU(e,t,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const f=t.target=nw(t.props,l);if(f){const d=f._lpa||f.firstChild;if(t.shapeFlag&16)if(jf(t.props))t.anchor=u(s(e),t,a(e),n,i,r,o),t.targetAnchor=d;else{t.anchor=s(e);let m=d;for(;m;)if(m=s(m),m&&m.nodeType===8&&m.data==="teleport anchor"){t.targetAnchor=m,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(d,t,f,n,i,r,o)}h2(t)}return t.anchor&&s(t.anchor)}const iw=OU;function h2(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Gt=Symbol.for("v-fgt"),a0=Symbol.for("v-txt"),oc=Symbol.for("v-cmt"),Ry=Symbol.for("v-stc"),Kf=[];let xs=null;function He(e=!1){Kf.push(xs=e?null:[])}function DU(){Kf.pop(),xs=Kf[Kf.length-1]||null}let up=1;function NE(e){up+=e}function f2(e){return e.dynamicChildren=up>0?xs||Cd:null,DU(),up>0&&xs&&xs.push(e),e}function Ke(e,t,n,i,r,o){return f2(X(e,t,n,i,r,o,!0))}function tl(e,t,n,i,r){return f2(Dn(e,t,n,i,r,!0))}function cv(e){return e?e.__v_isVNode===!0:!1}function wf(e,t){return e.type===t.type&&e.key===t.key}const p2=({key:e})=>e??null,By=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Oi(e)||uo(e)||rn(e)?{i:Qi,r:e,k:t,f:!!n}:e:null);function X(e,t=null,n=null,i=0,r=null,o=e===Gt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&p2(t),ref:t&&By(t),scopeId:YP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Qi};return a?(C1(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Oi(n)?8:16),up>0&&!s&&xs&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xs.push(l),l}const Dn=NU;function NU(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===Yz)&&(e=oc),cv(e)){const a=Eh(e,t,!0);return n&&C1(a,n),up>0&&!o&&xs&&(a.shapeFlag&6?xs[xs.indexOf(e)]=a:xs.push(a)),a.patchFlag|=-2,a}if(VU(e)&&(e=e.__vccOpts),t){t=l0(t);let{class:a,style:l}=t;a&&!Oi(a)&&(t.class=mn(a)),li(l)&&($P(l)&&!Wt(l)&&(l=or({},l)),t.style=Zb(l))}const s=Oi(e)?1:Jz(e)?128:PU(e)?64:li(e)?4:rn(e)?2:0;return X(e,t,n,i,r,s,o,!0)}function l0(e){return e?$P(e)||Object.getPrototypeOf(e)===o2?or({},e):e:null}function Eh(e,t,n=!1){const{props:i,ref:r,patchFlag:o,children:s}=e,a=t?MU(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&p2(a),ref:t&&t.ref?n&&r?Wt(r)?r.concat(By(t)):[r,By(t)]:By(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Eh(e.ssContent),ssFallback:e.ssFallback&&Eh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ii(e=" ",t=0){return Dn(a0,null,e,t)}function g2(e,t){const n=Dn(Ry,null,e);return n.staticCount=t,n}function cn(e="",t=!1){return t?(He(),tl(oc,null,e)):Dn(oc,null,e)}function ea(e){return e==null||typeof e=="boolean"?Dn(oc):Wt(e)?Dn(Gt,null,e.slice()):typeof e=="object"?Ml(e):Dn(a0,null,String(e))}function Ml(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Eh(e)}function C1(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Wt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),C1(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;r?r===3&&Qi&&(Qi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Qi}else rn(t)?(t={default:t,_ctx:Qi},n=32):(t=String(t),i&64?(n=16,t=[ii(t)]):n=8);e.children=t,e.shapeFlag|=n}function MU(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=mn([t.class,i.class]));else if(r==="style")t.style=Zb([t.style,i.style]);else if(Xb(r)){const o=t[r],s=i[r];s&&o!==s&&!(Wt(o)&&o.includes(s))&&(t[r]=o?[].concat(o,s):s)}else r!==""&&(t[r]=i[r])}return t}function Gs(e,t,n,i=null){Cs(e,t,7,[n,i])}const FU=r2();let RU=0;function BU(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||FU,o={uid:RU++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new hz(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:a2(i,r),emitsOptions:KP(i,r),emit:null,emitted:null,propsDefaults:hi,inheritAttrs:i.inheritAttrs,ctx:hi,data:hi,props:hi,attrs:hi,slots:hi,refs:hi,setupState:hi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Vz.bind(null,o),e.ce&&e.ce(o),o}let yr=null,uv,rw;{const e=CP(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),o=>{r.length>1?r.forEach(s=>s(o)):r[0](o)}};uv=t("__VUE_INSTANCE_SETTERS__",n=>yr=n),rw=t("__VUE_SSR_SETTERS__",n=>c0=n)}const Yg=e=>{const t=yr;return uv(e),e.scope.on(),()=>{e.scope.off(),uv(t)}},ME=()=>{yr&&yr.scope.off(),uv(null)};function m2(e){return e.vnode.shapeFlag&4}let c0=!1;function $U(e,t=!1){t&&rw(t);const{props:n,children:i}=e.vnode,r=m2(e);xU(e,n,r,t),TU(e,i);const o=r?qU(e,t):void 0;return t&&rw(!1),o}function qU(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fU);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?UU(e):null,o=Yg(e);dc();const s=tc(i,e,0,[e.props,r]);if(hc(),o(),bP(s)){if(s.then(ME,ME),t)return s.then(a=>{FE(e,a,t)}).catch(a=>{n0(a,e,0)});e.asyncDep=s}else FE(e,s,t)}else y2(e,t)}function FE(e,t,n){rn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:li(t)&&(e.setupState=HP(t)),y2(e,n)}let RE;function y2(e,t,n){const i=e.type;if(!e.render){if(!t&&RE&&!i.render){const r=i.template||_1(e).template;if(r){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=or(or({isCustomElement:o,delimiters:a},s),l);i.render=RE(r,u)}}e.render=i.render||Wo}{const r=Yg(e);dc();try{pU(e)}finally{hc(),r()}}}const zU={get(e,t){return co(e,"get",""),e[t]}};function UU(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,zU),slots:e.slots,emit:e.emit,expose:t}}function u0(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(HP(Nz(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gf)return Gf[n](e)},has(t,n){return n in t||n in Gf}}))}function HU(e,t=!0){return rn(e)?e.displayName||e.name:e.name||t&&e.__name}function VU(e){return rn(e)&&"__vccOpts"in e}const Jn=(e,t)=>Mz(e,t,c0);function v2(e,t,n){const i=arguments.length;return i===2?li(t)&&!Wt(t)?cv(t)?Dn(e,null,[t]):Dn(e,t):Dn(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cv(n)&&(n=[n]),Dn(e,t,n))}const GU="3.4.22";/**
* @vue/runtime-dom v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const WU="http://www.w3.org/2000/svg",jU="http://www.w3.org/1998/Math/MathML",Fl=typeof document<"u"?document:null,BE=Fl&&Fl.createElement("template"),KU={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?Fl.createElementNS(WU,e):t==="mathml"?Fl.createElementNS(jU,e):Fl.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Fl.createTextNode(e),createComment:e=>Fl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const s=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{BE.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=BE.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},YU=Symbol("_vtc");function XU(e,t,n){const i=e[YU];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const dv=Symbol("_vod"),b2=Symbol("_vsh"),ir={beforeMount(e,{value:t},{transition:n}){e[dv]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Cf(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Cf(e,!0),i.enter(e)):i.leave(e,()=>{Cf(e,!1)}):Cf(e,t))},beforeUnmount(e,{value:t}){Cf(e,t)}};function Cf(e,t){e.style.display=t?e[dv]:"none",e[b2]=!t}const JU=Symbol(""),QU=/(^|;)\s*display\s*:/;function ZU(e,t,n){const i=e.style,r=Oi(n);let o=!1;if(n&&!r){if(t)if(Oi(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&$y(i,a,"")}else for(const s in t)n[s]==null&&$y(i,s,"");for(const s in n)s==="display"&&(o=!0),$y(i,s,n[s])}else if(r){if(t!==n){const s=i[JU];s&&(n+=";"+s),i.cssText=n,o=QU.test(n)}}else t&&e.removeAttribute("style");dv in e&&(e[dv]=o?i.display:"",e[b2]&&(i.display="none"))}const $E=/\s*!important$/;function $y(e,t,n){if(Wt(n))n.forEach(i=>$y(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=e4(e,t);$E.test(n)?e.setProperty(ku(i),n.replace($E,""),"important"):e[i]=n}}const qE=["Webkit","Moz","ms"],Z_={};function e4(e,t){const n=Z_[t];if(n)return n;let i=da(t);if(i!=="filter"&&i in e)return Z_[t]=i;i=Qb(i);for(let r=0;r<qE.length;r++){const o=qE[r]+i;if(o in e)return Z_[t]=o}return t}const zE="http://www.w3.org/1999/xlink";function t4(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(zE,t.slice(6,t.length)):e.setAttributeNS(zE,t,n);else{const o=uz(t);n==null||o&&!TP(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function n4(e,t,n,i,r,o,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,f=n??"";(u!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=TP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function $l(e,t,n,i){e.addEventListener(t,n,i)}function i4(e,t,n,i){e.removeEventListener(t,n,i)}const UE=Symbol("_vei");function r4(e,t,n,i,r=null){const o=e[UE]||(e[UE]={}),s=o[t];if(i&&s)s.value=i;else{const[a,l]=o4(t);if(i){const u=o[t]=l4(i,r);$l(e,a,u,l)}else s&&(i4(e,a,s,l),o[t]=void 0)}}const HE=/(?:Once|Passive|Capture)$/;function o4(e){let t;if(HE.test(e)){t={};let i;for(;i=e.match(HE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ku(e.slice(2)),t]}let ex=0;const s4=Promise.resolve(),a4=()=>ex||(s4.then(()=>ex=0),ex=Date.now());function l4(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Cs(c4(i,n.value),t,5,[i])};return n.value=e,n.attached=a4(),n}function c4(e,t){if(Wt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const VE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,u4=(e,t,n,i,r,o,s,a,l)=>{const u=r==="svg";t==="class"?XU(e,i,u):t==="style"?ZU(e,n,i):Xb(t)?s1(t)||r4(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):d4(e,t,i,u))?n4(e,t,i,o,s,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),t4(e,t,i,u))};function d4(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&VE(t)&&rn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return VE(t)&&Oi(n)?!1:t in e}const Ah=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Wt(t)?n=>Ny(t,n):t};function h4(e){e.target.composing=!0}function GE(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qa=Symbol("_assign"),vs={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Qa]=Ah(r);const o=i||r.props&&r.props.type==="number";$l(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=ov(a)),e[Qa](a)}),n&&$l(e,"change",()=>{e.value=e.value.trim()}),t||($l(e,"compositionstart",h4),$l(e,"compositionend",GE),$l(e,"change",GE))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},o){if(e[Qa]=Ah(o),e.composing)return;const s=(r||e.type==="number")&&!/^0\d/.test(e.value)?ov(e.value):e.value,a=t??"";s!==a&&(document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===a)||(e.value=a))}},Ed={deep:!0,created(e,t,n){e[Qa]=Ah(n),$l(e,"change",()=>{const i=e._modelValue,r=dp(e),o=e.checked,s=e[Qa];if(Wt(i)){const a=u1(i,r),l=a!==-1;if(o&&!l)s(i.concat(r));else if(!o&&l){const u=[...i];u.splice(a,1),s(u)}}else if(Gh(i)){const a=new Set(i);o?a.add(r):a.delete(r),s(a)}else s(_2(e,o))})},mounted:WE,beforeUpdate(e,t,n){e[Qa]=Ah(n),WE(e,t,n)}};function WE(e,{value:t,oldValue:n},i){e._modelValue=t,Wt(t)?e.checked=u1(t,i.props.value)>-1:Gh(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Kg(t,_2(e,!0)))}const kh={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Gh(t);$l(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?ov(dp(s)):dp(s));e[Qa](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,i0(()=>{e._assigning=!1})}),e[Qa]=Ah(i)},mounted(e,{value:t,modifiers:{number:n}}){jE(e,t)},beforeUpdate(e,t,n){e[Qa]=Ah(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||jE(e,t)}};function jE(e,t,n){const i=e.multiple,r=Wt(t);if(!(i&&!r&&!Gh(t))){for(let o=0,s=e.options.length;o<s;o++){const a=e.options[o],l=dp(a);if(i)if(r){const u=typeof l;u==="string"||u==="number"?a.selected=t.some(f=>String(f)===String(l)):a.selected=u1(t,l)>-1}else a.selected=t.has(l);else if(Kg(dp(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function dp(e){return"_value"in e?e._value:e.value}function _2(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const f4=["ctrl","shift","alt","meta"],p4={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>f4.some(n=>e[`${n}Key`]&&!t.includes(n))},ry=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...o)=>{for(let s=0;s<t.length;s++){const a=p4[t[s]];if(a&&a(r,t))return}return e(r,...o)})},g4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oy=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const o=ku(r.key);if(t.some(s=>s===o||g4[s]===o))return e(r)})},m4=or({patchProp:u4},KU);let KE;function y4(){return KE||(KE=EU(m4))}const v4=(...e)=>{const t=y4().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=_4(i);if(!r)return;const o=t._component;!rn(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,b4(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function b4(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _4(e){return Oi(e)?document.querySelector(e):e}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const cd=typeof document<"u";function x4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Yn=Object.assign;function tx(e,t){const n={};for(const i in t){const r=t[i];n[i]=Ss(r)?r.map(e):e(r)}return n}const Yf=()=>{},Ss=Array.isArray,x2=/#/g,w4=/&/g,C4=/\//g,T4=/=/g,S4=/\?/g,w2=/\+/g,E4=/%5B/g,A4=/%5D/g,C2=/%5E/g,k4=/%60/g,T2=/%7B/g,I4=/%7C/g,S2=/%7D/g,P4=/%20/g;function T1(e){return encodeURI(""+e).replace(I4,"|").replace(E4,"[").replace(A4,"]")}function O4(e){return T1(e).replace(T2,"{").replace(S2,"}").replace(C2,"^")}function ow(e){return T1(e).replace(w2,"%2B").replace(P4,"+").replace(x2,"%23").replace(w4,"%26").replace(k4,"`").replace(T2,"{").replace(S2,"}").replace(C2,"^")}function L4(e){return ow(e).replace(T4,"%3D")}function D4(e){return T1(e).replace(x2,"%23").replace(S4,"%3F")}function N4(e){return e==null?"":D4(e).replace(C4,"%2F")}function hp(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const M4=/\/$/,F4=e=>e.replace(M4,"");function nx(e,t,n="/"){let i,r={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=q4(i??t,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:hp(s)}}function R4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function YE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function B4(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Ih(t.matched[i],n.matched[r])&&E2(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ih(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function E2(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$4(e[n],t[n]))return!1;return!0}function $4(e,t){return Ss(e)?XE(e,t):Ss(t)?XE(t,e):e===t}function XE(e,t){return Ss(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function q4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s).join("/")}var fp;(function(e){e.pop="pop",e.push="push"})(fp||(fp={}));var Xf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Xf||(Xf={}));function z4(e){if(!e)if(cd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),F4(e)}const U4=/^[^#]+#/;function H4(e,t){return e.replace(U4,"#")+t}function V4(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const d0=()=>({left:window.scrollX,top:window.scrollY});function G4(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=V4(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function JE(e,t){return(history.state?history.state.position-t:-1)+e}const sw=new Map;function W4(e,t){sw.set(e,t)}function j4(e){const t=sw.get(e);return sw.delete(e),t}let K4=()=>location.protocol+"//"+location.host;function A2(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),YE(l,"")}return YE(n,e)+i+r}function Y4(e,t,n,i){let r=[],o=[],s=null;const a=({state:m})=>{const b=A2(e,location),x=n.value,C=t.value;let k=0;if(m){if(n.value=b,t.value=m,s&&s===x){s=null;return}k=C?m.position-C.position:0}else i(b);r.forEach(T=>{T(n.value,x,{delta:k,type:fp.pop,direction:k?k>0?Xf.forward:Xf.back:Xf.unknown})})};function l(){s=n.value}function u(m){r.push(m);const b=()=>{const x=r.indexOf(m);x>-1&&r.splice(x,1)};return o.push(b),b}function f(){const{history:m}=window;m.state&&m.replaceState(Yn({},m.state,{scroll:d0()}),"")}function d(){for(const m of o)m();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function QE(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?d0():null}}function X4(e){const{history:t,location:n}=window,i={value:A2(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,u,f){const d=e.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:K4()+e+l;try{t[f?"replaceState":"pushState"](u,"",m),r.value=u}catch(b){console.error(b),n[f?"replace":"assign"](m)}}function s(l,u){const f=Yn({},t.state,QE(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});o(l,f,!0),i.value=l}function a(l,u){const f=Yn({},r.value,t.state,{forward:l,scroll:d0()});o(f.current,f,!0);const d=Yn({},QE(i.value,l,null),{position:f.position+1},u);o(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:s}}function J4(e){e=z4(e);const t=X4(e),n=Y4(e,t.state,t.location,t.replace);function i(o,s=!0){s||n.pauseListeners(),history.go(o)}const r=Yn({location:"",base:e,go:i,createHref:H4.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Q4(e){return typeof e=="string"||e&&typeof e=="object"}function k2(e){return typeof e=="string"||typeof e=="symbol"}const kl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},I2=Symbol("");var ZE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ZE||(ZE={}));function Ph(e,t){return Yn(new Error,{type:e,[I2]:!0},t)}function Ra(e,t){return e instanceof Error&&I2 in e&&(t==null||!!(e.type&t))}const eA="[^/]+?",Z4={sensitive:!1,strict:!1,start:!0,end:!0},e6=/[.+*?^${}()[\]/\\]/g;function t6(e,t){const n=Yn({},Z4,t),i=[];let r=n.start?"^":"";const o=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const m=u[d];let b=40+(n.sensitive?.25:0);if(m.type===0)d||(r+="/"),r+=m.value.replace(e6,"\\$&"),b+=40;else if(m.type===1){const{value:x,repeatable:C,optional:k,regexp:T}=m;o.push({name:x,repeatable:C,optional:k});const A=T||eA;if(A!==eA){b+=10;try{new RegExp(`(${A})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${x}" (${A}): `+F.message)}}let R=C?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(R=k&&u.length<2?`(?:/${R})`:"/"+R),k&&(R+="?"),r+=R,b+=20,k&&(b+=-8),C&&(b+=-20),A===".*"&&(b+=-50)}f.push(b)}i.push(f)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function a(u){const f=u.match(s),d={};if(!f)return null;for(let m=1;m<f.length;m++){const b=f[m]||"",x=o[m-1];d[x.name]=b&&x.repeatable?b.split("/"):b}return d}function l(u){let f="",d=!1;for(const m of e){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const b of m)if(b.type===0)f+=b.value;else if(b.type===1){const{value:x,repeatable:C,optional:k}=b,T=x in u?u[x]:"";if(Ss(T)&&!C)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const A=Ss(T)?T.join("/"):T;if(!A)if(k)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${x}"`);f+=A}}return f||"/"}return{re:s,score:i,keys:o,parse:a,stringify:l}}function n6(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function i6(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=n6(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(tA(i))return 1;if(tA(r))return-1}return r.length-i.length}function tA(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const r6={type:0,value:""},o6=/[a-zA-Z0-9_]/;function s6(e){if(!e)return[[]];if(e==="/")return[[r6]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${u}": ${b}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a=0,l,u="",f="";function d(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),s()):l===":"?(d(),n=1):m();break;case 4:m(),n=i;break;case 1:l==="("?n=2:o6.test(l)?m():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=3:f+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),s(),r}function a6(e,t,n){const i=t6(s6(e.path),n),r=Yn(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function l6(e,t){const n=[],i=new Map;t=rA({strict:!1,end:!0,sensitive:!1},t);function r(f){return i.get(f)}function o(f,d,m){const b=!m,x=c6(f);x.aliasOf=m&&m.record;const C=rA(t,f),k=[x];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const F of R)k.push(Yn({},x,{components:m?m.record.components:x.components,path:F,aliasOf:m?m.record:x}))}let T,A;for(const R of k){const{path:F}=R;if(d&&F[0]!=="/"){const Z=d.record.path,ee=Z[Z.length-1]==="/"?"":"/";R.path=d.record.path+(F&&ee+F)}if(T=a6(R,d,C),m?m.alias.push(T):(A=A||T,A!==T&&A.alias.push(T),b&&f.name&&!iA(T)&&s(f.name)),x.children){const Z=x.children;for(let ee=0;ee<Z.length;ee++)o(Z[ee],T,m&&m.children[ee])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&l(T)}return A?()=>{s(A)}:Yf}function s(f){if(k2(f)){const d=i.get(f);d&&(i.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function a(){return n}function l(f){let d=0;for(;d<n.length&&i6(f,n[d])>=0&&(f.record.path!==n[d].record.path||!P2(f,n[d]));)d++;n.splice(d,0,f),f.record.name&&!iA(f)&&i.set(f.record.name,f)}function u(f,d){let m,b={},x,C;if("name"in f&&f.name){if(m=i.get(f.name),!m)throw Ph(1,{location:f});C=m.record.name,b=Yn(nA(d.params,m.keys.filter(A=>!A.optional).concat(m.parent?m.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&nA(f.params,m.keys.map(A=>A.name))),x=m.stringify(b)}else if(f.path!=null)x=f.path,m=n.find(A=>A.re.test(x)),m&&(b=m.parse(x),C=m.record.name);else{if(m=d.name?i.get(d.name):n.find(A=>A.re.test(d.path)),!m)throw Ph(1,{location:f,currentLocation:d});C=m.record.name,b=Yn({},d.params,f.params),x=m.stringify(b)}const k=[];let T=m;for(;T;)k.unshift(T.record),T=T.parent;return{name:C,path:x,params:b,matched:k,meta:d6(k)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:r}}function nA(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function c6(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:u6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function u6(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function iA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function d6(e){return e.reduce((t,n)=>Yn(t,n.meta),{})}function rA(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function P2(e,t){return t.children.some(n=>n===e||P2(e,n))}function h6(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(w2," "),s=o.indexOf("="),a=hp(s<0?o:o.slice(0,s)),l=s<0?null:hp(o.slice(s+1));if(a in t){let u=t[a];Ss(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function oA(e){let t="";for(let n in e){const i=e[n];if(n=L4(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ss(i)?i.map(o=>o&&ow(o)):[i&&ow(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function f6(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Ss(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const p6=Symbol(""),sA=Symbol(""),h0=Symbol(""),O2=Symbol(""),aw=Symbol("");function Tf(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Rl(e,t,n,i,r,o=s=>s()){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=m=>{m===!1?l(Ph(4,{from:n,to:t})):m instanceof Error?l(m):Q4(m)?l(Ph(2,{from:t,to:m})):(s&&i.enterCallbacks[r]===s&&typeof m=="function"&&s.push(m),a())},f=o(()=>e.call(i&&i.instances[r],t,n,u));let d=Promise.resolve(f);e.length<3&&(d=d.then(u)),d.catch(m=>l(m))})}function ix(e,t,n,i,r=o=>o()){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(g6(l)){const f=(l.__vccOpts||l)[t];f&&o.push(Rl(f,n,i,s,a,r))}else{let u=l();o.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=x4(f)?f.default:f;s.components[a]=d;const b=(d.__vccOpts||d)[t];return b&&Rl(b,n,i,s,a,r)()}))}}return o}function g6(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function aA(e){const t=ra(h0),n=ra(O2),i=Jn(()=>t.resolve(Xn(e.to))),r=Jn(()=>{const{matched:l}=i.value,{length:u}=l,f=l[u-1],d=n.matched;if(!f||!d.length)return-1;const m=d.findIndex(Ih.bind(null,f));if(m>-1)return m;const b=lA(l[u-2]);return u>1&&lA(f)===b&&d[d.length-1].path!==b?d.findIndex(Ih.bind(null,l[u-2])):m}),o=Jn(()=>r.value>-1&&b6(n.params,i.value.params)),s=Jn(()=>r.value>-1&&r.value===n.matched.length-1&&E2(n.params,i.value.params));function a(l={}){return v6(l)?t[Xn(e.replace)?"replace":"push"](Xn(e.to)).catch(Yf):Promise.resolve()}return{route:i,href:Jn(()=>i.value.href),isActive:o,isExactActive:s,navigate:a}}const m6=Zi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:aA,setup(e,{slots:t}){const n=t0(aA(e)),{options:i}=ra(h0),r=Jn(()=>({[cA(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[cA(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:v2("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),y6=m6;function v6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function b6(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Ss(r)||r.length!==i.length||i.some((o,s)=>o!==r[s]))return!1}return!0}function lA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cA=(e,t,n)=>e??t??n,_6=Zi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ra(aw),r=Jn(()=>e.route||i.value),o=ra(sA,0),s=Jn(()=>{let u=Xn(o);const{matched:f}=r.value;let d;for(;(d=f[u])&&!d.components;)u++;return u}),a=Jn(()=>r.value.matched[s.value]);Fy(sA,Jn(()=>s.value+1)),Fy(p6,a),Fy(aw,r);const l=nn();return Hf(()=>[l.value,a.value,e.name],([u,f,d],[m,b,x])=>{f&&(f.instances[d]=u,b&&b!==f&&u&&u===m&&(f.leaveGuards.size||(f.leaveGuards=b.leaveGuards),f.updateGuards.size||(f.updateGuards=b.updateGuards))),u&&f&&(!b||!Ih(f,b)||!m)&&(f.enterCallbacks[d]||[]).forEach(C=>C(u))},{flush:"post"}),()=>{const u=r.value,f=e.name,d=a.value,m=d&&d.components[f];if(!m)return uA(n.default,{Component:m,route:u});const b=d.props[f],x=b?b===!0?u.params:typeof b=="function"?b(u):b:null,k=v2(m,Yn({},x,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(d.instances[f]=null)},ref:l}));return uA(n.default,{Component:k,route:u})||k}}});function uA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const x6=_6;function w6(e){const t=l6(e.routes,e),n=e.parseQuery||h6,i=e.stringifyQuery||oA,r=e.history,o=Tf(),s=Tf(),a=Tf(),l=Fz(kl);let u=kl;cd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=tx.bind(null,Se=>""+Se),d=tx.bind(null,N4),m=tx.bind(null,hp);function b(Se,$e){let qe,Fe;return k2(Se)?(qe=t.getRecordMatcher(Se),Fe=$e):Fe=Se,t.addRoute(Fe,qe)}function x(Se){const $e=t.getRecordMatcher(Se);$e&&t.removeRoute($e)}function C(){return t.getRoutes().map(Se=>Se.record)}function k(Se){return!!t.getRecordMatcher(Se)}function T(Se,$e){if($e=Yn({},$e||l.value),typeof Se=="string"){const K=nx(n,Se,$e.path),ne=t.resolve({path:K.path},$e),we=r.createHref(K.fullPath);return Yn(K,ne,{params:m(ne.params),hash:hp(K.hash),redirectedFrom:void 0,href:we})}let qe;if(Se.path!=null)qe=Yn({},Se,{path:nx(n,Se.path,$e.path).path});else{const K=Yn({},Se.params);for(const ne in K)K[ne]==null&&delete K[ne];qe=Yn({},Se,{params:d(K)}),$e.params=d($e.params)}const Fe=t.resolve(qe,$e),xe=Se.hash||"";Fe.params=f(m(Fe.params));const Ie=R4(i,Yn({},Se,{hash:O4(xe),path:Fe.path})),U=r.createHref(Ie);return Yn({fullPath:Ie,hash:xe,query:i===oA?f6(Se.query):Se.query||{}},Fe,{redirectedFrom:void 0,href:U})}function A(Se){return typeof Se=="string"?nx(n,Se,l.value.path):Yn({},Se)}function R(Se,$e){if(u!==Se)return Ph(8,{from:$e,to:Se})}function F(Se){return g(Se)}function Z(Se){return F(Yn(A(Se),{replace:!0}))}function ee(Se){const $e=Se.matched[Se.matched.length-1];if($e&&$e.redirect){const{redirect:qe}=$e;let Fe=typeof qe=="function"?qe(Se):qe;return typeof Fe=="string"&&(Fe=Fe.includes("?")||Fe.includes("#")?Fe=A(Fe):{path:Fe},Fe.params={}),Yn({query:Se.query,hash:Se.hash,params:Fe.path!=null?{}:Se.params},Fe)}}function g(Se,$e){const qe=u=T(Se),Fe=l.value,xe=Se.state,Ie=Se.force,U=Se.replace===!0,K=ee(qe);if(K)return g(Yn(A(K),{state:typeof K=="object"?Yn({},xe,K.state):xe,force:Ie,replace:U}),$e||qe);const ne=qe;ne.redirectedFrom=$e;let we;return!Ie&&B4(i,Fe,qe)&&(we=Ph(16,{to:ne,from:Fe}),Ae(Fe,Fe,!0,!1)),(we?Promise.resolve(we):z(ne,Fe)).catch(fe=>Ra(fe)?Ra(fe,2)?fe:le(fe):j(fe,ne,Fe)).then(fe=>{if(fe){if(Ra(fe,2))return g(Yn({replace:U},A(fe.to),{state:typeof fe.to=="object"?Yn({},xe,fe.to.state):xe,force:Ie}),$e||ne)}else fe=de(ne,Fe,!0,U,xe);return Q(ne,Fe,fe),fe})}function L(Se,$e){const qe=R(Se,$e);return qe?Promise.reject(qe):Promise.resolve()}function M(Se){const $e=Be.values().next().value;return $e&&typeof $e.runWithContext=="function"?$e.runWithContext(Se):Se()}function z(Se,$e){let qe;const[Fe,xe,Ie]=C6(Se,$e);qe=ix(Fe.reverse(),"beforeRouteLeave",Se,$e);for(const K of Fe)K.leaveGuards.forEach(ne=>{qe.push(Rl(ne,Se,$e))});const U=L.bind(null,Se,$e);return qe.push(U),lt(qe).then(()=>{qe=[];for(const K of o.list())qe.push(Rl(K,Se,$e));return qe.push(U),lt(qe)}).then(()=>{qe=ix(xe,"beforeRouteUpdate",Se,$e);for(const K of xe)K.updateGuards.forEach(ne=>{qe.push(Rl(ne,Se,$e))});return qe.push(U),lt(qe)}).then(()=>{qe=[];for(const K of Ie)if(K.beforeEnter)if(Ss(K.beforeEnter))for(const ne of K.beforeEnter)qe.push(Rl(ne,Se,$e));else qe.push(Rl(K.beforeEnter,Se,$e));return qe.push(U),lt(qe)}).then(()=>(Se.matched.forEach(K=>K.enterCallbacks={}),qe=ix(Ie,"beforeRouteEnter",Se,$e,M),qe.push(U),lt(qe))).then(()=>{qe=[];for(const K of s.list())qe.push(Rl(K,Se,$e));return qe.push(U),lt(qe)}).catch(K=>Ra(K,8)?K:Promise.reject(K))}function Q(Se,$e,qe){a.list().forEach(Fe=>M(()=>Fe(Se,$e,qe)))}function de(Se,$e,qe,Fe,xe){const Ie=R(Se,$e);if(Ie)return Ie;const U=$e===kl,K=cd?history.state:{};qe&&(Fe||U?r.replace(Se.fullPath,Yn({scroll:U&&K&&K.scroll},xe)):r.push(Se.fullPath,xe)),l.value=Se,Ae(Se,$e,qe,U),le()}let ce;function pe(){ce||(ce=r.listen((Se,$e,qe)=>{if(!st.listening)return;const Fe=T(Se),xe=ee(Fe);if(xe){g(Yn(xe,{replace:!0}),Fe).catch(Yf);return}u=Fe;const Ie=l.value;cd&&W4(JE(Ie.fullPath,qe.delta),d0()),z(Fe,Ie).catch(U=>Ra(U,12)?U:Ra(U,2)?(g(U.to,Fe).then(K=>{Ra(K,20)&&!qe.delta&&qe.type===fp.pop&&r.go(-1,!1)}).catch(Yf),Promise.reject()):(qe.delta&&r.go(-qe.delta,!1),j(U,Fe,Ie))).then(U=>{U=U||de(Fe,Ie,!1),U&&(qe.delta&&!Ra(U,8)?r.go(-qe.delta,!1):qe.type===fp.pop&&Ra(U,20)&&r.go(-1,!1)),Q(Fe,Ie,U)}).catch(Yf)}))}let ae=Tf(),q=Tf(),G;function j(Se,$e,qe){le(Se);const Fe=q.list();return Fe.length?Fe.forEach(xe=>xe(Se,$e,qe)):console.error(Se),Promise.reject(Se)}function te(){return G&&l.value!==kl?Promise.resolve():new Promise((Se,$e)=>{ae.add([Se,$e])})}function le(Se){return G||(G=!Se,pe(),ae.list().forEach(([$e,qe])=>Se?qe(Se):$e()),ae.reset()),Se}function Ae(Se,$e,qe,Fe){const{scrollBehavior:xe}=e;if(!cd||!xe)return Promise.resolve();const Ie=!qe&&j4(JE(Se.fullPath,0))||(Fe||!qe)&&history.state&&history.state.scroll||null;return i0().then(()=>xe(Se,$e,Ie)).then(U=>U&&G4(U)).catch(U=>j(U,Se,$e))}const ke=Se=>r.go(Se);let rt;const Be=new Set,st={currentRoute:l,listening:!0,addRoute:b,removeRoute:x,hasRoute:k,getRoutes:C,resolve:T,options:e,push:F,replace:Z,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:q.add,isReady:te,install(Se){const $e=this;Se.component("RouterLink",y6),Se.component("RouterView",x6),Se.config.globalProperties.$router=$e,Object.defineProperty(Se.config.globalProperties,"$route",{enumerable:!0,get:()=>Xn(l)}),cd&&!rt&&l.value===kl&&(rt=!0,F(r.location).catch(xe=>{}));const qe={};for(const xe in kl)Object.defineProperty(qe,xe,{get:()=>l.value[xe],enumerable:!0});Se.provide(h0,$e),Se.provide(O2,RP(qe)),Se.provide(aw,l);const Fe=Se.unmount;Be.add(Se),Se.unmount=function(){Be.delete(Se),Be.size<1&&(u=kl,ce&&ce(),ce=null,l.value=kl,rt=!1,G=!1),Fe()}}};function lt(Se){return Se.reduce(($e,qe)=>$e.then(()=>M(qe)),Promise.resolve())}return st}function C6(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(u=>Ih(u,a))?i.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(u=>Ih(u,l))||r.push(l))}return[n,i,r]}function L2(){return ra(h0)}var Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rx={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var dA;function N2(){return dA||(dA=1,function(e){(function(t,n){e.exports=t.document?n(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:Va,function(t,n){var i=[],r=Object.getPrototypeOf,o=i.slice,s=i.flat?function(p){return i.flat.call(p)}:function(p){return i.concat.apply([],p)},a=i.push,l=i.indexOf,u={},f=u.toString,d=u.hasOwnProperty,m=d.toString,b=m.call(Object),x={},C=function(v){return typeof v=="function"&&typeof v.nodeType!="number"&&typeof v.item!="function"},k=function(v){return v!=null&&v===v.window},T=t.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function R(p,v,w){w=w||T;var S,D,N=w.createElement("script");if(N.text=p,v)for(S in A)D=v[S]||v.getAttribute&&v.getAttribute(S),D&&N.setAttribute(S,D);w.head.appendChild(N).parentNode.removeChild(N)}function F(p){return p==null?p+"":typeof p=="object"||typeof p=="function"?u[f.call(p)]||"object":typeof p}var Z="3.7.1",ee=/HTML$/i,g=function(p,v){return new g.fn.init(p,v)};g.fn=g.prototype={jquery:Z,constructor:g,length:0,toArray:function(){return o.call(this)},get:function(p){return p==null?o.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var v=g.merge(this.constructor(),p);return v.prevObject=this,v},each:function(p){return g.each(this,p)},map:function(p){return this.pushStack(g.map(this,function(v,w){return p.call(v,w,v)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(p,v){return(v+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(p,v){return v%2}))},eq:function(p){var v=this.length,w=+p+(p<0?v:0);return this.pushStack(w>=0&&w<v?[this[w]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},g.extend=g.fn.extend=function(){var p,v,w,S,D,N,H=arguments[0]||{},he=1,se=arguments.length,Ee=!1;for(typeof H=="boolean"&&(Ee=H,H=arguments[he]||{},he++),typeof H!="object"&&!C(H)&&(H={}),he===se&&(H=this,he--);he<se;he++)if((p=arguments[he])!=null)for(v in p)S=p[v],!(v==="__proto__"||H===S)&&(Ee&&S&&(g.isPlainObject(S)||(D=Array.isArray(S)))?(w=H[v],D&&!Array.isArray(w)?N=[]:!D&&!g.isPlainObject(w)?N={}:N=w,D=!1,H[v]=g.extend(Ee,N,S)):S!==void 0&&(H[v]=S));return H},g.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var v,w;return!p||f.call(p)!=="[object Object]"?!1:(v=r(p),v?(w=d.call(v,"constructor")&&v.constructor,typeof w=="function"&&m.call(w)===b):!0)},isEmptyObject:function(p){var v;for(v in p)return!1;return!0},globalEval:function(p,v,w){R(p,{nonce:v&&v.nonce},w)},each:function(p,v){var w,S=0;if(L(p))for(w=p.length;S<w&&v.call(p[S],S,p[S])!==!1;S++);else for(S in p)if(v.call(p[S],S,p[S])===!1)break;return p},text:function(p){var v,w="",S=0,D=p.nodeType;if(!D)for(;v=p[S++];)w+=g.text(v);return D===1||D===11?p.textContent:D===9?p.documentElement.textContent:D===3||D===4?p.nodeValue:w},makeArray:function(p,v){var w=v||[];return p!=null&&(L(Object(p))?g.merge(w,typeof p=="string"?[p]:p):a.call(w,p)),w},inArray:function(p,v,w){return v==null?-1:l.call(v,p,w)},isXMLDoc:function(p){var v=p&&p.namespaceURI,w=p&&(p.ownerDocument||p).documentElement;return!ee.test(v||w&&w.nodeName||"HTML")},merge:function(p,v){for(var w=+v.length,S=0,D=p.length;S<w;S++)p[D++]=v[S];return p.length=D,p},grep:function(p,v,w){for(var S,D=[],N=0,H=p.length,he=!w;N<H;N++)S=!v(p[N],N),S!==he&&D.push(p[N]);return D},map:function(p,v,w){var S,D,N=0,H=[];if(L(p))for(S=p.length;N<S;N++)D=v(p[N],N,w),D!=null&&H.push(D);else for(N in p)D=v(p[N],N,w),D!=null&&H.push(D);return s(H)},guid:1,support:x}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=i[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,v){u["[object "+v+"]"]=v.toLowerCase()});function L(p){var v=!!p&&"length"in p&&p.length,w=F(p);return C(p)||k(p)?!1:w==="array"||v===0||typeof v=="number"&&v>0&&v-1 in p}function M(p,v){return p.nodeName&&p.nodeName.toLowerCase()===v.toLowerCase()}var z=i.pop,Q=i.sort,de=i.splice,ce="[\\x20\\t\\r\\n\\f]",pe=new RegExp("^"+ce+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ce+"+$","g");g.contains=function(p,v){var w=v&&v.parentNode;return p===w||!!(w&&w.nodeType===1&&(p.contains?p.contains(w):p.compareDocumentPosition&&p.compareDocumentPosition(w)&16))};var ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function q(p,v){return v?p==="\0"?"�":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}g.escapeSelector=function(p){return(p+"").replace(ae,q)};var G=T,j=a;(function(){var p,v,w,S,D,N=j,H,he,se,Ee,Ue,Ve=g.expando,Ne=0,at=0,Tt=Ei(),Zt=Ei(),Yt=Ei(),P=Ei(),B=function(ie,be){return ie===be&&(D=!0),0},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="(?:\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\["+ce+"*("+I+")(?:"+ce+"*([*^$|!~]?=)"+ce+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+I+"))|)"+ce+"*\\]",oe=":("+I+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+V+")*)|.*)\\)|)",re=new RegExp(ce+"+","g"),Le=new RegExp("^"+ce+"*,"+ce+"*"),Ye=new RegExp("^"+ce+"*([>+~]|"+ce+")"+ce+"*"),gt=new RegExp(ce+"|>"),mt=new RegExp(oe),yt=new RegExp("^"+I+"$"),At={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ce+"*(even|odd|(([+-]|)(\\d*)n|)"+ce+"*(?:([+-]|)"+ce+"*(\\d+)|))"+ce+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+ce+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ce+"*((?:-\\d)?\\d*)"+ce+"*\\)|)(?=[^-]|$)","i")},qt=/^(?:input|select|textarea|button)$/i,hn=/^h\d$/i,vn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zn=/[+~]/,pi=new RegExp("\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\([^\\r\\n\\f])","g"),Nn=function(ie,be){var Me="0x"+ie.slice(1)-65536;return be||(Me<0?String.fromCharCode(Me+65536):String.fromCharCode(Me>>10|55296,Me&1023|56320))},fn=function(){mo()},$i=Aa(function(ie){return ie.disabled===!0&&M(ie,"fieldset")},{dir:"parentNode",next:"legend"});function Di(){try{return H.activeElement}catch{}}try{N.apply(i=o.call(G.childNodes),G.childNodes),i[G.childNodes.length].nodeType}catch{N={apply:function(be,Me){j.apply(be,o.call(Me))},call:function(be){j.apply(be,o.call(arguments,1))}}}function Ht(ie,be,Me,Re){var J,ye,me,je,Qe,kt,It,St=be&&be.ownerDocument,on=be?be.nodeType:9;if(Me=Me||[],typeof ie!="string"||!ie||on!==1&&on!==9&&on!==11)return Me;if(!Re&&(mo(be),be=be||H,se)){if(on!==11&&(Qe=vn.exec(ie)))if(J=Qe[1]){if(on===9)if(me=be.getElementById(J)){if(me.id===J)return N.call(Me,me),Me}else return Me;else if(St&&(me=St.getElementById(J))&&Ht.contains(be,me)&&me.id===J)return N.call(Me,me),Me}else{if(Qe[2])return N.apply(Me,be.getElementsByTagName(ie)),Me;if((J=Qe[3])&&be.getElementsByClassName)return N.apply(Me,be.getElementsByClassName(J)),Me}if(!P[ie+" "]&&(!Ee||!Ee.test(ie))){if(It=ie,St=be,on===1&&(gt.test(ie)||Ye.test(ie))){for(St=Zn.test(ie)&&Wr(be.parentNode)||be,(St!=be||!x.scope)&&((je=be.getAttribute("id"))?je=g.escapeSelector(je):be.setAttribute("id",je=Ve)),kt=qs(ie),ye=kt.length;ye--;)kt[ye]=(je?"#"+je:":scope")+" "+yo(kt[ye]);It=kt.join(",")}try{return N.apply(Me,St.querySelectorAll(It)),Me}catch{P(ie,!0)}finally{je===Ve&&be.removeAttribute("id")}}}return ym(ie.replace(pe,"$1"),be,Me,Re)}function Ei(){var ie=[];function be(Me,Re){return ie.push(Me+" ")>v.cacheLength&&delete be[ie.shift()],be[Me+" "]=Re}return be}function si(ie){return ie[Ve]=!0,ie}function Mo(ie){var be=H.createElement("fieldset");try{return!!ie(be)}catch{return!1}finally{be.parentNode&&be.parentNode.removeChild(be),be=null}}function bl(ie){return function(be){return M(be,"input")&&be.type===ie}}function _l(ie){return function(be){return(M(be,"input")||M(be,"button"))&&be.type===ie}}function $s(ie){return function(be){return"form"in be?be.parentNode&&be.disabled===!1?"label"in be?"label"in be.parentNode?be.parentNode.disabled===ie:be.disabled===ie:be.isDisabled===ie||be.isDisabled!==!ie&&$i(be)===ie:be.disabled===ie:"label"in be?be.disabled===ie:!1}}function Ai(ie){return si(function(be){return be=+be,si(function(Me,Re){for(var J,ye=ie([],Me.length,be),me=ye.length;me--;)Me[J=ye[me]]&&(Me[J]=!(Re[J]=Me[J]))})})}function Wr(ie){return ie&&typeof ie.getElementsByTagName<"u"&&ie}function mo(ie){var be,Me=ie?ie.ownerDocument||ie:G;return Me==H||Me.nodeType!==9||!Me.documentElement||(H=Me,he=H.documentElement,se=!g.isXMLDoc(H),Ue=he.matches||he.webkitMatchesSelector||he.msMatchesSelector,he.msMatchesSelector&&G!=H&&(be=H.defaultView)&&be.top!==be&&be.addEventListener("unload",fn),x.getById=Mo(function(Re){return he.appendChild(Re).id=g.expando,!H.getElementsByName||!H.getElementsByName(g.expando).length}),x.disconnectedMatch=Mo(function(Re){return Ue.call(Re,"*")}),x.scope=Mo(function(){return H.querySelectorAll(":scope")}),x.cssHas=Mo(function(){try{return H.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),x.getById?(v.filter.ID=function(Re){var J=Re.replace(pi,Nn);return function(ye){return ye.getAttribute("id")===J}},v.find.ID=function(Re,J){if(typeof J.getElementById<"u"&&se){var ye=J.getElementById(Re);return ye?[ye]:[]}}):(v.filter.ID=function(Re){var J=Re.replace(pi,Nn);return function(ye){var me=typeof ye.getAttributeNode<"u"&&ye.getAttributeNode("id");return me&&me.value===J}},v.find.ID=function(Re,J){if(typeof J.getElementById<"u"&&se){var ye,me,je,Qe=J.getElementById(Re);if(Qe){if(ye=Qe.getAttributeNode("id"),ye&&ye.value===Re)return[Qe];for(je=J.getElementsByName(Re),me=0;Qe=je[me++];)if(ye=Qe.getAttributeNode("id"),ye&&ye.value===Re)return[Qe]}return[]}}),v.find.TAG=function(Re,J){return typeof J.getElementsByTagName<"u"?J.getElementsByTagName(Re):J.querySelectorAll(Re)},v.find.CLASS=function(Re,J){if(typeof J.getElementsByClassName<"u"&&se)return J.getElementsByClassName(Re)},Ee=[],Mo(function(Re){var J;he.appendChild(Re).innerHTML="<a id='"+Ve+"' href='' disabled='disabled'></a><select id='"+Ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",Re.querySelectorAll("[selected]").length||Ee.push("\\["+ce+"*(?:value|"+_+")"),Re.querySelectorAll("[id~="+Ve+"-]").length||Ee.push("~="),Re.querySelectorAll("a#"+Ve+"+*").length||Ee.push(".#.+[+~]"),Re.querySelectorAll(":checked").length||Ee.push(":checked"),J=H.createElement("input"),J.setAttribute("type","hidden"),Re.appendChild(J).setAttribute("name","D"),he.appendChild(Re).disabled=!0,Re.querySelectorAll(":disabled").length!==2&&Ee.push(":enabled",":disabled"),J=H.createElement("input"),J.setAttribute("name",""),Re.appendChild(J),Re.querySelectorAll("[name='']").length||Ee.push("\\["+ce+"*name"+ce+"*="+ce+`*(?:''|"")`)}),x.cssHas||Ee.push(":has"),Ee=Ee.length&&new RegExp(Ee.join("|")),B=function(Re,J){if(Re===J)return D=!0,0;var ye=!Re.compareDocumentPosition-!J.compareDocumentPosition;return ye||(ye=(Re.ownerDocument||Re)==(J.ownerDocument||J)?Re.compareDocumentPosition(J):1,ye&1||!x.sortDetached&&J.compareDocumentPosition(Re)===ye?Re===H||Re.ownerDocument==G&&Ht.contains(G,Re)?-1:J===H||J.ownerDocument==G&&Ht.contains(G,J)?1:S?l.call(S,Re)-l.call(S,J):0:ye&4?-1:1)}),H}Ht.matches=function(ie,be){return Ht(ie,null,null,be)},Ht.matchesSelector=function(ie,be){if(mo(ie),se&&!P[be+" "]&&(!Ee||!Ee.test(be)))try{var Me=Ue.call(ie,be);if(Me||x.disconnectedMatch||ie.document&&ie.document.nodeType!==11)return Me}catch{P(be,!0)}return Ht(be,H,null,[ie]).length>0},Ht.contains=function(ie,be){return(ie.ownerDocument||ie)!=H&&mo(ie),g.contains(ie,be)},Ht.attr=function(ie,be){(ie.ownerDocument||ie)!=H&&mo(ie);var Me=v.attrHandle[be.toLowerCase()],Re=Me&&d.call(v.attrHandle,be.toLowerCase())?Me(ie,be,!se):void 0;return Re!==void 0?Re:ie.getAttribute(be)},Ht.error=function(ie){throw new Error("Syntax error, unrecognized expression: "+ie)},g.uniqueSort=function(ie){var be,Me=[],Re=0,J=0;if(D=!x.sortStable,S=!x.sortStable&&o.call(ie,0),Q.call(ie,B),D){for(;be=ie[J++];)be===ie[J]&&(Re=Me.push(J));for(;Re--;)de.call(ie,Me[Re],1)}return S=null,ie},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(o.apply(this)))},v=g.expr={cacheLength:50,createPseudo:si,match:At,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ie){return ie[1]=ie[1].replace(pi,Nn),ie[3]=(ie[3]||ie[4]||ie[5]||"").replace(pi,Nn),ie[2]==="~="&&(ie[3]=" "+ie[3]+" "),ie.slice(0,4)},CHILD:function(ie){return ie[1]=ie[1].toLowerCase(),ie[1].slice(0,3)==="nth"?(ie[3]||Ht.error(ie[0]),ie[4]=+(ie[4]?ie[5]+(ie[6]||1):2*(ie[3]==="even"||ie[3]==="odd")),ie[5]=+(ie[7]+ie[8]||ie[3]==="odd")):ie[3]&&Ht.error(ie[0]),ie},PSEUDO:function(ie){var be,Me=!ie[6]&&ie[2];return At.CHILD.test(ie[0])?null:(ie[3]?ie[2]=ie[4]||ie[5]||"":Me&&mt.test(Me)&&(be=qs(Me,!0))&&(be=Me.indexOf(")",Me.length-be)-Me.length)&&(ie[0]=ie[0].slice(0,be),ie[2]=Me.slice(0,be)),ie.slice(0,3))}},filter:{TAG:function(ie){var be=ie.replace(pi,Nn).toLowerCase();return ie==="*"?function(){return!0}:function(Me){return M(Me,be)}},CLASS:function(ie){var be=Tt[ie+" "];return be||(be=new RegExp("(^|"+ce+")"+ie+"("+ce+"|$)"))&&Tt(ie,function(Me){return be.test(typeof Me.className=="string"&&Me.className||typeof Me.getAttribute<"u"&&Me.getAttribute("class")||"")})},ATTR:function(ie,be,Me){return function(Re){var J=Ht.attr(Re,ie);return J==null?be==="!=":be?(J+="",be==="="?J===Me:be==="!="?J!==Me:be==="^="?Me&&J.indexOf(Me)===0:be==="*="?Me&&J.indexOf(Me)>-1:be==="$="?Me&&J.slice(-Me.length)===Me:be==="~="?(" "+J.replace(re," ")+" ").indexOf(Me)>-1:be==="|="?J===Me||J.slice(0,Me.length+1)===Me+"-":!1):!0}},CHILD:function(ie,be,Me,Re,J){var ye=ie.slice(0,3)!=="nth",me=ie.slice(-4)!=="last",je=be==="of-type";return Re===1&&J===0?function(Qe){return!!Qe.parentNode}:function(Qe,kt,It){var St,on,$t,pn,qi,Ki=ye!==me?"nextSibling":"previousSibling",zi=Qe.parentNode,Cr=je&&Qe.nodeName.toLowerCase(),us=!It&&!je,en=!1;if(zi){if(ye){for(;Ki;){for($t=Qe;$t=$t[Ki];)if(je?M($t,Cr):$t.nodeType===1)return!1;qi=Ki=ie==="only"&&!qi&&"nextSibling"}return!0}if(qi=[me?zi.firstChild:zi.lastChild],me&&us){for(on=zi[Ve]||(zi[Ve]={}),St=on[ie]||[],pn=St[0]===Ne&&St[1],en=pn&&St[2],$t=pn&&zi.childNodes[pn];$t=++pn&&$t&&$t[Ki]||(en=pn=0)||qi.pop();)if($t.nodeType===1&&++en&&$t===Qe){on[ie]=[Ne,pn,en];break}}else if(us&&(on=Qe[Ve]||(Qe[Ve]={}),St=on[ie]||[],pn=St[0]===Ne&&St[1],en=pn),en===!1)for(;($t=++pn&&$t&&$t[Ki]||(en=pn=0)||qi.pop())&&!((je?M($t,Cr):$t.nodeType===1)&&++en&&(us&&(on=$t[Ve]||($t[Ve]={}),on[ie]=[Ne,en]),$t===Qe)););return en-=J,en===Re||en%Re===0&&en/Re>=0}}},PSEUDO:function(ie,be){var Me,Re=v.pseudos[ie]||v.setFilters[ie.toLowerCase()]||Ht.error("unsupported pseudo: "+ie);return Re[Ve]?Re(be):Re.length>1?(Me=[ie,ie,"",be],v.setFilters.hasOwnProperty(ie.toLowerCase())?si(function(J,ye){for(var me,je=Re(J,be),Qe=je.length;Qe--;)me=l.call(J,je[Qe]),J[me]=!(ye[me]=je[Qe])}):function(J){return Re(J,0,Me)}):Re}},pseudos:{not:si(function(ie){var be=[],Me=[],Re=af(ie.replace(pe,"$1"));return Re[Ve]?si(function(J,ye,me,je){for(var Qe,kt=Re(J,null,je,[]),It=J.length;It--;)(Qe=kt[It])&&(J[It]=!(ye[It]=Qe))}):function(J,ye,me){return be[0]=J,Re(be,null,me,Me),be[0]=null,!Me.pop()}}),has:si(function(ie){return function(be){return Ht(ie,be).length>0}}),contains:si(function(ie){return ie=ie.replace(pi,Nn),function(be){return(be.textContent||g.text(be)).indexOf(ie)>-1}}),lang:si(function(ie){return yt.test(ie||"")||Ht.error("unsupported lang: "+ie),ie=ie.replace(pi,Nn).toLowerCase(),function(be){var Me;do if(Me=se?be.lang:be.getAttribute("xml:lang")||be.getAttribute("lang"))return Me=Me.toLowerCase(),Me===ie||Me.indexOf(ie+"-")===0;while((be=be.parentNode)&&be.nodeType===1);return!1}}),target:function(ie){var be=t.location&&t.location.hash;return be&&be.slice(1)===ie.id},root:function(ie){return ie===he},focus:function(ie){return ie===Di()&&H.hasFocus()&&!!(ie.type||ie.href||~ie.tabIndex)},enabled:$s(!1),disabled:$s(!0),checked:function(ie){return M(ie,"input")&&!!ie.checked||M(ie,"option")&&!!ie.selected},selected:function(ie){return ie.parentNode&&ie.parentNode.selectedIndex,ie.selected===!0},empty:function(ie){for(ie=ie.firstChild;ie;ie=ie.nextSibling)if(ie.nodeType<6)return!1;return!0},parent:function(ie){return!v.pseudos.empty(ie)},header:function(ie){return hn.test(ie.nodeName)},input:function(ie){return qt.test(ie.nodeName)},button:function(ie){return M(ie,"input")&&ie.type==="button"||M(ie,"button")},text:function(ie){var be;return M(ie,"input")&&ie.type==="text"&&((be=ie.getAttribute("type"))==null||be.toLowerCase()==="text")},first:Ai(function(){return[0]}),last:Ai(function(ie,be){return[be-1]}),eq:Ai(function(ie,be,Me){return[Me<0?Me+be:Me]}),even:Ai(function(ie,be){for(var Me=0;Me<be;Me+=2)ie.push(Me);return ie}),odd:Ai(function(ie,be){for(var Me=1;Me<be;Me+=2)ie.push(Me);return ie}),lt:Ai(function(ie,be,Me){var Re;for(Me<0?Re=Me+be:Me>be?Re=be:Re=Me;--Re>=0;)ie.push(Re);return ie}),gt:Ai(function(ie,be,Me){for(var Re=Me<0?Me+be:Me;++Re<be;)ie.push(Re);return ie})}},v.pseudos.nth=v.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[p]=bl(p);for(p in{submit:!0,reset:!0})v.pseudos[p]=_l(p);function Ea(){}Ea.prototype=v.filters=v.pseudos,v.setFilters=new Ea;function qs(ie,be){var Me,Re,J,ye,me,je,Qe,kt=Zt[ie+" "];if(kt)return be?0:kt.slice(0);for(me=ie,je=[],Qe=v.preFilter;me;){(!Me||(Re=Le.exec(me)))&&(Re&&(me=me.slice(Re[0].length)||me),je.push(J=[])),Me=!1,(Re=Ye.exec(me))&&(Me=Re.shift(),J.push({value:Me,type:Re[0].replace(pe," ")}),me=me.slice(Me.length));for(ye in v.filter)(Re=At[ye].exec(me))&&(!Qe[ye]||(Re=Qe[ye](Re)))&&(Me=Re.shift(),J.push({value:Me,type:ye,matches:Re}),me=me.slice(Me.length));if(!Me)break}return be?me.length:me?Ht.error(ie):Zt(ie,je).slice(0)}function yo(ie){for(var be=0,Me=ie.length,Re="";be<Me;be++)Re+=ie[be].value;return Re}function Aa(ie,be,Me){var Re=be.dir,J=be.next,ye=J||Re,me=Me&&ye==="parentNode",je=at++;return be.first?function(Qe,kt,It){for(;Qe=Qe[Re];)if(Qe.nodeType===1||me)return ie(Qe,kt,It);return!1}:function(Qe,kt,It){var St,on,$t=[Ne,je];if(It){for(;Qe=Qe[Re];)if((Qe.nodeType===1||me)&&ie(Qe,kt,It))return!0}else for(;Qe=Qe[Re];)if(Qe.nodeType===1||me)if(on=Qe[Ve]||(Qe[Ve]={}),J&&M(Qe,J))Qe=Qe[Re]||Qe;else{if((St=on[ye])&&St[0]===Ne&&St[1]===je)return $t[2]=St[2];if(on[ye]=$t,$t[2]=ie(Qe,kt,It))return!0}return!1}}function sf(ie){return ie.length>1?function(be,Me,Re){for(var J=ie.length;J--;)if(!ie[J](be,Me,Re))return!1;return!0}:ie[0]}function Z0(ie,be,Me){for(var Re=0,J=be.length;Re<J;Re++)Ht(ie,be[Re],Me);return Me}function Wu(ie,be,Me,Re,J){for(var ye,me=[],je=0,Qe=ie.length,kt=be!=null;je<Qe;je++)(ye=ie[je])&&(!Me||Me(ye,Re,J))&&(me.push(ye),kt&&be.push(je));return me}function zs(ie,be,Me,Re,J,ye){return Re&&!Re[Ve]&&(Re=zs(Re)),J&&!J[Ve]&&(J=zs(J,ye)),si(function(me,je,Qe,kt){var It,St,on,$t,pn=[],qi=[],Ki=je.length,zi=me||Z0(be||"*",Qe.nodeType?[Qe]:Qe,[]),Cr=ie&&(me||!be)?Wu(zi,pn,ie,Qe,kt):zi;if(Me?($t=J||(me?ie:Ki||Re)?[]:je,Me(Cr,$t,Qe,kt)):$t=Cr,Re)for(It=Wu($t,qi),Re(It,[],Qe,kt),St=It.length;St--;)(on=It[St])&&($t[qi[St]]=!(Cr[qi[St]]=on));if(me){if(J||ie){if(J){for(It=[],St=$t.length;St--;)(on=$t[St])&&It.push(Cr[St]=on);J(null,$t=[],It,kt)}for(St=$t.length;St--;)(on=$t[St])&&(It=J?l.call(me,on):pn[St])>-1&&(me[It]=!(je[It]=on))}}else $t=Wu($t===je?$t.splice(Ki,$t.length):$t),J?J(null,je,$t,kt):N.apply(je,$t)})}function wr(ie){for(var be,Me,Re,J=ie.length,ye=v.relative[ie[0].type],me=ye||v.relative[" "],je=ye?1:0,Qe=Aa(function(St){return St===be},me,!0),kt=Aa(function(St){return l.call(be,St)>-1},me,!0),It=[function(St,on,$t){var pn=!ye&&($t||on!=w)||((be=on).nodeType?Qe(St,on,$t):kt(St,on,$t));return be=null,pn}];je<J;je++)if(Me=v.relative[ie[je].type])It=[Aa(sf(It),Me)];else{if(Me=v.filter[ie[je].type].apply(null,ie[je].matches),Me[Ve]){for(Re=++je;Re<J&&!v.relative[ie[Re].type];Re++);return zs(je>1&&sf(It),je>1&&yo(ie.slice(0,je-1).concat({value:ie[je-2].type===" "?"*":""})).replace(pe,"$1"),Me,je<Re&&wr(ie.slice(je,Re)),Re<J&&wr(ie=ie.slice(Re)),Re<J&&yo(ie))}It.push(Me)}return sf(It)}function mm(ie,be){var Me=be.length>0,Re=ie.length>0,J=function(ye,me,je,Qe,kt){var It,St,on,$t=0,pn="0",qi=ye&&[],Ki=[],zi=w,Cr=ye||Re&&v.find.TAG("*",kt),us=Ne+=zi==null?1:Math.random()||.1,en=Cr.length;for(kt&&(w=me==H||me||kt);pn!==en&&(It=Cr[pn])!=null;pn++){if(Re&&It){for(St=0,!me&&It.ownerDocument!=H&&(mo(It),je=!se);on=ie[St++];)if(on(It,me||H,je)){N.call(Qe,It);break}kt&&(Ne=us)}Me&&((It=!on&&It)&&$t--,ye&&qi.push(It))}if($t+=pn,Me&&pn!==$t){for(St=0;on=be[St++];)on(qi,Ki,me,je);if(ye){if($t>0)for(;pn--;)qi[pn]||Ki[pn]||(Ki[pn]=z.call(Qe));Ki=Wu(Ki)}N.apply(Qe,Ki),kt&&!ye&&Ki.length>0&&$t+be.length>1&&g.uniqueSort(Qe)}return kt&&(Ne=us,w=zi),qi};return Me?si(J):J}function af(ie,be){var Me,Re=[],J=[],ye=Yt[ie+" "];if(!ye){for(be||(be=qs(ie)),Me=be.length;Me--;)ye=wr(be[Me]),ye[Ve]?Re.push(ye):J.push(ye);ye=Yt(ie,mm(J,Re)),ye.selector=ie}return ye}function ym(ie,be,Me,Re){var J,ye,me,je,Qe,kt=typeof ie=="function"&&ie,It=!Re&&qs(ie=kt.selector||ie);if(Me=Me||[],It.length===1){if(ye=It[0]=It[0].slice(0),ye.length>2&&(me=ye[0]).type==="ID"&&be.nodeType===9&&se&&v.relative[ye[1].type]){if(be=(v.find.ID(me.matches[0].replace(pi,Nn),be)||[])[0],be)kt&&(be=be.parentNode);else return Me;ie=ie.slice(ye.shift().value.length)}for(J=At.needsContext.test(ie)?0:ye.length;J--&&(me=ye[J],!v.relative[je=me.type]);)if((Qe=v.find[je])&&(Re=Qe(me.matches[0].replace(pi,Nn),Zn.test(ye[0].type)&&Wr(be.parentNode)||be))){if(ye.splice(J,1),ie=Re.length&&yo(ye),!ie)return N.apply(Me,Re),Me;break}}return(kt||af(ie,It))(Re,be,!se,Me,!be||Zn.test(ie)&&Wr(be.parentNode)||be),Me}x.sortStable=Ve.split("").sort(B).join("")===Ve,mo(),x.sortDetached=Mo(function(ie){return ie.compareDocumentPosition(H.createElement("fieldset"))&1}),g.find=Ht,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,Ht.compile=af,Ht.select=ym,Ht.setDocument=mo,Ht.tokenize=qs,Ht.escape=g.escapeSelector,Ht.getText=g.text,Ht.isXML=g.isXMLDoc,Ht.selectors=g.expr,Ht.support=g.support,Ht.uniqueSort=g.uniqueSort})();var te=function(p,v,w){for(var S=[],D=w!==void 0;(p=p[v])&&p.nodeType!==9;)if(p.nodeType===1){if(D&&g(p).is(w))break;S.push(p)}return S},le=function(p,v){for(var w=[];p;p=p.nextSibling)p.nodeType===1&&p!==v&&w.push(p);return w},Ae=g.expr.match.needsContext,ke=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function rt(p,v,w){return C(v)?g.grep(p,function(S,D){return!!v.call(S,D,S)!==w}):v.nodeType?g.grep(p,function(S){return S===v!==w}):typeof v!="string"?g.grep(p,function(S){return l.call(v,S)>-1!==w}):g.filter(v,p,w)}g.filter=function(p,v,w){var S=v[0];return w&&(p=":not("+p+")"),v.length===1&&S.nodeType===1?g.find.matchesSelector(S,p)?[S]:[]:g.find.matches(p,g.grep(v,function(D){return D.nodeType===1}))},g.fn.extend({find:function(p){var v,w,S=this.length,D=this;if(typeof p!="string")return this.pushStack(g(p).filter(function(){for(v=0;v<S;v++)if(g.contains(D[v],this))return!0}));for(w=this.pushStack([]),v=0;v<S;v++)g.find(p,D[v],w);return S>1?g.uniqueSort(w):w},filter:function(p){return this.pushStack(rt(this,p||[],!1))},not:function(p){return this.pushStack(rt(this,p||[],!0))},is:function(p){return!!rt(this,typeof p=="string"&&Ae.test(p)?g(p):p||[],!1).length}});var Be,st=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,lt=g.fn.init=function(p,v,w){var S,D;if(!p)return this;if(w=w||Be,typeof p=="string")if(p[0]==="<"&&p[p.length-1]===">"&&p.length>=3?S=[null,p,null]:S=st.exec(p),S&&(S[1]||!v))if(S[1]){if(v=v instanceof g?v[0]:v,g.merge(this,g.parseHTML(S[1],v&&v.nodeType?v.ownerDocument||v:T,!0)),ke.test(S[1])&&g.isPlainObject(v))for(S in v)C(this[S])?this[S](v[S]):this.attr(S,v[S]);return this}else return D=T.getElementById(S[2]),D&&(this[0]=D,this.length=1),this;else return!v||v.jquery?(v||w).find(p):this.constructor(v).find(p);else{if(p.nodeType)return this[0]=p,this.length=1,this;if(C(p))return w.ready!==void 0?w.ready(p):p(g)}return g.makeArray(p,this)};lt.prototype=g.fn,Be=g(T);var Se=/^(?:parents|prev(?:Until|All))/,$e={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(p){var v=g(p,this),w=v.length;return this.filter(function(){for(var S=0;S<w;S++)if(g.contains(this,v[S]))return!0})},closest:function(p,v){var w,S=0,D=this.length,N=[],H=typeof p!="string"&&g(p);if(!Ae.test(p)){for(;S<D;S++)for(w=this[S];w&&w!==v;w=w.parentNode)if(w.nodeType<11&&(H?H.index(w)>-1:w.nodeType===1&&g.find.matchesSelector(w,p))){N.push(w);break}}return this.pushStack(N.length>1?g.uniqueSort(N):N)},index:function(p){return p?typeof p=="string"?l.call(g(p),this[0]):l.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,v){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(p,v))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}});function qe(p,v){for(;(p=p[v])&&p.nodeType!==1;);return p}g.each({parent:function(p){var v=p.parentNode;return v&&v.nodeType!==11?v:null},parents:function(p){return te(p,"parentNode")},parentsUntil:function(p,v,w){return te(p,"parentNode",w)},next:function(p){return qe(p,"nextSibling")},prev:function(p){return qe(p,"previousSibling")},nextAll:function(p){return te(p,"nextSibling")},prevAll:function(p){return te(p,"previousSibling")},nextUntil:function(p,v,w){return te(p,"nextSibling",w)},prevUntil:function(p,v,w){return te(p,"previousSibling",w)},siblings:function(p){return le((p.parentNode||{}).firstChild,p)},children:function(p){return le(p.firstChild)},contents:function(p){return p.contentDocument!=null&&r(p.contentDocument)?p.contentDocument:(M(p,"template")&&(p=p.content||p),g.merge([],p.childNodes))}},function(p,v){g.fn[p]=function(w,S){var D=g.map(this,v,w);return p.slice(-5)!=="Until"&&(S=w),S&&typeof S=="string"&&(D=g.filter(S,D)),this.length>1&&($e[p]||g.uniqueSort(D),Se.test(p)&&D.reverse()),this.pushStack(D)}});var Fe=/[^\x20\t\r\n\f]+/g;function xe(p){var v={};return g.each(p.match(Fe)||[],function(w,S){v[S]=!0}),v}g.Callbacks=function(p){p=typeof p=="string"?xe(p):g.extend({},p);var v,w,S,D,N=[],H=[],he=-1,se=function(){for(D=D||p.once,S=v=!0;H.length;he=-1)for(w=H.shift();++he<N.length;)N[he].apply(w[0],w[1])===!1&&p.stopOnFalse&&(he=N.length,w=!1);p.memory||(w=!1),v=!1,D&&(w?N=[]:N="")},Ee={add:function(){return N&&(w&&!v&&(he=N.length-1,H.push(w)),function Ue(Ve){g.each(Ve,function(Ne,at){C(at)?(!p.unique||!Ee.has(at))&&N.push(at):at&&at.length&&F(at)!=="string"&&Ue(at)})}(arguments),w&&!v&&se()),this},remove:function(){return g.each(arguments,function(Ue,Ve){for(var Ne;(Ne=g.inArray(Ve,N,Ne))>-1;)N.splice(Ne,1),Ne<=he&&he--}),this},has:function(Ue){return Ue?g.inArray(Ue,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return D=H=[],N=w="",this},disabled:function(){return!N},lock:function(){return D=H=[],!w&&!v&&(N=w=""),this},locked:function(){return!!D},fireWith:function(Ue,Ve){return D||(Ve=Ve||[],Ve=[Ue,Ve.slice?Ve.slice():Ve],H.push(Ve),v||se()),this},fire:function(){return Ee.fireWith(this,arguments),this},fired:function(){return!!S}};return Ee};function Ie(p){return p}function U(p){throw p}function K(p,v,w,S){var D;try{p&&C(D=p.promise)?D.call(p).done(v).fail(w):p&&C(D=p.then)?D.call(p,v,w):v.apply(void 0,[p].slice(S))}catch(N){w.apply(void 0,[N])}}g.extend({Deferred:function(p){var v=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],w="pending",S={state:function(){return w},always:function(){return D.done(arguments).fail(arguments),this},catch:function(N){return S.then(null,N)},pipe:function(){var N=arguments;return g.Deferred(function(H){g.each(v,function(he,se){var Ee=C(N[se[4]])&&N[se[4]];D[se[1]](function(){var Ue=Ee&&Ee.apply(this,arguments);Ue&&C(Ue.promise)?Ue.promise().progress(H.notify).done(H.resolve).fail(H.reject):H[se[0]+"With"](this,Ee?[Ue]:arguments)})}),N=null}).promise()},then:function(N,H,he){var se=0;function Ee(Ue,Ve,Ne,at){return function(){var Tt=this,Zt=arguments,Yt=function(){var B,_;if(!(Ue<se)){if(B=Ne.apply(Tt,Zt),B===Ve.promise())throw new TypeError("Thenable self-resolution");_=B&&(typeof B=="object"||typeof B=="function")&&B.then,C(_)?at?_.call(B,Ee(se,Ve,Ie,at),Ee(se,Ve,U,at)):(se++,_.call(B,Ee(se,Ve,Ie,at),Ee(se,Ve,U,at),Ee(se,Ve,Ie,Ve.notifyWith))):(Ne!==Ie&&(Tt=void 0,Zt=[B]),(at||Ve.resolveWith)(Tt,Zt))}},P=at?Yt:function(){try{Yt()}catch(B){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(B,P.error),Ue+1>=se&&(Ne!==U&&(Tt=void 0,Zt=[B]),Ve.rejectWith(Tt,Zt))}};Ue?P():(g.Deferred.getErrorHook?P.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(P.error=g.Deferred.getStackHook()),t.setTimeout(P))}}return g.Deferred(function(Ue){v[0][3].add(Ee(0,Ue,C(he)?he:Ie,Ue.notifyWith)),v[1][3].add(Ee(0,Ue,C(N)?N:Ie)),v[2][3].add(Ee(0,Ue,C(H)?H:U))}).promise()},promise:function(N){return N!=null?g.extend(N,S):S}},D={};return g.each(v,function(N,H){var he=H[2],se=H[5];S[H[1]]=he.add,se&&he.add(function(){w=se},v[3-N][2].disable,v[3-N][3].disable,v[0][2].lock,v[0][3].lock),he.add(H[3].fire),D[H[0]]=function(){return D[H[0]+"With"](this===D?void 0:this,arguments),this},D[H[0]+"With"]=he.fireWith}),S.promise(D),p&&p.call(D,D),D},when:function(p){var v=arguments.length,w=v,S=Array(w),D=o.call(arguments),N=g.Deferred(),H=function(he){return function(se){S[he]=this,D[he]=arguments.length>1?o.call(arguments):se,--v||N.resolveWith(S,D)}};if(v<=1&&(K(p,N.done(H(w)).resolve,N.reject,!v),N.state()==="pending"||C(D[w]&&D[w].then)))return N.then();for(;w--;)K(D[w],H(w),N.reject);return N.promise()}});var ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(p,v){t.console&&t.console.warn&&p&&ne.test(p.name)&&t.console.warn("jQuery.Deferred exception: "+p.message,p.stack,v)},g.readyException=function(p){t.setTimeout(function(){throw p})};var we=g.Deferred();g.fn.ready=function(p){return we.then(p).catch(function(v){g.readyException(v)}),this},g.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(p!==!0&&--g.readyWait>0)&&we.resolveWith(T,[g]))}}),g.ready.then=we.then;function fe(){T.removeEventListener("DOMContentLoaded",fe),t.removeEventListener("load",fe),g.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?t.setTimeout(g.ready):(T.addEventListener("DOMContentLoaded",fe),t.addEventListener("load",fe));var ze=function(p,v,w,S,D,N,H){var he=0,se=p.length,Ee=w==null;if(F(w)==="object"){D=!0;for(he in w)ze(p,v,he,w[he],!0,N,H)}else if(S!==void 0&&(D=!0,C(S)||(H=!0),Ee&&(H?(v.call(p,S),v=null):(Ee=v,v=function(Ue,Ve,Ne){return Ee.call(g(Ue),Ne)})),v))for(;he<se;he++)v(p[he],w,H?S:S.call(p[he],he,v(p[he],w)));return D?p:Ee?v.call(p):se?v(p[0],w):N},tt=/^-ms-/,Je=/-([a-z])/g;function nt(p,v){return v.toUpperCase()}function Xe(p){return p.replace(tt,"ms-").replace(Je,nt)}var ht=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function vt(){this.expando=g.expando+vt.uid++}vt.uid=1,vt.prototype={cache:function(p){var v=p[this.expando];return v||(v={},ht(p)&&(p.nodeType?p[this.expando]=v:Object.defineProperty(p,this.expando,{value:v,configurable:!0}))),v},set:function(p,v,w){var S,D=this.cache(p);if(typeof v=="string")D[Xe(v)]=w;else for(S in v)D[Xe(S)]=v[S];return D},get:function(p,v){return v===void 0?this.cache(p):p[this.expando]&&p[this.expando][Xe(v)]},access:function(p,v,w){return v===void 0||v&&typeof v=="string"&&w===void 0?this.get(p,v):(this.set(p,v,w),w!==void 0?w:v)},remove:function(p,v){var w,S=p[this.expando];if(S!==void 0){if(v!==void 0)for(Array.isArray(v)?v=v.map(Xe):(v=Xe(v),v=v in S?[v]:v.match(Fe)||[]),w=v.length;w--;)delete S[v[w]];(v===void 0||g.isEmptyObject(S))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var v=p[this.expando];return v!==void 0&&!g.isEmptyObject(v)}};var Ge=new vt,ft=new vt,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Jt=/[A-Z]/g;function yn(p){return p==="true"?!0:p==="false"?!1:p==="null"?null:p===+p+""?+p:Et.test(p)?JSON.parse(p):p}function Fn(p,v,w){var S;if(w===void 0&&p.nodeType===1)if(S="data-"+v.replace(Jt,"-$&").toLowerCase(),w=p.getAttribute(S),typeof w=="string"){try{w=yn(w)}catch{}ft.set(p,v,w)}else w=void 0;return w}g.extend({hasData:function(p){return ft.hasData(p)||Ge.hasData(p)},data:function(p,v,w){return ft.access(p,v,w)},removeData:function(p,v){ft.remove(p,v)},_data:function(p,v,w){return Ge.access(p,v,w)},_removeData:function(p,v){Ge.remove(p,v)}}),g.fn.extend({data:function(p,v){var w,S,D,N=this[0],H=N&&N.attributes;if(p===void 0){if(this.length&&(D=ft.get(N),N.nodeType===1&&!Ge.get(N,"hasDataAttrs"))){for(w=H.length;w--;)H[w]&&(S=H[w].name,S.indexOf("data-")===0&&(S=Xe(S.slice(5)),Fn(N,S,D[S])));Ge.set(N,"hasDataAttrs",!0)}return D}return typeof p=="object"?this.each(function(){ft.set(this,p)}):ze(this,function(he){var se;if(N&&he===void 0)return se=ft.get(N,p),se!==void 0||(se=Fn(N,p),se!==void 0)?se:void 0;this.each(function(){ft.set(this,p,he)})},null,v,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){ft.remove(this,p)})}}),g.extend({queue:function(p,v,w){var S;if(p)return v=(v||"fx")+"queue",S=Ge.get(p,v),w&&(!S||Array.isArray(w)?S=Ge.access(p,v,g.makeArray(w)):S.push(w)),S||[]},dequeue:function(p,v){v=v||"fx";var w=g.queue(p,v),S=w.length,D=w.shift(),N=g._queueHooks(p,v),H=function(){g.dequeue(p,v)};D==="inprogress"&&(D=w.shift(),S--),D&&(v==="fx"&&w.unshift("inprogress"),delete N.stop,D.call(p,H,N)),!S&&N&&N.empty.fire()},_queueHooks:function(p,v){var w=v+"queueHooks";return Ge.get(p,w)||Ge.access(p,w,{empty:g.Callbacks("once memory").add(function(){Ge.remove(p,[v+"queue",w])})})}}),g.fn.extend({queue:function(p,v){var w=2;return typeof p!="string"&&(v=p,p="fx",w--),arguments.length<w?g.queue(this[0],p):v===void 0?this:this.each(function(){var S=g.queue(this,p,v);g._queueHooks(this,p),p==="fx"&&S[0]!=="inprogress"&&g.dequeue(this,p)})},dequeue:function(p){return this.each(function(){g.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,v){var w,S=1,D=g.Deferred(),N=this,H=this.length,he=function(){--S||D.resolveWith(N,[N])};for(typeof p!="string"&&(v=p,p=void 0),p=p||"fx";H--;)w=Ge.get(N[H],p+"queueHooks"),w&&w.empty&&(S++,w.empty.add(he));return he(),D.promise(v)}});var Rn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cn=new RegExp("^(?:([+-])=|)("+Rn+")([a-z%]*)$","i"),bn=["Top","Right","Bottom","Left"],Gn=T.documentElement,yi=function(p){return g.contains(p.ownerDocument,p)},Qn={composed:!0};Gn.getRootNode&&(yi=function(p){return g.contains(p.ownerDocument,p)||p.getRootNode(Qn)===p.ownerDocument});var ti=function(p,v){return p=v||p,p.style.display==="none"||p.style.display===""&&yi(p)&&g.css(p,"display")==="none"};function Bi(p,v,w,S){var D,N,H=20,he=S?function(){return S.cur()}:function(){return g.css(p,v,"")},se=he(),Ee=w&&w[3]||(g.cssNumber[v]?"":"px"),Ue=p.nodeType&&(g.cssNumber[v]||Ee!=="px"&&+se)&&Cn.exec(g.css(p,v));if(Ue&&Ue[3]!==Ee){for(se=se/2,Ee=Ee||Ue[3],Ue=+se||1;H--;)g.style(p,v,Ue+Ee),(1-N)*(1-(N=he()/se||.5))<=0&&(H=0),Ue=Ue/N;Ue=Ue*2,g.style(p,v,Ue+Ee),w=w||[]}return w&&(Ue=+Ue||+se||0,D=w[1]?Ue+(w[1]+1)*w[2]:+w[2],S&&(S.unit=Ee,S.start=Ue,S.end=D)),D}var ho={};function qr(p){var v,w=p.ownerDocument,S=p.nodeName,D=ho[S];return D||(v=w.body.appendChild(w.createElement(S)),D=g.css(v,"display"),v.parentNode.removeChild(v),D==="none"&&(D="block"),ho[S]=D,D)}function On(p,v){for(var w,S,D=[],N=0,H=p.length;N<H;N++)S=p[N],S.style&&(w=S.style.display,v?(w==="none"&&(D[N]=Ge.get(S,"display")||null,D[N]||(S.style.display="")),S.style.display===""&&ti(S)&&(D[N]=qr(S))):w!=="none"&&(D[N]="none",Ge.set(S,"display",w)));for(N=0;N<H;N++)D[N]!=null&&(p[N].style.display=D[N]);return p}g.fn.extend({show:function(){return On(this,!0)},hide:function(){return On(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){ti(this)?g(this).show():g(this).hide()})}});var Ti=/^(?:checkbox|radio)$/i,Oo=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,zr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=T.createDocumentFragment(),v=p.appendChild(T.createElement("div")),w=T.createElement("input");w.setAttribute("type","radio"),w.setAttribute("checked","checked"),w.setAttribute("name","t"),v.appendChild(w),x.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue,v.innerHTML="<option></option>",x.option=!!v.lastChild})();var Wn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wn.tbody=Wn.tfoot=Wn.colgroup=Wn.caption=Wn.thead,Wn.th=Wn.td,x.option||(Wn.optgroup=Wn.option=[1,"<select multiple='multiple'>","</select>"]);function ci(p,v){var w;return typeof p.getElementsByTagName<"u"?w=p.getElementsByTagName(v||"*"):typeof p.querySelectorAll<"u"?w=p.querySelectorAll(v||"*"):w=[],v===void 0||v&&M(p,v)?g.merge([p],w):w}function Lo(p,v){for(var w=0,S=p.length;w<S;w++)Ge.set(p[w],"globalEval",!v||Ge.get(v[w],"globalEval"))}var yc=/<|&#?\w+;/;function Is(p,v,w,S,D){for(var N,H,he,se,Ee,Ue,Ve=v.createDocumentFragment(),Ne=[],at=0,Tt=p.length;at<Tt;at++)if(N=p[at],N||N===0)if(F(N)==="object")g.merge(Ne,N.nodeType?[N]:N);else if(!yc.test(N))Ne.push(v.createTextNode(N));else{for(H=H||Ve.appendChild(v.createElement("div")),he=(Oo.exec(N)||["",""])[1].toLowerCase(),se=Wn[he]||Wn._default,H.innerHTML=se[1]+g.htmlPrefilter(N)+se[2],Ue=se[0];Ue--;)H=H.lastChild;g.merge(Ne,H.childNodes),H=Ve.firstChild,H.textContent=""}for(Ve.textContent="",at=0;N=Ne[at++];){if(S&&g.inArray(N,S)>-1){D&&D.push(N);continue}if(Ee=yi(N),H=ci(Ve.appendChild(N),"script"),Ee&&Lo(H),w)for(Ue=0;N=H[Ue++];)zr.test(N.type||"")&&w.push(N)}return Ve}var ts=/^([^.]*)(?:\.(.+)|)/;function Ur(){return!0}function Si(){return!1}function Hr(p,v,w,S,D,N){var H,he;if(typeof v=="object"){typeof w!="string"&&(S=S||w,w=void 0);for(he in v)Hr(p,he,w,S,v[he],N);return p}if(S==null&&D==null?(D=w,S=w=void 0):D==null&&(typeof w=="string"?(D=S,S=void 0):(D=S,S=w,w=void 0)),D===!1)D=Si;else if(!D)return p;return N===1&&(H=D,D=function(se){return g().off(se),H.apply(this,arguments)},D.guid=H.guid||(H.guid=g.guid++)),p.each(function(){g.event.add(this,v,D,S,w)})}g.event={global:{},add:function(p,v,w,S,D){var N,H,he,se,Ee,Ue,Ve,Ne,at,Tt,Zt,Yt=Ge.get(p);if(ht(p))for(w.handler&&(N=w,w=N.handler,D=N.selector),D&&g.find.matchesSelector(Gn,D),w.guid||(w.guid=g.guid++),(se=Yt.events)||(se=Yt.events=Object.create(null)),(H=Yt.handle)||(H=Yt.handle=function(P){return typeof g<"u"&&g.event.triggered!==P.type?g.event.dispatch.apply(p,arguments):void 0}),v=(v||"").match(Fe)||[""],Ee=v.length;Ee--;)he=ts.exec(v[Ee])||[],at=Zt=he[1],Tt=(he[2]||"").split(".").sort(),at&&(Ve=g.event.special[at]||{},at=(D?Ve.delegateType:Ve.bindType)||at,Ve=g.event.special[at]||{},Ue=g.extend({type:at,origType:Zt,data:S,handler:w,guid:w.guid,selector:D,needsContext:D&&g.expr.match.needsContext.test(D),namespace:Tt.join(".")},N),(Ne=se[at])||(Ne=se[at]=[],Ne.delegateCount=0,(!Ve.setup||Ve.setup.call(p,S,Tt,H)===!1)&&p.addEventListener&&p.addEventListener(at,H)),Ve.add&&(Ve.add.call(p,Ue),Ue.handler.guid||(Ue.handler.guid=w.guid)),D?Ne.splice(Ne.delegateCount++,0,Ue):Ne.push(Ue),g.event.global[at]=!0)},remove:function(p,v,w,S,D){var N,H,he,se,Ee,Ue,Ve,Ne,at,Tt,Zt,Yt=Ge.hasData(p)&&Ge.get(p);if(!(!Yt||!(se=Yt.events))){for(v=(v||"").match(Fe)||[""],Ee=v.length;Ee--;){if(he=ts.exec(v[Ee])||[],at=Zt=he[1],Tt=(he[2]||"").split(".").sort(),!at){for(at in se)g.event.remove(p,at+v[Ee],w,S,!0);continue}for(Ve=g.event.special[at]||{},at=(S?Ve.delegateType:Ve.bindType)||at,Ne=se[at]||[],he=he[2]&&new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),H=N=Ne.length;N--;)Ue=Ne[N],(D||Zt===Ue.origType)&&(!w||w.guid===Ue.guid)&&(!he||he.test(Ue.namespace))&&(!S||S===Ue.selector||S==="**"&&Ue.selector)&&(Ne.splice(N,1),Ue.selector&&Ne.delegateCount--,Ve.remove&&Ve.remove.call(p,Ue));H&&!Ne.length&&((!Ve.teardown||Ve.teardown.call(p,Tt,Yt.handle)===!1)&&g.removeEvent(p,at,Yt.handle),delete se[at])}g.isEmptyObject(se)&&Ge.remove(p,"handle events")}},dispatch:function(p){var v,w,S,D,N,H,he=new Array(arguments.length),se=g.event.fix(p),Ee=(Ge.get(this,"events")||Object.create(null))[se.type]||[],Ue=g.event.special[se.type]||{};for(he[0]=se,v=1;v<arguments.length;v++)he[v]=arguments[v];if(se.delegateTarget=this,!(Ue.preDispatch&&Ue.preDispatch.call(this,se)===!1)){for(H=g.event.handlers.call(this,se,Ee),v=0;(D=H[v++])&&!se.isPropagationStopped();)for(se.currentTarget=D.elem,w=0;(N=D.handlers[w++])&&!se.isImmediatePropagationStopped();)(!se.rnamespace||N.namespace===!1||se.rnamespace.test(N.namespace))&&(se.handleObj=N,se.data=N.data,S=((g.event.special[N.origType]||{}).handle||N.handler).apply(D.elem,he),S!==void 0&&(se.result=S)===!1&&(se.preventDefault(),se.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,se),se.result}},handlers:function(p,v){var w,S,D,N,H,he=[],se=v.delegateCount,Ee=p.target;if(se&&Ee.nodeType&&!(p.type==="click"&&p.button>=1)){for(;Ee!==this;Ee=Ee.parentNode||this)if(Ee.nodeType===1&&!(p.type==="click"&&Ee.disabled===!0)){for(N=[],H={},w=0;w<se;w++)S=v[w],D=S.selector+" ",H[D]===void 0&&(H[D]=S.needsContext?g(D,this).index(Ee)>-1:g.find(D,this,null,[Ee]).length),H[D]&&N.push(S);N.length&&he.push({elem:Ee,handlers:N})}}return Ee=this,se<v.length&&he.push({elem:Ee,handlers:v.slice(se)}),he},addProp:function(p,v){Object.defineProperty(g.Event.prototype,p,{enumerable:!0,configurable:!0,get:C(v)?function(){if(this.originalEvent)return v(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(w){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:w})}})},fix:function(p){return p[g.expando]?p:new g.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var v=this||p;return Ti.test(v.type)&&v.click&&M(v,"input")&&ns(v,"click",!0),!1},trigger:function(p){var v=this||p;return Ti.test(v.type)&&v.click&&M(v,"input")&&ns(v,"click"),!0},_default:function(p){var v=p.target;return Ti.test(v.type)&&v.click&&M(v,"input")&&Ge.get(v,"click")||M(v,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};function ns(p,v,w){if(!w){Ge.get(p,v)===void 0&&g.event.add(p,v,Ur);return}Ge.set(p,v,!1),g.event.add(p,v,{namespace:!1,handler:function(S){var D,N=Ge.get(this,v);if(S.isTrigger&1&&this[v]){if(N)(g.event.special[v]||{}).delegateType&&S.stopPropagation();else if(N=o.call(arguments),Ge.set(this,v,N),this[v](),D=Ge.get(this,v),Ge.set(this,v,!1),N!==D)return S.stopImmediatePropagation(),S.preventDefault(),D}else N&&(Ge.set(this,v,g.event.trigger(N[0],N.slice(1),this)),S.stopPropagation(),S.isImmediatePropagationStopped=Ur)}})}g.removeEvent=function(p,v,w){p.removeEventListener&&p.removeEventListener(v,w)},g.Event=function(p,v){if(!(this instanceof g.Event))return new g.Event(p,v);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||p.defaultPrevented===void 0&&p.returnValue===!1?Ur:Si,this.target=p.target&&p.target.nodeType===3?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,v&&g.extend(this,v),this.timeStamp=p&&p.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Si,isPropagationStopped:Si,isImmediatePropagationStopped:Si,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=Ur,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=Ur,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=Ur,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(p,v){function w(S){if(T.documentMode){var D=Ge.get(this,"handle"),N=g.event.fix(S);N.type=S.type==="focusin"?"focus":"blur",N.isSimulated=!0,D(S),N.target===N.currentTarget&&D(N)}else g.event.simulate(v,S.target,g.event.fix(S))}g.event.special[p]={setup:function(){var S;if(ns(this,p,!0),T.documentMode)S=Ge.get(this,v),S||this.addEventListener(v,w),Ge.set(this,v,(S||0)+1);else return!1},trigger:function(){return ns(this,p),!0},teardown:function(){var S;if(T.documentMode)S=Ge.get(this,v)-1,S?Ge.set(this,v,S):(this.removeEventListener(v,w),Ge.remove(this,v));else return!1},_default:function(S){return Ge.get(S.target,p)},delegateType:v},g.event.special[v]={setup:function(){var S=this.ownerDocument||this.document||this,D=T.documentMode?this:S,N=Ge.get(D,v);N||(T.documentMode?this.addEventListener(v,w):S.addEventListener(p,w,!0)),Ge.set(D,v,(N||0)+1)},teardown:function(){var S=this.ownerDocument||this.document||this,D=T.documentMode?this:S,N=Ge.get(D,v)-1;N?Ge.set(D,v,N):(T.documentMode?this.removeEventListener(v,w):S.removeEventListener(p,w,!0),Ge.remove(D,v))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,v){g.event.special[p]={delegateType:v,bindType:v,handle:function(w){var S,D=this,N=w.relatedTarget,H=w.handleObj;return(!N||N!==D&&!g.contains(D,N))&&(w.type=H.origType,S=H.handler.apply(this,arguments),w.type=v),S}}}),g.fn.extend({on:function(p,v,w,S){return Hr(this,p,v,w,S)},one:function(p,v,w,S){return Hr(this,p,v,w,S,1)},off:function(p,v,w){var S,D;if(p&&p.preventDefault&&p.handleObj)return S=p.handleObj,g(p.delegateTarget).off(S.namespace?S.origType+"."+S.namespace:S.origType,S.selector,S.handler),this;if(typeof p=="object"){for(D in p)this.off(D,v,p[D]);return this}return(v===!1||typeof v=="function")&&(w=v,v=void 0),w===!1&&(w=Si),this.each(function(){g.event.remove(this,p,w,v)})}});var ll=/<script|<style|<link/i,vc=/checked\s*(?:[^=]|=\s*.checked.)/i,Ps=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ji(p,v){return M(p,"table")&&M(v.nodeType!==11?v:v.firstChild,"tr")&&g(p).children("tbody")[0]||p}function cl(p){return p.type=(p.getAttribute("type")!==null)+"/"+p.type,p}function va(p){return(p.type||"").slice(0,5)==="true/"?p.type=p.type.slice(5):p.removeAttribute("type"),p}function Os(p,v){var w,S,D,N,H,he,se;if(v.nodeType===1){if(Ge.hasData(p)&&(N=Ge.get(p),se=N.events,se)){Ge.remove(v,"handle events");for(D in se)for(w=0,S=se[D].length;w<S;w++)g.event.add(v,D,se[D][w])}ft.hasData(p)&&(H=ft.access(p),he=g.extend({},H),ft.set(v,he))}}function is(p,v){var w=v.nodeName.toLowerCase();w==="input"&&Ti.test(p.type)?v.checked=p.checked:(w==="input"||w==="textarea")&&(v.defaultValue=p.defaultValue)}function fo(p,v,w,S){v=s(v);var D,N,H,he,se,Ee,Ue=0,Ve=p.length,Ne=Ve-1,at=v[0],Tt=C(at);if(Tt||Ve>1&&typeof at=="string"&&!x.checkClone&&vc.test(at))return p.each(function(Zt){var Yt=p.eq(Zt);Tt&&(v[0]=at.call(this,Zt,Yt.html())),fo(Yt,v,w,S)});if(Ve&&(D=Is(v,p[0].ownerDocument,!1,p,S),N=D.firstChild,D.childNodes.length===1&&(D=N),N||S)){for(H=g.map(ci(D,"script"),cl),he=H.length;Ue<Ve;Ue++)se=D,Ue!==Ne&&(se=g.clone(se,!0,!0),he&&g.merge(H,ci(se,"script"))),w.call(p[Ue],se,Ue);if(he)for(Ee=H[H.length-1].ownerDocument,g.map(H,va),Ue=0;Ue<he;Ue++)se=H[Ue],zr.test(se.type||"")&&!Ge.access(se,"globalEval")&&g.contains(Ee,se)&&(se.src&&(se.type||"").toLowerCase()!=="module"?g._evalUrl&&!se.noModule&&g._evalUrl(se.src,{nonce:se.nonce||se.getAttribute("nonce")},Ee):R(se.textContent.replace(Ps,""),se,Ee))}return p}function Lt(p,v,w){for(var S,D=v?g.filter(v,p):p,N=0;(S=D[N])!=null;N++)!w&&S.nodeType===1&&g.cleanData(ci(S)),S.parentNode&&(w&&yi(S)&&Lo(ci(S,"script")),S.parentNode.removeChild(S));return p}g.extend({htmlPrefilter:function(p){return p},clone:function(p,v,w){var S,D,N,H,he=p.cloneNode(!0),se=yi(p);if(!x.noCloneChecked&&(p.nodeType===1||p.nodeType===11)&&!g.isXMLDoc(p))for(H=ci(he),N=ci(p),S=0,D=N.length;S<D;S++)is(N[S],H[S]);if(v)if(w)for(N=N||ci(p),H=H||ci(he),S=0,D=N.length;S<D;S++)Os(N[S],H[S]);else Os(p,he);return H=ci(he,"script"),H.length>0&&Lo(H,!se&&ci(p,"script")),he},cleanData:function(p){for(var v,w,S,D=g.event.special,N=0;(w=p[N])!==void 0;N++)if(ht(w)){if(v=w[Ge.expando]){if(v.events)for(S in v.events)D[S]?g.event.remove(w,S):g.removeEvent(w,S,v.handle);w[Ge.expando]=void 0}w[ft.expando]&&(w[ft.expando]=void 0)}}}),g.fn.extend({detach:function(p){return Lt(this,p,!0)},remove:function(p){return Lt(this,p)},text:function(p){return ze(this,function(v){return v===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=v)})},null,p,arguments.length)},append:function(){return fo(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=ji(this,p);v.appendChild(p)}})},prepend:function(){return fo(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=ji(this,p);v.insertBefore(p,v.firstChild)}})},before:function(){return fo(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return fo(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,v=0;(p=this[v])!=null;v++)p.nodeType===1&&(g.cleanData(ci(p,!1)),p.textContent="");return this},clone:function(p,v){return p=p??!1,v=v??p,this.map(function(){return g.clone(this,p,v)})},html:function(p){return ze(this,function(v){var w=this[0]||{},S=0,D=this.length;if(v===void 0&&w.nodeType===1)return w.innerHTML;if(typeof v=="string"&&!ll.test(v)&&!Wn[(Oo.exec(v)||["",""])[1].toLowerCase()]){v=g.htmlPrefilter(v);try{for(;S<D;S++)w=this[S]||{},w.nodeType===1&&(g.cleanData(ci(w,!1)),w.innerHTML=v);w=0}catch{}}w&&this.empty().append(v)},null,p,arguments.length)},replaceWith:function(){var p=[];return fo(this,arguments,function(v){var w=this.parentNode;g.inArray(this,p)<0&&(g.cleanData(ci(this)),w&&w.replaceChild(v,this))},p)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,v){g.fn[p]=function(w){for(var S,D=[],N=g(w),H=N.length-1,he=0;he<=H;he++)S=he===H?this:this.clone(!0),g(N[he])[v](S),a.apply(D,S.get());return this.pushStack(D)}});var Te=new RegExp("^("+Rn+")(?!px)[a-z%]+$","i"),ct=/^--/,Ct=function(p){var v=p.ownerDocument.defaultView;return(!v||!v.opener)&&(v=t),v.getComputedStyle(p)},Tn=function(p,v,w){var S,D,N={};for(D in v)N[D]=p.style[D],p.style[D]=v[D];S=w.call(p);for(D in v)p.style[D]=N[D];return S},ui=new RegExp(bn.join("|"),"i");(function(){function p(){if(Ee){se.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gn.appendChild(se).appendChild(Ee);var Ue=t.getComputedStyle(Ee);w=Ue.top!=="1%",he=v(Ue.marginLeft)===12,Ee.style.right="60%",N=v(Ue.right)===36,S=v(Ue.width)===36,Ee.style.position="absolute",D=v(Ee.offsetWidth/3)===12,Gn.removeChild(se),Ee=null}}function v(Ue){return Math.round(parseFloat(Ue))}var w,S,D,N,H,he,se=T.createElement("div"),Ee=T.createElement("div");Ee.style&&(Ee.style.backgroundClip="content-box",Ee.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=Ee.style.backgroundClip==="content-box",g.extend(x,{boxSizingReliable:function(){return p(),S},pixelBoxStyles:function(){return p(),N},pixelPosition:function(){return p(),w},reliableMarginLeft:function(){return p(),he},scrollboxSize:function(){return p(),D},reliableTrDimensions:function(){var Ue,Ve,Ne,at;return H==null&&(Ue=T.createElement("table"),Ve=T.createElement("tr"),Ne=T.createElement("div"),Ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ve.style.cssText="box-sizing:content-box;border:1px solid",Ve.style.height="1px",Ne.style.height="9px",Ne.style.display="block",Gn.appendChild(Ue).appendChild(Ve).appendChild(Ne),at=t.getComputedStyle(Ve),H=parseInt(at.height,10)+parseInt(at.borderTopWidth,10)+parseInt(at.borderBottomWidth,10)===Ve.offsetHeight,Gn.removeChild(Ue)),H}}))})();function oi(p,v,w){var S,D,N,H,he=ct.test(v),se=p.style;return w=w||Ct(p),w&&(H=w.getPropertyValue(v)||w[v],he&&H&&(H=H.replace(pe,"$1")||void 0),H===""&&!yi(p)&&(H=g.style(p,v)),!x.pixelBoxStyles()&&Te.test(H)&&ui.test(v)&&(S=se.width,D=se.minWidth,N=se.maxWidth,se.minWidth=se.maxWidth=se.width=H,H=w.width,se.width=S,se.minWidth=D,se.maxWidth=N)),H!==void 0?H+"":H}function ni(p,v){return{get:function(){if(p()){delete this.get;return}return(this.get=v).apply(this,arguments)}}}var fi=["Webkit","Moz","ms"],po=T.createElement("div").style,_i={};function Ls(p){for(var v=p[0].toUpperCase()+p.slice(1),w=fi.length;w--;)if(p=fi[w]+v,p in po)return p}function go(p){var v=g.cssProps[p]||_i[p];return v||(p in po?p:_i[p]=Ls(p)||p)}var bc=/^(none|table(?!-c[ea]).+)/,ul={position:"absolute",visibility:"hidden",display:"block"},dl={letterSpacing:"0",fontWeight:"400"};function $u(p,v,w){var S=Cn.exec(v);return S?Math.max(0,S[2]-(w||0))+(S[3]||"px"):v}function _c(p,v,w,S,D,N){var H=v==="width"?1:0,he=0,se=0,Ee=0;if(w===(S?"border":"content"))return 0;for(;H<4;H+=2)w==="margin"&&(Ee+=g.css(p,w+bn[H],!0,D)),S?(w==="content"&&(se-=g.css(p,"padding"+bn[H],!0,D)),w!=="margin"&&(se-=g.css(p,"border"+bn[H]+"Width",!0,D))):(se+=g.css(p,"padding"+bn[H],!0,D),w!=="padding"?se+=g.css(p,"border"+bn[H]+"Width",!0,D):he+=g.css(p,"border"+bn[H]+"Width",!0,D));return!S&&N>=0&&(se+=Math.max(0,Math.ceil(p["offset"+v[0].toUpperCase()+v.slice(1)]-N-se-he-.5))||0),se+Ee}function Vr(p,v,w){var S=Ct(p),D=!x.boxSizingReliable()||w,N=D&&g.css(p,"boxSizing",!1,S)==="border-box",H=N,he=oi(p,v,S),se="offset"+v[0].toUpperCase()+v.slice(1);if(Te.test(he)){if(!w)return he;he="auto"}return(!x.boxSizingReliable()&&N||!x.reliableTrDimensions()&&M(p,"tr")||he==="auto"||!parseFloat(he)&&g.css(p,"display",!1,S)==="inline")&&p.getClientRects().length&&(N=g.css(p,"boxSizing",!1,S)==="border-box",H=se in p,H&&(he=p[se])),he=parseFloat(he)||0,he+_c(p,v,w||(N?"border":"content"),H,S,he)+"px"}g.extend({cssHooks:{opacity:{get:function(p,v){if(v){var w=oi(p,"opacity");return w===""?"1":w}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,v,w,S){if(!(!p||p.nodeType===3||p.nodeType===8||!p.style)){var D,N,H,he=Xe(v),se=ct.test(v),Ee=p.style;if(se||(v=go(he)),H=g.cssHooks[v]||g.cssHooks[he],w!==void 0){if(N=typeof w,N==="string"&&(D=Cn.exec(w))&&D[1]&&(w=Bi(p,v,D),N="number"),w==null||w!==w)return;N==="number"&&!se&&(w+=D&&D[3]||(g.cssNumber[he]?"":"px")),!x.clearCloneStyle&&w===""&&v.indexOf("background")===0&&(Ee[v]="inherit"),(!H||!("set"in H)||(w=H.set(p,w,S))!==void 0)&&(se?Ee.setProperty(v,w):Ee[v]=w)}else return H&&"get"in H&&(D=H.get(p,!1,S))!==void 0?D:Ee[v]}},css:function(p,v,w,S){var D,N,H,he=Xe(v),se=ct.test(v);return se||(v=go(he)),H=g.cssHooks[v]||g.cssHooks[he],H&&"get"in H&&(D=H.get(p,!0,w)),D===void 0&&(D=oi(p,v,S)),D==="normal"&&v in dl&&(D=dl[v]),w===""||w?(N=parseFloat(D),w===!0||isFinite(N)?N||0:D):D}}),g.each(["height","width"],function(p,v){g.cssHooks[v]={get:function(w,S,D){if(S)return bc.test(g.css(w,"display"))&&(!w.getClientRects().length||!w.getBoundingClientRect().width)?Tn(w,ul,function(){return Vr(w,v,D)}):Vr(w,v,D)},set:function(w,S,D){var N,H=Ct(w),he=!x.scrollboxSize()&&H.position==="absolute",se=he||D,Ee=se&&g.css(w,"boxSizing",!1,H)==="border-box",Ue=D?_c(w,v,D,Ee,H):0;return Ee&&he&&(Ue-=Math.ceil(w["offset"+v[0].toUpperCase()+v.slice(1)]-parseFloat(H[v])-_c(w,v,"border",!1,H)-.5)),Ue&&(N=Cn.exec(S))&&(N[3]||"px")!=="px"&&(w.style[v]=S,S=g.css(w,v)),$u(w,S,Ue)}}}),g.cssHooks.marginLeft=ni(x.reliableMarginLeft,function(p,v){if(v)return(parseFloat(oi(p,"marginLeft"))||p.getBoundingClientRect().left-Tn(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(p,v){g.cssHooks[p+v]={expand:function(w){for(var S=0,D={},N=typeof w=="string"?w.split(" "):[w];S<4;S++)D[p+bn[S]+v]=N[S]||N[S-2]||N[0];return D}},p!=="margin"&&(g.cssHooks[p+v].set=$u)}),g.fn.extend({css:function(p,v){return ze(this,function(w,S,D){var N,H,he={},se=0;if(Array.isArray(S)){for(N=Ct(w),H=S.length;se<H;se++)he[S[se]]=g.css(w,S[se],!1,N);return he}return D!==void 0?g.style(w,S,D):g.css(w,S)},p,v,arguments.length>1)}});function xi(p,v,w,S,D){return new xi.prototype.init(p,v,w,S,D)}g.Tween=xi,xi.prototype={constructor:xi,init:function(p,v,w,S,D,N){this.elem=p,this.prop=w,this.easing=D||g.easing._default,this.options=v,this.start=this.now=this.cur(),this.end=S,this.unit=N||(g.cssNumber[w]?"":"px")},cur:function(){var p=xi.propHooks[this.prop];return p&&p.get?p.get(this):xi.propHooks._default.get(this)},run:function(p){var v,w=xi.propHooks[this.prop];return this.options.duration?this.pos=v=g.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=v=p,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),w&&w.set?w.set(this):xi.propHooks._default.set(this),this}},xi.prototype.init.prototype=xi.prototype,xi.propHooks={_default:{get:function(p){var v;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(v=g.css(p.elem,p.prop,""),!v||v==="auto"?0:v)},set:function(p){g.fx.step[p.prop]?g.fx.step[p.prop](p):p.elem.nodeType===1&&(g.cssHooks[p.prop]||p.elem.style[go(p.prop)]!=null)?g.style(p.elem,p.prop,p.now+p.unit):p.elem[p.prop]=p.now}}},xi.propHooks.scrollTop=xi.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},g.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},g.fx=xi.prototype.init,g.fx.step={};var rs,os,Ds=/^(?:toggle|show|hide)$/,ba=/queueHooks$/;function ss(){os&&(T.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ss):t.setTimeout(ss,g.fx.interval),g.fx.tick())}function hl(){return t.setTimeout(function(){rs=void 0}),rs=Date.now()}function _a(p,v){var w,S=0,D={height:p};for(v=v?1:0;S<4;S+=2-v)w=bn[S],D["margin"+w]=D["padding"+w]=p;return v&&(D.opacity=D.width=p),D}function Ns(p,v,w){for(var S,D=(sr.tweeners[v]||[]).concat(sr.tweeners["*"]),N=0,H=D.length;N<H;N++)if(S=D[N].call(w,v,p))return S}function xc(p,v,w){var S,D,N,H,he,se,Ee,Ue,Ve="width"in v||"height"in v,Ne=this,at={},Tt=p.style,Zt=p.nodeType&&ti(p),Yt=Ge.get(p,"fxshow");w.queue||(H=g._queueHooks(p,"fx"),H.unqueued==null&&(H.unqueued=0,he=H.empty.fire,H.empty.fire=function(){H.unqueued||he()}),H.unqueued++,Ne.always(function(){Ne.always(function(){H.unqueued--,g.queue(p,"fx").length||H.empty.fire()})}));for(S in v)if(D=v[S],Ds.test(D)){if(delete v[S],N=N||D==="toggle",D===(Zt?"hide":"show"))if(D==="show"&&Yt&&Yt[S]!==void 0)Zt=!0;else continue;at[S]=Yt&&Yt[S]||g.style(p,S)}if(se=!g.isEmptyObject(v),!(!se&&g.isEmptyObject(at))){Ve&&p.nodeType===1&&(w.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],Ee=Yt&&Yt.display,Ee==null&&(Ee=Ge.get(p,"display")),Ue=g.css(p,"display"),Ue==="none"&&(Ee?Ue=Ee:(On([p],!0),Ee=p.style.display||Ee,Ue=g.css(p,"display"),On([p]))),(Ue==="inline"||Ue==="inline-block"&&Ee!=null)&&g.css(p,"float")==="none"&&(se||(Ne.done(function(){Tt.display=Ee}),Ee==null&&(Ue=Tt.display,Ee=Ue==="none"?"":Ue)),Tt.display="inline-block")),w.overflow&&(Tt.overflow="hidden",Ne.always(function(){Tt.overflow=w.overflow[0],Tt.overflowX=w.overflow[1],Tt.overflowY=w.overflow[2]})),se=!1;for(S in at)se||(Yt?"hidden"in Yt&&(Zt=Yt.hidden):Yt=Ge.access(p,"fxshow",{display:Ee}),N&&(Yt.hidden=!Zt),Zt&&On([p],!0),Ne.done(function(){Zt||On([p]),Ge.remove(p,"fxshow");for(S in at)g.style(p,S,at[S])})),se=Ns(Zt?Yt[S]:0,S,Ne),S in Yt||(Yt[S]=se.start,Zt&&(se.end=se.start,se.start=0))}}function xa(p,v){var w,S,D,N,H;for(w in p)if(S=Xe(w),D=v[S],N=p[w],Array.isArray(N)&&(D=N[1],N=p[w]=N[0]),w!==S&&(p[S]=N,delete p[w]),H=g.cssHooks[S],H&&"expand"in H){N=H.expand(N),delete p[S];for(w in N)w in p||(p[w]=N[w],v[w]=D)}else v[S]=D}function sr(p,v,w){var S,D,N=0,H=sr.prefilters.length,he=g.Deferred().always(function(){delete se.elem}),se=function(){if(D)return!1;for(var Ve=rs||hl(),Ne=Math.max(0,Ee.startTime+Ee.duration-Ve),at=Ne/Ee.duration||0,Tt=1-at,Zt=0,Yt=Ee.tweens.length;Zt<Yt;Zt++)Ee.tweens[Zt].run(Tt);return he.notifyWith(p,[Ee,Tt,Ne]),Tt<1&&Yt?Ne:(Yt||he.notifyWith(p,[Ee,1,0]),he.resolveWith(p,[Ee]),!1)},Ee=he.promise({elem:p,props:g.extend({},v),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},w),originalProperties:v,originalOptions:w,startTime:rs||hl(),duration:w.duration,tweens:[],createTween:function(Ve,Ne){var at=g.Tween(p,Ee.opts,Ve,Ne,Ee.opts.specialEasing[Ve]||Ee.opts.easing);return Ee.tweens.push(at),at},stop:function(Ve){var Ne=0,at=Ve?Ee.tweens.length:0;if(D)return this;for(D=!0;Ne<at;Ne++)Ee.tweens[Ne].run(1);return Ve?(he.notifyWith(p,[Ee,1,0]),he.resolveWith(p,[Ee,Ve])):he.rejectWith(p,[Ee,Ve]),this}}),Ue=Ee.props;for(xa(Ue,Ee.opts.specialEasing);N<H;N++)if(S=sr.prefilters[N].call(Ee,p,Ue,Ee.opts),S)return C(S.stop)&&(g._queueHooks(Ee.elem,Ee.opts.queue).stop=S.stop.bind(S)),S;return g.map(Ue,Ns,Ee),C(Ee.opts.start)&&Ee.opts.start.call(p,Ee),Ee.progress(Ee.opts.progress).done(Ee.opts.done,Ee.opts.complete).fail(Ee.opts.fail).always(Ee.opts.always),g.fx.timer(g.extend(se,{elem:p,anim:Ee,queue:Ee.opts.queue})),Ee}g.Animation=g.extend(sr,{tweeners:{"*":[function(p,v){var w=this.createTween(p,v);return Bi(w.elem,p,Cn.exec(v),w),w}]},tweener:function(p,v){C(p)?(v=p,p=["*"]):p=p.match(Fe);for(var w,S=0,D=p.length;S<D;S++)w=p[S],sr.tweeners[w]=sr.tweeners[w]||[],sr.tweeners[w].unshift(v)},prefilters:[xc],prefilter:function(p,v){v?sr.prefilters.unshift(p):sr.prefilters.push(p)}}),g.speed=function(p,v,w){var S=p&&typeof p=="object"?g.extend({},p):{complete:w||!w&&v||C(p)&&p,duration:p,easing:w&&v||v&&!C(v)&&v};return g.fx.off?S.duration=0:typeof S.duration!="number"&&(S.duration in g.fx.speeds?S.duration=g.fx.speeds[S.duration]:S.duration=g.fx.speeds._default),(S.queue==null||S.queue===!0)&&(S.queue="fx"),S.old=S.complete,S.complete=function(){C(S.old)&&S.old.call(this),S.queue&&g.dequeue(this,S.queue)},S},g.fn.extend({fadeTo:function(p,v,w,S){return this.filter(ti).css("opacity",0).show().end().animate({opacity:v},p,w,S)},animate:function(p,v,w,S){var D=g.isEmptyObject(p),N=g.speed(v,w,S),H=function(){var he=sr(this,g.extend({},p),N);(D||Ge.get(this,"finish"))&&he.stop(!0)};return H.finish=H,D||N.queue===!1?this.each(H):this.queue(N.queue,H)},stop:function(p,v,w){var S=function(D){var N=D.stop;delete D.stop,N(w)};return typeof p!="string"&&(w=v,v=p,p=void 0),v&&this.queue(p||"fx",[]),this.each(function(){var D=!0,N=p!=null&&p+"queueHooks",H=g.timers,he=Ge.get(this);if(N)he[N]&&he[N].stop&&S(he[N]);else for(N in he)he[N]&&he[N].stop&&ba.test(N)&&S(he[N]);for(N=H.length;N--;)H[N].elem===this&&(p==null||H[N].queue===p)&&(H[N].anim.stop(w),D=!1,H.splice(N,1));(D||!w)&&g.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var v,w=Ge.get(this),S=w[p+"queue"],D=w[p+"queueHooks"],N=g.timers,H=S?S.length:0;for(w.finish=!0,g.queue(this,p,[]),D&&D.stop&&D.stop.call(this,!0),v=N.length;v--;)N[v].elem===this&&N[v].queue===p&&(N[v].anim.stop(!0),N.splice(v,1));for(v=0;v<H;v++)S[v]&&S[v].finish&&S[v].finish.call(this);delete w.finish})}}),g.each(["toggle","show","hide"],function(p,v){var w=g.fn[v];g.fn[v]=function(S,D,N){return S==null||typeof S=="boolean"?w.apply(this,arguments):this.animate(_a(v,!0),S,D,N)}}),g.each({slideDown:_a("show"),slideUp:_a("hide"),slideToggle:_a("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,v){g.fn[p]=function(w,S,D){return this.animate(v,w,S,D)}}),g.timers=[],g.fx.tick=function(){var p,v=0,w=g.timers;for(rs=Date.now();v<w.length;v++)p=w[v],!p()&&w[v]===p&&w.splice(v--,1);w.length||g.fx.stop(),rs=void 0},g.fx.timer=function(p){g.timers.push(p),g.fx.start()},g.fx.interval=13,g.fx.start=function(){os||(os=!0,ss())},g.fx.stop=function(){os=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(p,v){return p=g.fx&&g.fx.speeds[p]||p,v=v||"fx",this.queue(v,function(w,S){var D=t.setTimeout(w,p);S.stop=function(){t.clearTimeout(D)}})},function(){var p=T.createElement("input"),v=T.createElement("select"),w=v.appendChild(T.createElement("option"));p.type="checkbox",x.checkOn=p.value!=="",x.optSelected=w.selected,p=T.createElement("input"),p.value="t",p.type="radio",x.radioValue=p.value==="t"}();var fl,Do=g.expr.attrHandle;g.fn.extend({attr:function(p,v){return ze(this,g.attr,p,v,arguments.length>1)},removeAttr:function(p){return this.each(function(){g.removeAttr(this,p)})}}),g.extend({attr:function(p,v,w){var S,D,N=p.nodeType;if(!(N===3||N===8||N===2)){if(typeof p.getAttribute>"u")return g.prop(p,v,w);if((N!==1||!g.isXMLDoc(p))&&(D=g.attrHooks[v.toLowerCase()]||(g.expr.match.bool.test(v)?fl:void 0)),w!==void 0){if(w===null){g.removeAttr(p,v);return}return D&&"set"in D&&(S=D.set(p,w,v))!==void 0?S:(p.setAttribute(v,w+""),w)}return D&&"get"in D&&(S=D.get(p,v))!==null?S:(S=g.find.attr(p,v),S??void 0)}},attrHooks:{type:{set:function(p,v){if(!x.radioValue&&v==="radio"&&M(p,"input")){var w=p.value;return p.setAttribute("type",v),w&&(p.value=w),v}}}},removeAttr:function(p,v){var w,S=0,D=v&&v.match(Fe);if(D&&p.nodeType===1)for(;w=D[S++];)p.removeAttribute(w)}}),fl={set:function(p,v,w){return v===!1?g.removeAttr(p,w):p.setAttribute(w,w),w}},g.each(g.expr.match.bool.source.match(/\w+/g),function(p,v){var w=Do[v]||g.find.attr;Do[v]=function(S,D,N){var H,he,se=D.toLowerCase();return N||(he=Do[se],Do[se]=H,H=w(S,D,N)!=null?se:null,Do[se]=he),H}});var wa=/^(?:input|select|textarea|button)$/i,Ms=/^(?:a|area)$/i;g.fn.extend({prop:function(p,v){return ze(this,g.prop,p,v,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[g.propFix[p]||p]})}}),g.extend({prop:function(p,v,w){var S,D,N=p.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!g.isXMLDoc(p))&&(v=g.propFix[v]||v,D=g.propHooks[v]),w!==void 0?D&&"set"in D&&(S=D.set(p,w,v))!==void 0?S:p[v]=w:D&&"get"in D&&(S=D.get(p,v))!==null?S:p[v]},propHooks:{tabIndex:{get:function(p){var v=g.find.attr(p,"tabindex");return v?parseInt(v,10):wa.test(p.nodeName)||Ms.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(g.propHooks.selected={get:function(p){var v=p.parentNode;return v&&v.parentNode&&v.parentNode.selectedIndex,null},set:function(p){var v=p.parentNode;v&&(v.selectedIndex,v.parentNode&&v.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function ar(p){var v=p.match(Fe)||[];return v.join(" ")}function No(p){return p.getAttribute&&p.getAttribute("class")||""}function wc(p){return Array.isArray(p)?p:typeof p=="string"?p.match(Fe)||[]:[]}g.fn.extend({addClass:function(p){var v,w,S,D,N,H;return C(p)?this.each(function(he){g(this).addClass(p.call(this,he,No(this)))}):(v=wc(p),v.length?this.each(function(){if(S=No(this),w=this.nodeType===1&&" "+ar(S)+" ",w){for(N=0;N<v.length;N++)D=v[N],w.indexOf(" "+D+" ")<0&&(w+=D+" ");H=ar(w),S!==H&&this.setAttribute("class",H)}}):this)},removeClass:function(p){var v,w,S,D,N,H;return C(p)?this.each(function(he){g(this).removeClass(p.call(this,he,No(this)))}):arguments.length?(v=wc(p),v.length?this.each(function(){if(S=No(this),w=this.nodeType===1&&" "+ar(S)+" ",w){for(N=0;N<v.length;N++)for(D=v[N];w.indexOf(" "+D+" ")>-1;)w=w.replace(" "+D+" "," ");H=ar(w),S!==H&&this.setAttribute("class",H)}}):this):this.attr("class","")},toggleClass:function(p,v){var w,S,D,N,H=typeof p,he=H==="string"||Array.isArray(p);return C(p)?this.each(function(se){g(this).toggleClass(p.call(this,se,No(this),v),v)}):typeof v=="boolean"&&he?v?this.addClass(p):this.removeClass(p):(w=wc(p),this.each(function(){if(he)for(N=g(this),D=0;D<w.length;D++)S=w[D],N.hasClass(S)?N.removeClass(S):N.addClass(S);else(p===void 0||H==="boolean")&&(S=No(this),S&&Ge.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||p===!1?"":Ge.get(this,"__className__")||""))}))},hasClass:function(p){var v,w,S=0;for(v=" "+p+" ";w=this[S++];)if(w.nodeType===1&&(" "+ar(No(w))+" ").indexOf(v)>-1)return!0;return!1}});var qu=/\r/g;g.fn.extend({val:function(p){var v,w,S,D=this[0];return arguments.length?(S=C(p),this.each(function(N){var H;this.nodeType===1&&(S?H=p.call(this,N,g(this).val()):H=p,H==null?H="":typeof H=="number"?H+="":Array.isArray(H)&&(H=g.map(H,function(he){return he==null?"":he+""})),v=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!v||!("set"in v)||v.set(this,H,"value")===void 0)&&(this.value=H))})):D?(v=g.valHooks[D.type]||g.valHooks[D.nodeName.toLowerCase()],v&&"get"in v&&(w=v.get(D,"value"))!==void 0?w:(w=D.value,typeof w=="string"?w.replace(qu,""):w??"")):void 0}}),g.extend({valHooks:{option:{get:function(p){var v=g.find.attr(p,"value");return v??ar(g.text(p))}},select:{get:function(p){var v,w,S,D=p.options,N=p.selectedIndex,H=p.type==="select-one",he=H?null:[],se=H?N+1:D.length;for(N<0?S=se:S=H?N:0;S<se;S++)if(w=D[S],(w.selected||S===N)&&!w.disabled&&(!w.parentNode.disabled||!M(w.parentNode,"optgroup"))){if(v=g(w).val(),H)return v;he.push(v)}return he},set:function(p,v){for(var w,S,D=p.options,N=g.makeArray(v),H=D.length;H--;)S=D[H],(S.selected=g.inArray(g.valHooks.option.get(S),N)>-1)&&(w=!0);return w||(p.selectedIndex=-1),N}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(p,v){if(Array.isArray(v))return p.checked=g.inArray(g(p).val(),v)>-1}},x.checkOn||(g.valHooks[this].get=function(p){return p.getAttribute("value")===null?"on":p.value})});var as=t.location,pl={guid:Date.now()},Fs=/\?/;g.parseXML=function(p){var v,w;if(!p||typeof p!="string")return null;try{v=new t.DOMParser().parseFromString(p,"text/xml")}catch{}return w=v&&v.getElementsByTagName("parsererror")[0],(!v||w)&&g.error("Invalid XML: "+(w?g.map(w.childNodes,function(S){return S.textContent}).join(`
`):p)),v};var zu=/^(?:focusinfocus|focusoutblur)$/,Uu=function(p){p.stopPropagation()};g.extend(g.event,{trigger:function(p,v,w,S){var D,N,H,he,se,Ee,Ue,Ve,Ne=[w||T],at=d.call(p,"type")?p.type:p,Tt=d.call(p,"namespace")?p.namespace.split("."):[];if(N=Ve=H=w=w||T,!(w.nodeType===3||w.nodeType===8)&&!zu.test(at+g.event.triggered)&&(at.indexOf(".")>-1&&(Tt=at.split("."),at=Tt.shift(),Tt.sort()),se=at.indexOf(":")<0&&"on"+at,p=p[g.expando]?p:new g.Event(at,typeof p=="object"&&p),p.isTrigger=S?2:3,p.namespace=Tt.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=w),v=v==null?[p]:g.makeArray(v,[p]),Ue=g.event.special[at]||{},!(!S&&Ue.trigger&&Ue.trigger.apply(w,v)===!1))){if(!S&&!Ue.noBubble&&!k(w)){for(he=Ue.delegateType||at,zu.test(he+at)||(N=N.parentNode);N;N=N.parentNode)Ne.push(N),H=N;H===(w.ownerDocument||T)&&Ne.push(H.defaultView||H.parentWindow||t)}for(D=0;(N=Ne[D++])&&!p.isPropagationStopped();)Ve=N,p.type=D>1?he:Ue.bindType||at,Ee=(Ge.get(N,"events")||Object.create(null))[p.type]&&Ge.get(N,"handle"),Ee&&Ee.apply(N,v),Ee=se&&N[se],Ee&&Ee.apply&&ht(N)&&(p.result=Ee.apply(N,v),p.result===!1&&p.preventDefault());return p.type=at,!S&&!p.isDefaultPrevented()&&(!Ue._default||Ue._default.apply(Ne.pop(),v)===!1)&&ht(w)&&se&&C(w[at])&&!k(w)&&(H=w[se],H&&(w[se]=null),g.event.triggered=at,p.isPropagationStopped()&&Ve.addEventListener(at,Uu),w[at](),p.isPropagationStopped()&&Ve.removeEventListener(at,Uu),g.event.triggered=void 0,H&&(w[se]=H)),p.result}},simulate:function(p,v,w){var S=g.extend(new g.Event,w,{type:p,isSimulated:!0});g.event.trigger(S,null,v)}}),g.fn.extend({trigger:function(p,v){return this.each(function(){g.event.trigger(p,v,this)})},triggerHandler:function(p,v){var w=this[0];if(w)return g.event.trigger(p,v,w,!0)}});var Zh=/\[\]$/,Rs=/\r?\n/g,gl=/^(?:submit|button|image|reset|file)$/i,Ca=/^(?:input|select|textarea|keygen)/i;function Ta(p,v,w,S){var D;if(Array.isArray(v))g.each(v,function(N,H){w||Zh.test(p)?S(p,H):Ta(p+"["+(typeof H=="object"&&H!=null?N:"")+"]",H,w,S)});else if(!w&&F(v)==="object")for(D in v)Ta(p+"["+D+"]",v[D],w,S);else S(p,v)}g.param=function(p,v){var w,S=[],D=function(N,H){var he=C(H)?H():H;S[S.length]=encodeURIComponent(N)+"="+encodeURIComponent(he??"")};if(p==null)return"";if(Array.isArray(p)||p.jquery&&!g.isPlainObject(p))g.each(p,function(){D(this.name,this.value)});else for(w in p)Ta(w,p[w],v,D);return S.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=g.prop(this,"elements");return p?g.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!g(this).is(":disabled")&&Ca.test(this.nodeName)&&!gl.test(p)&&(this.checked||!Ti.test(p))}).map(function(p,v){var w=g(this).val();return w==null?null:Array.isArray(w)?g.map(w,function(S){return{name:v.name,value:S.replace(Rs,`\r
`)}}):{name:v.name,value:w.replace(Rs,`\r
`)}}).get()}});var ml=/%20/g,yl=/#.*$/,ef=/([?&])_=[^&]*/,tf=/^(.*?):[ \t]*([^\r\n]*)$/mg,nf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rf=/^(?:GET|HEAD)$/,ls=/^\/\//,Bn={},$n={},Hu="*/".concat("*"),Cc=T.createElement("a");Cc.href=as.href;function Vu(p){return function(v,w){typeof v!="string"&&(w=v,v="*");var S,D=0,N=v.toLowerCase().match(Fe)||[];if(C(w))for(;S=N[D++];)S[0]==="+"?(S=S.slice(1)||"*",(p[S]=p[S]||[]).unshift(w)):(p[S]=p[S]||[]).push(w)}}function Gu(p,v,w,S){var D={},N=p===$n;function H(he){var se;return D[he]=!0,g.each(p[he]||[],function(Ee,Ue){var Ve=Ue(v,w,S);if(typeof Ve=="string"&&!N&&!D[Ve])return v.dataTypes.unshift(Ve),H(Ve),!1;if(N)return!(se=Ve)}),se}return H(v.dataTypes[0])||!D["*"]&&H("*")}function Bs(p,v){var w,S,D=g.ajaxSettings.flatOptions||{};for(w in v)v[w]!==void 0&&((D[w]?p:S||(S={}))[w]=v[w]);return S&&g.extend(!0,p,S),p}function cs(p,v,w){for(var S,D,N,H,he=p.contents,se=p.dataTypes;se[0]==="*";)se.shift(),S===void 0&&(S=p.mimeType||v.getResponseHeader("Content-Type"));if(S){for(D in he)if(he[D]&&he[D].test(S)){se.unshift(D);break}}if(se[0]in w)N=se[0];else{for(D in w){if(!se[0]||p.converters[D+" "+se[0]]){N=D;break}H||(H=D)}N=N||H}if(N)return N!==se[0]&&se.unshift(N),w[N]}function vl(p,v,w,S){var D,N,H,he,se,Ee={},Ue=p.dataTypes.slice();if(Ue[1])for(H in p.converters)Ee[H.toLowerCase()]=p.converters[H];for(N=Ue.shift();N;)if(p.responseFields[N]&&(w[p.responseFields[N]]=v),!se&&S&&p.dataFilter&&(v=p.dataFilter(v,p.dataType)),se=N,N=Ue.shift(),N){if(N==="*")N=se;else if(se!=="*"&&se!==N){if(H=Ee[se+" "+N]||Ee["* "+N],!H){for(D in Ee)if(he=D.split(" "),he[1]===N&&(H=Ee[se+" "+he[0]]||Ee["* "+he[0]],H)){H===!0?H=Ee[D]:Ee[D]!==!0&&(N=he[0],Ue.unshift(he[1]));break}}if(H!==!0)if(H&&p.throws)v=H(v);else try{v=H(v)}catch(Ve){return{state:"parsererror",error:H?Ve:"No conversion from "+se+" to "+N}}}}return{state:"success",data:v}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:as.href,type:"GET",isLocal:nf.test(as.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,v){return v?Bs(Bs(p,g.ajaxSettings),v):Bs(g.ajaxSettings,p)},ajaxPrefilter:Vu(Bn),ajaxTransport:Vu($n),ajax:function(p,v){typeof p=="object"&&(v=p,p=void 0),v=v||{};var w,S,D,N,H,he,se,Ee,Ue,Ve,Ne=g.ajaxSetup({},v),at=Ne.context||Ne,Tt=Ne.context&&(at.nodeType||at.jquery)?g(at):g.event,Zt=g.Deferred(),Yt=g.Callbacks("once memory"),P=Ne.statusCode||{},B={},_={},I="canceled",V={readyState:0,getResponseHeader:function(re){var Le;if(se){if(!N)for(N={};Le=tf.exec(D);)N[Le[1].toLowerCase()+" "]=(N[Le[1].toLowerCase()+" "]||[]).concat(Le[2]);Le=N[re.toLowerCase()+" "]}return Le==null?null:Le.join(", ")},getAllResponseHeaders:function(){return se?D:null},setRequestHeader:function(re,Le){return se==null&&(re=_[re.toLowerCase()]=_[re.toLowerCase()]||re,B[re]=Le),this},overrideMimeType:function(re){return se==null&&(Ne.mimeType=re),this},statusCode:function(re){var Le;if(re)if(se)V.always(re[V.status]);else for(Le in re)P[Le]=[P[Le],re[Le]];return this},abort:function(re){var Le=re||I;return w&&w.abort(Le),oe(0,Le),this}};if(Zt.promise(V),Ne.url=((p||Ne.url||as.href)+"").replace(ls,as.protocol+"//"),Ne.type=v.method||v.type||Ne.method||Ne.type,Ne.dataTypes=(Ne.dataType||"*").toLowerCase().match(Fe)||[""],Ne.crossDomain==null){he=T.createElement("a");try{he.href=Ne.url,he.href=he.href,Ne.crossDomain=Cc.protocol+"//"+Cc.host!=he.protocol+"//"+he.host}catch{Ne.crossDomain=!0}}if(Ne.data&&Ne.processData&&typeof Ne.data!="string"&&(Ne.data=g.param(Ne.data,Ne.traditional)),Gu(Bn,Ne,v,V),se)return V;Ee=g.event&&Ne.global,Ee&&g.active++===0&&g.event.trigger("ajaxStart"),Ne.type=Ne.type.toUpperCase(),Ne.hasContent=!rf.test(Ne.type),S=Ne.url.replace(yl,""),Ne.hasContent?Ne.data&&Ne.processData&&(Ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ne.data=Ne.data.replace(ml,"+")):(Ve=Ne.url.slice(S.length),Ne.data&&(Ne.processData||typeof Ne.data=="string")&&(S+=(Fs.test(S)?"&":"?")+Ne.data,delete Ne.data),Ne.cache===!1&&(S=S.replace(ef,"$1"),Ve=(Fs.test(S)?"&":"?")+"_="+pl.guid+++Ve),Ne.url=S+Ve),Ne.ifModified&&(g.lastModified[S]&&V.setRequestHeader("If-Modified-Since",g.lastModified[S]),g.etag[S]&&V.setRequestHeader("If-None-Match",g.etag[S])),(Ne.data&&Ne.hasContent&&Ne.contentType!==!1||v.contentType)&&V.setRequestHeader("Content-Type",Ne.contentType),V.setRequestHeader("Accept",Ne.dataTypes[0]&&Ne.accepts[Ne.dataTypes[0]]?Ne.accepts[Ne.dataTypes[0]]+(Ne.dataTypes[0]!=="*"?", "+Hu+"; q=0.01":""):Ne.accepts["*"]);for(Ue in Ne.headers)V.setRequestHeader(Ue,Ne.headers[Ue]);if(Ne.beforeSend&&(Ne.beforeSend.call(at,V,Ne)===!1||se))return V.abort();if(I="abort",Yt.add(Ne.complete),V.done(Ne.success),V.fail(Ne.error),w=Gu($n,Ne,v,V),!w)oe(-1,"No Transport");else{if(V.readyState=1,Ee&&Tt.trigger("ajaxSend",[V,Ne]),se)return V;Ne.async&&Ne.timeout>0&&(H=t.setTimeout(function(){V.abort("timeout")},Ne.timeout));try{se=!1,w.send(B,oe)}catch(re){if(se)throw re;oe(-1,re)}}function oe(re,Le,Ye,gt){var mt,yt,At,qt,hn,vn=Le;se||(se=!0,H&&t.clearTimeout(H),w=void 0,D=gt||"",V.readyState=re>0?4:0,mt=re>=200&&re<300||re===304,Ye&&(qt=cs(Ne,V,Ye)),!mt&&g.inArray("script",Ne.dataTypes)>-1&&g.inArray("json",Ne.dataTypes)<0&&(Ne.converters["text script"]=function(){}),qt=vl(Ne,qt,V,mt),mt?(Ne.ifModified&&(hn=V.getResponseHeader("Last-Modified"),hn&&(g.lastModified[S]=hn),hn=V.getResponseHeader("etag"),hn&&(g.etag[S]=hn)),re===204||Ne.type==="HEAD"?vn="nocontent":re===304?vn="notmodified":(vn=qt.state,yt=qt.data,At=qt.error,mt=!At)):(At=vn,(re||!vn)&&(vn="error",re<0&&(re=0))),V.status=re,V.statusText=(Le||vn)+"",mt?Zt.resolveWith(at,[yt,vn,V]):Zt.rejectWith(at,[V,vn,At]),V.statusCode(P),P=void 0,Ee&&Tt.trigger(mt?"ajaxSuccess":"ajaxError",[V,Ne,mt?yt:At]),Yt.fireWith(at,[V,vn]),Ee&&(Tt.trigger("ajaxComplete",[V,Ne]),--g.active||g.event.trigger("ajaxStop")))}return V},getJSON:function(p,v,w){return g.get(p,v,w,"json")},getScript:function(p,v){return g.get(p,void 0,v,"script")}}),g.each(["get","post"],function(p,v){g[v]=function(w,S,D,N){return C(S)&&(N=N||D,D=S,S=void 0),g.ajax(g.extend({url:w,type:v,dataType:N,data:S,success:D},g.isPlainObject(w)&&w))}}),g.ajaxPrefilter(function(p){var v;for(v in p.headers)v.toLowerCase()==="content-type"&&(p.contentType=p.headers[v]||"")}),g._evalUrl=function(p,v,w){return g.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(S){g.globalEval(S,v,w)}})},g.fn.extend({wrapAll:function(p){var v;return this[0]&&(C(p)&&(p=p.call(this[0])),v=g(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var w=this;w.firstElementChild;)w=w.firstElementChild;return w}).append(this)),this},wrapInner:function(p){return C(p)?this.each(function(v){g(this).wrapInner(p.call(this,v))}):this.each(function(){var v=g(this),w=v.contents();w.length?w.wrapAll(p):v.append(p)})},wrap:function(p){var v=C(p);return this.each(function(w){g(this).wrapAll(v?p.call(this,w):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(p){return!g.expr.pseudos.visible(p)},g.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var of={0:200,1223:204},Hn=g.ajaxSettings.xhr();x.cors=!!Hn&&"withCredentials"in Hn,x.ajax=Hn=!!Hn,g.ajaxTransport(function(p){var v,w;if(x.cors||Hn&&!p.crossDomain)return{send:function(S,D){var N,H=p.xhr();if(H.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(N in p.xhrFields)H[N]=p.xhrFields[N];p.mimeType&&H.overrideMimeType&&H.overrideMimeType(p.mimeType),!p.crossDomain&&!S["X-Requested-With"]&&(S["X-Requested-With"]="XMLHttpRequest");for(N in S)H.setRequestHeader(N,S[N]);v=function(he){return function(){v&&(v=w=H.onload=H.onerror=H.onabort=H.ontimeout=H.onreadystatechange=null,he==="abort"?H.abort():he==="error"?typeof H.status!="number"?D(0,"error"):D(H.status,H.statusText):D(of[H.status]||H.status,H.statusText,(H.responseType||"text")!=="text"||typeof H.responseText!="string"?{binary:H.response}:{text:H.responseText},H.getAllResponseHeaders()))}},H.onload=v(),w=H.onerror=H.ontimeout=v("error"),H.onabort!==void 0?H.onabort=w:H.onreadystatechange=function(){H.readyState===4&&t.setTimeout(function(){v&&w()})},v=v("abort");try{H.send(p.hasContent&&p.data||null)}catch(he){if(v)throw he}},abort:function(){v&&v()}}}),g.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return g.globalEval(p),p}}}),g.ajaxPrefilter("script",function(p){p.cache===void 0&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),g.ajaxTransport("script",function(p){if(p.crossDomain||p.scriptAttrs){var v,w;return{send:function(S,D){v=g("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",w=function(N){v.remove(),w=null,N&&D(N.type==="error"?404:200,N.type)}),T.head.appendChild(v[0])},abort:function(){w&&w()}}}});var Sa=[],Gr=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=Sa.pop()||g.expando+"_"+pl.guid++;return this[p]=!0,p}}),g.ajaxPrefilter("json jsonp",function(p,v,w){var S,D,N,H=p.jsonp!==!1&&(Gr.test(p.url)?"url":typeof p.data=="string"&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Gr.test(p.data)&&"data");if(H||p.dataTypes[0]==="jsonp")return S=p.jsonpCallback=C(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,H?p[H]=p[H].replace(Gr,"$1"+S):p.jsonp!==!1&&(p.url+=(Fs.test(p.url)?"&":"?")+p.jsonp+"="+S),p.converters["script json"]=function(){return N||g.error(S+" was not called"),N[0]},p.dataTypes[0]="json",D=t[S],t[S]=function(){N=arguments},w.always(function(){D===void 0?g(t).removeProp(S):t[S]=D,p[S]&&(p.jsonpCallback=v.jsonpCallback,Sa.push(S)),N&&C(D)&&D(N[0]),N=D=void 0}),"script"}),x.createHTMLDocument=function(){var p=T.implementation.createHTMLDocument("").body;return p.innerHTML="<form></form><form></form>",p.childNodes.length===2}(),g.parseHTML=function(p,v,w){if(typeof p!="string")return[];typeof v=="boolean"&&(w=v,v=!1);var S,D,N;return v||(x.createHTMLDocument?(v=T.implementation.createHTMLDocument(""),S=v.createElement("base"),S.href=T.location.href,v.head.appendChild(S)):v=T),D=ke.exec(p),N=!w&&[],D?[v.createElement(D[1])]:(D=Is([p],v,N),N&&N.length&&g(N).remove(),g.merge([],D.childNodes))},g.fn.load=function(p,v,w){var S,D,N,H=this,he=p.indexOf(" ");return he>-1&&(S=ar(p.slice(he)),p=p.slice(0,he)),C(v)?(w=v,v=void 0):v&&typeof v=="object"&&(D="POST"),H.length>0&&g.ajax({url:p,type:D||"GET",dataType:"html",data:v}).done(function(se){N=arguments,H.html(S?g("<div>").append(g.parseHTML(se)).find(S):se)}).always(w&&function(se,Ee){H.each(function(){w.apply(this,N||[se.responseText,Ee,se])})}),this},g.expr.pseudos.animated=function(p){return g.grep(g.timers,function(v){return p===v.elem}).length},g.offset={setOffset:function(p,v,w){var S,D,N,H,he,se,Ee,Ue=g.css(p,"position"),Ve=g(p),Ne={};Ue==="static"&&(p.style.position="relative"),he=Ve.offset(),N=g.css(p,"top"),se=g.css(p,"left"),Ee=(Ue==="absolute"||Ue==="fixed")&&(N+se).indexOf("auto")>-1,Ee?(S=Ve.position(),H=S.top,D=S.left):(H=parseFloat(N)||0,D=parseFloat(se)||0),C(v)&&(v=v.call(p,w,g.extend({},he))),v.top!=null&&(Ne.top=v.top-he.top+H),v.left!=null&&(Ne.left=v.left-he.left+D),"using"in v?v.using.call(p,Ne):Ve.css(Ne)}},g.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(D){g.offset.setOffset(this,p,D)});var v,w,S=this[0];if(S)return S.getClientRects().length?(v=S.getBoundingClientRect(),w=S.ownerDocument.defaultView,{top:v.top+w.pageYOffset,left:v.left+w.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var p,v,w,S=this[0],D={top:0,left:0};if(g.css(S,"position")==="fixed")v=S.getBoundingClientRect();else{for(v=this.offset(),w=S.ownerDocument,p=S.offsetParent||w.documentElement;p&&(p===w.body||p===w.documentElement)&&g.css(p,"position")==="static";)p=p.parentNode;p&&p!==S&&p.nodeType===1&&(D=g(p).offset(),D.top+=g.css(p,"borderTopWidth",!0),D.left+=g.css(p,"borderLeftWidth",!0))}return{top:v.top-D.top-g.css(S,"marginTop",!0),left:v.left-D.left-g.css(S,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&g.css(p,"position")==="static";)p=p.offsetParent;return p||Gn})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,v){var w=v==="pageYOffset";g.fn[p]=function(S){return ze(this,function(D,N,H){var he;if(k(D)?he=D:D.nodeType===9&&(he=D.defaultView),H===void 0)return he?he[v]:D[N];he?he.scrollTo(w?he.pageXOffset:H,w?H:he.pageYOffset):D[N]=H},p,S,arguments.length)}}),g.each(["top","left"],function(p,v){g.cssHooks[v]=ni(x.pixelPosition,function(w,S){if(S)return S=oi(w,v),Te.test(S)?g(w).position()[v]+"px":S})}),g.each({Height:"height",Width:"width"},function(p,v){g.each({padding:"inner"+p,content:v,"":"outer"+p},function(w,S){g.fn[S]=function(D,N){var H=arguments.length&&(w||typeof D!="boolean"),he=w||(D===!0||N===!0?"margin":"border");return ze(this,function(se,Ee,Ue){var Ve;return k(se)?S.indexOf("outer")===0?se["inner"+p]:se.document.documentElement["client"+p]:se.nodeType===9?(Ve=se.documentElement,Math.max(se.body["scroll"+p],Ve["scroll"+p],se.body["offset"+p],Ve["offset"+p],Ve["client"+p])):Ue===void 0?g.css(se,Ee,he):g.style(se,Ee,Ue,he)},v,H?D:void 0,H)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,v){g.fn[v]=function(w){return this.on(v,w)}}),g.fn.extend({bind:function(p,v,w){return this.on(p,null,v,w)},unbind:function(p,v){return this.off(p,null,v)},delegate:function(p,v,w,S){return this.on(v,p,w,S)},undelegate:function(p,v,w){return arguments.length===1?this.off(p,"**"):this.off(v,p||"**",w)},hover:function(p,v){return this.on("mouseenter",p).on("mouseleave",v||p)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,v){g.fn[v]=function(w,S){return arguments.length>0?this.on(v,null,w,S):this.trigger(v)}});var Tc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(p,v){var w,S,D;if(typeof v=="string"&&(w=p[v],v=p,p=w),!!C(p))return S=o.call(arguments,2),D=function(){return p.apply(v||this,S.concat(o.call(arguments)))},D.guid=p.guid=p.guid||g.guid++,D},g.holdReady=function(p){p?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=M,g.isFunction=C,g.isWindow=k,g.camelCase=Xe,g.type=F,g.now=Date.now,g.isNumeric=function(p){var v=g.type(p);return(v==="number"||v==="string")&&!isNaN(p-parseFloat(p))},g.trim=function(p){return p==null?"":(p+"").replace(Tc,"$1")};var Sc=t.jQuery,Li=t.$;return g.noConflict=function(p){return t.$===g&&(t.$=Li),p&&t.jQuery===g&&(t.jQuery=Sc),g},typeof n>"u"&&(t.jQuery=t.$=g),g})}(rx)),rx.exports}var T6=N2();const ws=D2(T6);var hA={exports:{}};/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,i){i(t,N2())})(Va,function(n,i){function r(P){return P&&typeof P=="object"&&"default"in P?P:{default:P}}var o=r(i);function s(P,B){for(var _=0;_<B.length;_++){var I=B[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}function a(P,B,_){return B&&s(P.prototype,B),_&&s(P,_),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var B=1;B<arguments.length;B++){var _=arguments[B];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(P[I]=_[I])}return P},l.apply(this,arguments)}function u(P,B){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,I){return _.__proto__=I,_},u(P,B)}var f="transitionend",d={TRANSITION_END:"bsTransitionEnd",getUID:function(P){do P+=~~(1e6*Math.random());while(document.getElementById(P));return P},getSelectorFromElement:function(P){var B=P.getAttribute("data-target");if(!B||B==="#"){var _=P.getAttribute("href");B=_&&_!=="#"?_.trim():""}try{return document.querySelector(B)?B:null}catch{return null}},getTransitionDurationFromElement:function(P){if(!P)return 0;var B=o.default(P).css("transition-duration"),_=o.default(P).css("transition-delay"),I=parseFloat(B),V=parseFloat(_);return I||V?(B=B.split(",")[0],_=_.split(",")[0],1e3*(parseFloat(B)+parseFloat(_))):0},reflow:function(P){return P.offsetHeight},triggerTransitionEnd:function(P){o.default(P).trigger(f)},supportsTransitionEnd:function(){return!!f},isElement:function(P){return(P[0]||P).nodeType},typeCheckConfig:function(P,B,_){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)){var V=_[I],oe=B[I],re=oe&&d.isElement(oe)?"element":(Le=oe)===null||typeof Le>"u"?""+Le:{}.toString.call(Le).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(re))throw new Error(P.toUpperCase()+': Option "'+I+'" provided type "'+re+'" but expected type "'+V+'".')}var Le},findShadowRoot:function(P){if(!document.documentElement.attachShadow)return null;if(typeof P.getRootNode=="function"){var B=P.getRootNode();return B instanceof ShadowRoot?B:null}return P instanceof ShadowRoot?P:P.parentNode?d.findShadowRoot(P.parentNode):null},jQueryDetection:function(){if(typeof o.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var P=o.default.fn.jquery.split(" ")[0].split(".");if(P[0]<2&&P[1]<9||P[0]===1&&P[1]===9&&P[2]<1||P[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),o.default.fn.emulateTransitionEnd=function(P){var B=this,_=!1;return o.default(this).one(d.TRANSITION_END,function(){_=!0}),setTimeout(function(){_||d.triggerTransitionEnd(B)},P),this},o.default.event.special[d.TRANSITION_END]={bindType:f,delegateType:f,handle:function(P){if(o.default(P.target).is(this))return P.handleObj.handler.apply(this,arguments)}};var m="bs.alert",b=o.default.fn.alert,x=function(){function P(_){this._element=_}var B=P.prototype;return B.close=function(_){var I=this._element;_&&(I=this._getRootElement(_)),this._triggerCloseEvent(I).isDefaultPrevented()||this._removeElement(I)},B.dispose=function(){o.default.removeData(this._element,m),this._element=null},B._getRootElement=function(_){var I=d.getSelectorFromElement(_),V=!1;return I&&(V=document.querySelector(I)),V||(V=o.default(_).closest(".alert")[0]),V},B._triggerCloseEvent=function(_){var I=o.default.Event("close.bs.alert");return o.default(_).trigger(I),I},B._removeElement=function(_){var I=this;if(o.default(_).removeClass("show"),o.default(_).hasClass("fade")){var V=d.getTransitionDurationFromElement(_);o.default(_).one(d.TRANSITION_END,function(oe){return I._destroyElement(_,oe)}).emulateTransitionEnd(V)}else this._destroyElement(_)},B._destroyElement=function(_){o.default(_).detach().trigger("closed.bs.alert").remove()},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this),V=I.data(m);V||(V=new P(this),I.data(m,V)),_==="close"&&V[_](this)})},P._handleDismiss=function(_){return function(I){I&&I.preventDefault(),_.close(this)}},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),P}();o.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',x._handleDismiss(new x)),o.default.fn.alert=x._jQueryInterface,o.default.fn.alert.Constructor=x,o.default.fn.alert.noConflict=function(){return o.default.fn.alert=b,x._jQueryInterface};var C="bs.button",k=o.default.fn.button,T="active",A='[data-toggle^="button"]',R='input:not([type="hidden"])',F=".btn",Z=function(){function P(_){this._element=_,this.shouldAvoidTriggerChange=!1}var B=P.prototype;return B.toggle=function(){var _=!0,I=!0,V=o.default(this._element).closest('[data-toggle="buttons"]')[0];if(V){var oe=this._element.querySelector(R);if(oe){if(oe.type==="radio")if(oe.checked&&this._element.classList.contains(T))_=!1;else{var re=V.querySelector(".active");re&&o.default(re).removeClass(T)}_&&(oe.type!=="checkbox"&&oe.type!=="radio"||(oe.checked=!this._element.classList.contains(T)),this.shouldAvoidTriggerChange||o.default(oe).trigger("change")),oe.focus(),I=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(I&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(T)),_&&o.default(this._element).toggleClass(T))},B.dispose=function(){o.default.removeData(this._element,C),this._element=null},P._jQueryInterface=function(_,I){return this.each(function(){var V=o.default(this),oe=V.data(C);oe||(oe=new P(this),V.data(C,oe)),oe.shouldAvoidTriggerChange=I,_==="toggle"&&oe[_]()})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),P}();o.default(document).on("click.bs.button.data-api",A,function(P){var B=P.target,_=B;if(o.default(B).hasClass("btn")||(B=o.default(B).closest(F)[0]),!B||B.hasAttribute("disabled")||B.classList.contains("disabled"))P.preventDefault();else{var I=B.querySelector(R);if(I&&(I.hasAttribute("disabled")||I.classList.contains("disabled")))return void P.preventDefault();_.tagName!=="INPUT"&&B.tagName==="LABEL"||Z._jQueryInterface.call(o.default(B),"toggle",_.tagName==="INPUT")}}).on("focus.bs.button.data-api blur.bs.button.data-api",A,function(P){var B=o.default(P.target).closest(F)[0];o.default(B).toggleClass("focus",/^focus(in)?$/.test(P.type))}),o.default(window).on("load.bs.button.data-api",function(){for(var P=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),B=0,_=P.length;B<_;B++){var I=P[B],V=I.querySelector(R);V.checked||V.hasAttribute("checked")?I.classList.add(T):I.classList.remove(T)}for(var oe=0,re=(P=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;oe<re;oe++){var Le=P[oe];Le.getAttribute("aria-pressed")==="true"?Le.classList.add(T):Le.classList.remove(T)}}),o.default.fn.button=Z._jQueryInterface,o.default.fn.button.Constructor=Z,o.default.fn.button.noConflict=function(){return o.default.fn.button=k,Z._jQueryInterface};var ee="carousel",g="bs.carousel",L=o.default.fn[ee],M="active",z="next",Q="prev",de="slid.bs.carousel",ce=".active.carousel-item",pe={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ae={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},q={TOUCH:"touch",PEN:"pen"},G=function(){function P(_,I){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(I),this._element=_,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var B=P.prototype;return B.next=function(){this._isSliding||this._slide(z)},B.nextWhenVisible=function(){var _=o.default(this._element);!document.hidden&&_.is(":visible")&&_.css("visibility")!=="hidden"&&this.next()},B.prev=function(){this._isSliding||this._slide(Q)},B.pause=function(_){_||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},B.cycle=function(_){_||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},B.to=function(_){var I=this;this._activeElement=this._element.querySelector(ce);var V=this._getItemIndex(this._activeElement);if(!(_>this._items.length-1||_<0))if(this._isSliding)o.default(this._element).one(de,function(){return I.to(_)});else{if(V===_)return this.pause(),void this.cycle();var oe=_>V?z:Q;this._slide(oe,this._items[_])}},B.dispose=function(){o.default(this._element).off(".bs.carousel"),o.default.removeData(this._element,g),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},B._getConfig=function(_){return _=l({},pe,_),d.typeCheckConfig(ee,_,ae),_},B._handleSwipe=function(){var _=Math.abs(this.touchDeltaX);if(!(_<=40)){var I=_/this.touchDeltaX;this.touchDeltaX=0,I>0&&this.prev(),I<0&&this.next()}},B._addEventListeners=function(){var _=this;this._config.keyboard&&o.default(this._element).on("keydown.bs.carousel",function(I){return _._keydown(I)}),this._config.pause==="hover"&&o.default(this._element).on("mouseenter.bs.carousel",function(I){return _.pause(I)}).on("mouseleave.bs.carousel",function(I){return _.cycle(I)}),this._config.touch&&this._addTouchEventListeners()},B._addTouchEventListeners=function(){var _=this;if(this._touchSupported){var I=function(oe){_._pointerEvent&&q[oe.originalEvent.pointerType.toUpperCase()]?_.touchStartX=oe.originalEvent.clientX:_._pointerEvent||(_.touchStartX=oe.originalEvent.touches[0].clientX)},V=function(oe){_._pointerEvent&&q[oe.originalEvent.pointerType.toUpperCase()]&&(_.touchDeltaX=oe.originalEvent.clientX-_.touchStartX),_._handleSwipe(),_._config.pause==="hover"&&(_.pause(),_.touchTimeout&&clearTimeout(_.touchTimeout),_.touchTimeout=setTimeout(function(re){return _.cycle(re)},500+_._config.interval))};o.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(oe){return oe.preventDefault()}),this._pointerEvent?(o.default(this._element).on("pointerdown.bs.carousel",function(oe){return I(oe)}),o.default(this._element).on("pointerup.bs.carousel",function(oe){return V(oe)}),this._element.classList.add("pointer-event")):(o.default(this._element).on("touchstart.bs.carousel",function(oe){return I(oe)}),o.default(this._element).on("touchmove.bs.carousel",function(oe){return function(re){_.touchDeltaX=re.originalEvent.touches&&re.originalEvent.touches.length>1?0:re.originalEvent.touches[0].clientX-_.touchStartX}(oe)}),o.default(this._element).on("touchend.bs.carousel",function(oe){return V(oe)}))}},B._keydown=function(_){if(!/input|textarea/i.test(_.target.tagName))switch(_.which){case 37:_.preventDefault(),this.prev();break;case 39:_.preventDefault(),this.next()}},B._getItemIndex=function(_){return this._items=_&&_.parentNode?[].slice.call(_.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(_)},B._getItemByDirection=function(_,I){var V=_===z,oe=_===Q,re=this._getItemIndex(I),Le=this._items.length-1;if((oe&&re===0||V&&re===Le)&&!this._config.wrap)return I;var Ye=(re+(_===Q?-1:1))%this._items.length;return Ye===-1?this._items[this._items.length-1]:this._items[Ye]},B._triggerSlideEvent=function(_,I){var V=this._getItemIndex(_),oe=this._getItemIndex(this._element.querySelector(ce)),re=o.default.Event("slide.bs.carousel",{relatedTarget:_,direction:I,from:oe,to:V});return o.default(this._element).trigger(re),re},B._setActiveIndicatorElement=function(_){if(this._indicatorsElement){var I=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));o.default(I).removeClass(M);var V=this._indicatorsElement.children[this._getItemIndex(_)];V&&o.default(V).addClass(M)}},B._updateInterval=function(){var _=this._activeElement||this._element.querySelector(ce);if(_){var I=parseInt(_.getAttribute("data-interval"),10);I?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=I):this._config.interval=this._config.defaultInterval||this._config.interval}},B._slide=function(_,I){var V,oe,re,Le=this,Ye=this._element.querySelector(ce),gt=this._getItemIndex(Ye),mt=I||Ye&&this._getItemByDirection(_,Ye),yt=this._getItemIndex(mt),At=!!this._interval;if(_===z?(V="carousel-item-left",oe="carousel-item-next",re="left"):(V="carousel-item-right",oe="carousel-item-prev",re="right"),mt&&o.default(mt).hasClass(M))this._isSliding=!1;else if(!this._triggerSlideEvent(mt,re).isDefaultPrevented()&&Ye&&mt){this._isSliding=!0,At&&this.pause(),this._setActiveIndicatorElement(mt),this._activeElement=mt;var qt=o.default.Event(de,{relatedTarget:mt,direction:re,from:gt,to:yt});if(o.default(this._element).hasClass("slide")){o.default(mt).addClass(oe),d.reflow(mt),o.default(Ye).addClass(V),o.default(mt).addClass(V);var hn=d.getTransitionDurationFromElement(Ye);o.default(Ye).one(d.TRANSITION_END,function(){o.default(mt).removeClass(V+" "+oe).addClass(M),o.default(Ye).removeClass("active "+oe+" "+V),Le._isSliding=!1,setTimeout(function(){return o.default(Le._element).trigger(qt)},0)}).emulateTransitionEnd(hn)}else o.default(Ye).removeClass(M),o.default(mt).addClass(M),this._isSliding=!1,o.default(this._element).trigger(qt);At&&this.cycle()}},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this).data(g),V=l({},pe,o.default(this).data());typeof _=="object"&&(V=l({},V,_));var oe=typeof _=="string"?_:V.slide;if(I||(I=new P(this,V),o.default(this).data(g,I)),typeof _=="number")I.to(_);else if(typeof oe=="string"){if(typeof I[oe]>"u")throw new TypeError('No method named "'+oe+'"');I[oe]()}else V.interval&&V.ride&&(I.pause(),I.cycle())})},P._dataApiClickHandler=function(_){var I=d.getSelectorFromElement(this);if(I){var V=o.default(I)[0];if(V&&o.default(V).hasClass("carousel")){var oe=l({},o.default(V).data(),o.default(this).data()),re=this.getAttribute("data-slide-to");re&&(oe.interval=!1),P._jQueryInterface.call(o.default(V),oe),re&&o.default(V).data(g).to(re),_.preventDefault()}}},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return pe}}]),P}();o.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",G._dataApiClickHandler),o.default(window).on("load.bs.carousel.data-api",function(){for(var P=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),B=0,_=P.length;B<_;B++){var I=o.default(P[B]);G._jQueryInterface.call(I,I.data())}}),o.default.fn[ee]=G._jQueryInterface,o.default.fn[ee].Constructor=G,o.default.fn[ee].noConflict=function(){return o.default.fn[ee]=L,G._jQueryInterface};var j="collapse",te="bs.collapse",le=o.default.fn[j],Ae="show",ke="collapse",rt="collapsing",Be="collapsed",st="width",lt='[data-toggle="collapse"]',Se={toggle:!0,parent:""},$e={toggle:"boolean",parent:"(string|element)"},qe=function(){function P(_,I){this._isTransitioning=!1,this._element=_,this._config=this._getConfig(I),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+_.id+'"],[data-toggle="collapse"][data-target="#'+_.id+'"]'));for(var V=[].slice.call(document.querySelectorAll(lt)),oe=0,re=V.length;oe<re;oe++){var Le=V[oe],Ye=d.getSelectorFromElement(Le),gt=[].slice.call(document.querySelectorAll(Ye)).filter(function(mt){return mt===_});Ye!==null&&gt.length>0&&(this._selector=Ye,this._triggerArray.push(Le))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var B=P.prototype;return B.toggle=function(){o.default(this._element).hasClass(Ae)?this.hide():this.show()},B.show=function(){var _,I,V=this;if(!(this._isTransitioning||o.default(this._element).hasClass(Ae)||(this._parent&&(_=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(gt){return typeof V._config.parent=="string"?gt.getAttribute("data-parent")===V._config.parent:gt.classList.contains(ke)})).length===0&&(_=null),_&&(I=o.default(_).not(this._selector).data(te))&&I._isTransitioning))){var oe=o.default.Event("show.bs.collapse");if(o.default(this._element).trigger(oe),!oe.isDefaultPrevented()){_&&(P._jQueryInterface.call(o.default(_).not(this._selector),"hide"),I||o.default(_).data(te,null));var re=this._getDimension();o.default(this._element).removeClass(ke).addClass(rt),this._element.style[re]=0,this._triggerArray.length&&o.default(this._triggerArray).removeClass(Be).attr("aria-expanded",!0),this.setTransitioning(!0);var Le="scroll"+(re[0].toUpperCase()+re.slice(1)),Ye=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,function(){o.default(V._element).removeClass(rt).addClass("collapse show"),V._element.style[re]="",V.setTransitioning(!1),o.default(V._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(Ye),this._element.style[re]=this._element[Le]+"px"}}},B.hide=function(){var _=this;if(!this._isTransitioning&&o.default(this._element).hasClass(Ae)){var I=o.default.Event("hide.bs.collapse");if(o.default(this._element).trigger(I),!I.isDefaultPrevented()){var V=this._getDimension();this._element.style[V]=this._element.getBoundingClientRect()[V]+"px",d.reflow(this._element),o.default(this._element).addClass(rt).removeClass("collapse show");var oe=this._triggerArray.length;if(oe>0)for(var re=0;re<oe;re++){var Le=this._triggerArray[re],Ye=d.getSelectorFromElement(Le);Ye!==null&&(o.default([].slice.call(document.querySelectorAll(Ye))).hasClass(Ae)||o.default(Le).addClass(Be).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[V]="";var gt=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,function(){_.setTransitioning(!1),o.default(_._element).removeClass(rt).addClass(ke).trigger("hidden.bs.collapse")}).emulateTransitionEnd(gt)}}},B.setTransitioning=function(_){this._isTransitioning=_},B.dispose=function(){o.default.removeData(this._element,te),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},B._getConfig=function(_){return(_=l({},Se,_)).toggle=!!_.toggle,d.typeCheckConfig(j,_,$e),_},B._getDimension=function(){return o.default(this._element).hasClass(st)?st:"height"},B._getParent=function(){var _,I=this;d.isElement(this._config.parent)?(_=this._config.parent,typeof this._config.parent.jquery<"u"&&(_=this._config.parent[0])):_=document.querySelector(this._config.parent);var V='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',oe=[].slice.call(_.querySelectorAll(V));return o.default(oe).each(function(re,Le){I._addAriaAndCollapsedClass(P._getTargetFromElement(Le),[Le])}),_},B._addAriaAndCollapsedClass=function(_,I){var V=o.default(_).hasClass(Ae);I.length&&o.default(I).toggleClass(Be,!V).attr("aria-expanded",V)},P._getTargetFromElement=function(_){var I=d.getSelectorFromElement(_);return I?document.querySelector(I):null},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this),V=I.data(te),oe=l({},Se,I.data(),typeof _=="object"&&_?_:{});if(!V&&oe.toggle&&typeof _=="string"&&/show|hide/.test(_)&&(oe.toggle=!1),V||(V=new P(this,oe),I.data(te,V)),typeof _=="string"){if(typeof V[_]>"u")throw new TypeError('No method named "'+_+'"');V[_]()}})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Se}}]),P}();o.default(document).on("click.bs.collapse.data-api",lt,function(P){P.currentTarget.tagName==="A"&&P.preventDefault();var B=o.default(this),_=d.getSelectorFromElement(this),I=[].slice.call(document.querySelectorAll(_));o.default(I).each(function(){var V=o.default(this),oe=V.data(te)?"toggle":B.data();qe._jQueryInterface.call(V,oe)})}),o.default.fn[j]=qe._jQueryInterface,o.default.fn[j].Constructor=qe,o.default.fn[j].noConflict=function(){return o.default.fn[j]=le,qe._jQueryInterface};var Fe=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",xe=function(){for(var P=["Edge","Trident","Firefox"],B=0;B<P.length;B+=1)if(Fe&&navigator.userAgent.indexOf(P[B])>=0)return 1;return 0}(),Ie=Fe&&window.Promise?function(P){var B=!1;return function(){B||(B=!0,window.Promise.resolve().then(function(){B=!1,P()}))}}:function(P){var B=!1;return function(){B||(B=!0,setTimeout(function(){B=!1,P()},xe))}};function U(P){return P&&{}.toString.call(P)==="[object Function]"}function K(P,B){if(P.nodeType!==1)return[];var _=P.ownerDocument.defaultView.getComputedStyle(P,null);return B?_[B]:_}function ne(P){return P.nodeName==="HTML"?P:P.parentNode||P.host}function we(P){if(!P)return document.body;switch(P.nodeName){case"HTML":case"BODY":return P.ownerDocument.body;case"#document":return P.body}var B=K(P),_=B.overflow,I=B.overflowX,V=B.overflowY;return/(auto|scroll|overlay)/.test(_+V+I)?P:we(ne(P))}function fe(P){return P&&P.referenceNode?P.referenceNode:P}var ze=Fe&&!(!window.MSInputMethodContext||!document.documentMode),tt=Fe&&/MSIE 10/.test(navigator.userAgent);function Je(P){return P===11?ze:P===10?tt:ze||tt}function nt(P){if(!P)return document.documentElement;for(var B=Je(10)?document.body:null,_=P.offsetParent||null;_===B&&P.nextElementSibling;)_=(P=P.nextElementSibling).offsetParent;var I=_&&_.nodeName;return I&&I!=="BODY"&&I!=="HTML"?["TH","TD","TABLE"].indexOf(_.nodeName)!==-1&&K(_,"position")==="static"?nt(_):_:P?P.ownerDocument.documentElement:document.documentElement}function Xe(P){return P.parentNode!==null?Xe(P.parentNode):P}function ht(P,B){if(!(P&&P.nodeType&&B&&B.nodeType))return document.documentElement;var _=P.compareDocumentPosition(B)&Node.DOCUMENT_POSITION_FOLLOWING,I=_?P:B,V=_?B:P,oe=document.createRange();oe.setStart(I,0),oe.setEnd(V,0);var re,Le,Ye=oe.commonAncestorContainer;if(P!==Ye&&B!==Ye||I.contains(V))return(Le=(re=Ye).nodeName)==="BODY"||Le!=="HTML"&&nt(re.firstElementChild)!==re?nt(Ye):Ye;var gt=Xe(P);return gt.host?ht(gt.host,B):ht(P,Xe(B).host)}function vt(P){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",_=B==="top"?"scrollTop":"scrollLeft",I=P.nodeName;if(I==="BODY"||I==="HTML"){var V=P.ownerDocument.documentElement,oe=P.ownerDocument.scrollingElement||V;return oe[_]}return P[_]}function Ge(P,B){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],I=vt(B,"top"),V=vt(B,"left"),oe=_?-1:1;return P.top+=I*oe,P.bottom+=I*oe,P.left+=V*oe,P.right+=V*oe,P}function ft(P,B){var _=B==="x"?"Left":"Top",I=_==="Left"?"Right":"Bottom";return parseFloat(P["border"+_+"Width"])+parseFloat(P["border"+I+"Width"])}function Et(P,B,_,I){return Math.max(B["offset"+P],B["scroll"+P],_["client"+P],_["offset"+P],_["scroll"+P],Je(10)?parseInt(_["offset"+P])+parseInt(I["margin"+(P==="Height"?"Top":"Left")])+parseInt(I["margin"+(P==="Height"?"Bottom":"Right")]):0)}function Jt(P){var B=P.body,_=P.documentElement,I=Je(10)&&getComputedStyle(_);return{height:Et("Height",B,_,I),width:Et("Width",B,_,I)}}var yn=function(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")},Fn=function(){function P(B,_){for(var I=0;I<_.length;I++){var V=_[I];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,_,I){return _&&P(B.prototype,_),I&&P(B,I),B}}(),Rn=function(P,B,_){return B in P?Object.defineProperty(P,B,{value:_,enumerable:!0,configurable:!0,writable:!0}):P[B]=_,P},Cn=Object.assign||function(P){for(var B=1;B<arguments.length;B++){var _=arguments[B];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(P[I]=_[I])}return P};function bn(P){return Cn({},P,{right:P.left+P.width,bottom:P.top+P.height})}function Gn(P){var B={};try{if(Je(10)){B=P.getBoundingClientRect();var _=vt(P,"top"),I=vt(P,"left");B.top+=_,B.left+=I,B.bottom+=_,B.right+=I}else B=P.getBoundingClientRect()}catch{}var V={left:B.left,top:B.top,width:B.right-B.left,height:B.bottom-B.top},oe=P.nodeName==="HTML"?Jt(P.ownerDocument):{},re=oe.width||P.clientWidth||V.width,Le=oe.height||P.clientHeight||V.height,Ye=P.offsetWidth-re,gt=P.offsetHeight-Le;if(Ye||gt){var mt=K(P);Ye-=ft(mt,"x"),gt-=ft(mt,"y"),V.width-=Ye,V.height-=gt}return bn(V)}function yi(P,B){var _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],I=Je(10),V=B.nodeName==="HTML",oe=Gn(P),re=Gn(B),Le=we(P),Ye=K(B),gt=parseFloat(Ye.borderTopWidth),mt=parseFloat(Ye.borderLeftWidth);_&&V&&(re.top=Math.max(re.top,0),re.left=Math.max(re.left,0));var yt=bn({top:oe.top-re.top-gt,left:oe.left-re.left-mt,width:oe.width,height:oe.height});if(yt.marginTop=0,yt.marginLeft=0,!I&&V){var At=parseFloat(Ye.marginTop),qt=parseFloat(Ye.marginLeft);yt.top-=gt-At,yt.bottom-=gt-At,yt.left-=mt-qt,yt.right-=mt-qt,yt.marginTop=At,yt.marginLeft=qt}return(I&&!_?B.contains(Le):B===Le&&Le.nodeName!=="BODY")&&(yt=Ge(yt,B)),yt}function Qn(P){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=P.ownerDocument.documentElement,I=yi(P,_),V=Math.max(_.clientWidth,window.innerWidth||0),oe=Math.max(_.clientHeight,window.innerHeight||0),re=B?0:vt(_),Le=B?0:vt(_,"left"),Ye={top:re-I.top+I.marginTop,left:Le-I.left+I.marginLeft,width:V,height:oe};return bn(Ye)}function ti(P){var B=P.nodeName;if(B==="BODY"||B==="HTML")return!1;if(K(P,"position")==="fixed")return!0;var _=ne(P);return!!_&&ti(_)}function Bi(P){if(!P||!P.parentElement||Je())return document.documentElement;for(var B=P.parentElement;B&&K(B,"transform")==="none";)B=B.parentElement;return B||document.documentElement}function ho(P,B,_,I){var V=arguments.length>4&&arguments[4]!==void 0&&arguments[4],oe={top:0,left:0},re=V?Bi(P):ht(P,fe(B));if(I==="viewport")oe=Qn(re,V);else{var Le=void 0;I==="scrollParent"?(Le=we(ne(B))).nodeName==="BODY"&&(Le=P.ownerDocument.documentElement):Le=I==="window"?P.ownerDocument.documentElement:I;var Ye=yi(Le,re,V);if(Le.nodeName!=="HTML"||ti(re))oe=Ye;else{var gt=Jt(P.ownerDocument),mt=gt.height,yt=gt.width;oe.top+=Ye.top-Ye.marginTop,oe.bottom=mt+Ye.top,oe.left+=Ye.left-Ye.marginLeft,oe.right=yt+Ye.left}}var At=typeof(_=_||0)=="number";return oe.left+=At?_:_.left||0,oe.top+=At?_:_.top||0,oe.right-=At?_:_.right||0,oe.bottom-=At?_:_.bottom||0,oe}function qr(P){return P.width*P.height}function On(P,B,_,I,V){var oe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(P.indexOf("auto")===-1)return P;var re=ho(_,I,oe,V),Le={top:{width:re.width,height:B.top-re.top},right:{width:re.right-B.right,height:re.height},bottom:{width:re.width,height:re.bottom-B.bottom},left:{width:B.left-re.left,height:re.height}},Ye=Object.keys(Le).map(function(At){return Cn({key:At},Le[At],{area:qr(Le[At])})}).sort(function(At,qt){return qt.area-At.area}),gt=Ye.filter(function(At){var qt=At.width,hn=At.height;return qt>=_.clientWidth&&hn>=_.clientHeight}),mt=gt.length>0?gt[0].key:Ye[0].key,yt=P.split("-")[1];return mt+(yt?"-"+yt:"")}function Ti(P,B,_){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,V=I?Bi(B):ht(B,fe(_));return yi(_,V,I)}function Oo(P){var B=P.ownerDocument.defaultView.getComputedStyle(P),_=parseFloat(B.marginTop||0)+parseFloat(B.marginBottom||0),I=parseFloat(B.marginLeft||0)+parseFloat(B.marginRight||0);return{width:P.offsetWidth+I,height:P.offsetHeight+_}}function zr(P){var B={left:"right",right:"left",bottom:"top",top:"bottom"};return P.replace(/left|right|bottom|top/g,function(_){return B[_]})}function Wn(P,B,_){_=_.split("-")[0];var I=Oo(P),V={width:I.width,height:I.height},oe=["right","left"].indexOf(_)!==-1,re=oe?"top":"left",Le=oe?"left":"top",Ye=oe?"height":"width",gt=oe?"width":"height";return V[re]=B[re]+B[Ye]/2-I[Ye]/2,V[Le]=_===Le?B[Le]-I[gt]:B[zr(Le)],V}function ci(P,B){return Array.prototype.find?P.find(B):P.filter(B)[0]}function Lo(P,B,_){return(_===void 0?P:P.slice(0,function(I,V,oe){if(Array.prototype.findIndex)return I.findIndex(function(Le){return Le.name===oe});var re=ci(I,function(Le){return Le.name===oe});return I.indexOf(re)}(P,0,_))).forEach(function(I){I.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var V=I.function||I.fn;I.enabled&&U(V)&&(B.offsets.popper=bn(B.offsets.popper),B.offsets.reference=bn(B.offsets.reference),B=V(B,I))}),B}function yc(){if(!this.state.isDestroyed){var P={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};P.offsets.reference=Ti(this.state,this.popper,this.reference,this.options.positionFixed),P.placement=On(this.options.placement,P.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),P.originalPlacement=P.placement,P.positionFixed=this.options.positionFixed,P.offsets.popper=Wn(this.popper,P.offsets.reference,P.placement),P.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",P=Lo(this.modifiers,P),this.state.isCreated?this.options.onUpdate(P):(this.state.isCreated=!0,this.options.onCreate(P))}}function Is(P,B){return P.some(function(_){var I=_.name;return _.enabled&&I===B})}function ts(P){for(var B=[!1,"ms","Webkit","Moz","O"],_=P.charAt(0).toUpperCase()+P.slice(1),I=0;I<B.length;I++){var V=B[I],oe=V?""+V+_:P;if(typeof document.body.style[oe]<"u")return oe}return null}function Ur(){return this.state.isDestroyed=!0,Is(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ts("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Si(P){var B=P.ownerDocument;return B?B.defaultView:window}function Hr(P,B,_,I){var V=P.nodeName==="BODY",oe=V?P.ownerDocument.defaultView:P;oe.addEventListener(B,_,{passive:!0}),V||Hr(we(oe.parentNode),B,_,I),I.push(oe)}function ns(P,B,_,I){_.updateBound=I,Si(P).addEventListener("resize",_.updateBound,{passive:!0});var V=we(P);return Hr(V,"scroll",_.updateBound,_.scrollParents),_.scrollElement=V,_.eventsEnabled=!0,_}function ll(){this.state.eventsEnabled||(this.state=ns(this.reference,this.options,this.state,this.scheduleUpdate))}function vc(){var P,B;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(P=this.reference,B=this.state,Si(P).removeEventListener("resize",B.updateBound),B.scrollParents.forEach(function(_){_.removeEventListener("scroll",B.updateBound)}),B.updateBound=null,B.scrollParents=[],B.scrollElement=null,B.eventsEnabled=!1,B))}function Ps(P){return P!==""&&!isNaN(parseFloat(P))&&isFinite(P)}function ji(P,B){Object.keys(B).forEach(function(_){var I="";["width","height","top","right","bottom","left"].indexOf(_)!==-1&&Ps(B[_])&&(I="px"),P.style[_]=B[_]+I})}var cl=Fe&&/Firefox/i.test(navigator.userAgent);function va(P,B,_){var I=ci(P,function(Le){return Le.name===B}),V=!!I&&P.some(function(Le){return Le.name===_&&Le.enabled&&Le.order<I.order});if(!V){var oe="`"+B+"`",re="`"+_+"`";console.warn(re+" modifier is required by "+oe+" modifier in order to work, be sure to include it before "+oe+"!")}return V}var Os=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],is=Os.slice(3);function fo(P){var B=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=is.indexOf(P),I=is.slice(_+1).concat(is.slice(0,_));return B?I.reverse():I}var Lt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(P){var B=P.placement,_=B.split("-")[0],I=B.split("-")[1];if(I){var V=P.offsets,oe=V.reference,re=V.popper,Le=["bottom","top"].indexOf(_)!==-1,Ye=Le?"left":"top",gt=Le?"width":"height",mt={start:Rn({},Ye,oe[Ye]),end:Rn({},Ye,oe[Ye]+oe[gt]-re[gt])};P.offsets.popper=Cn({},re,mt[I])}return P}},offset:{order:200,enabled:!0,fn:function(P,B){var _,I=B.offset,V=P.placement,oe=P.offsets,re=oe.popper,Le=oe.reference,Ye=V.split("-")[0];return _=Ps(+I)?[+I,0]:function(gt,mt,yt,At){var qt=[0,0],hn=["right","left"].indexOf(At)!==-1,vn=gt.split(/(\+|\-)/).map(function(fn){return fn.trim()}),Zn=vn.indexOf(ci(vn,function(fn){return fn.search(/,|\s/)!==-1}));vn[Zn]&&vn[Zn].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var pi=/\s*,\s*|\s+/,Nn=Zn!==-1?[vn.slice(0,Zn).concat([vn[Zn].split(pi)[0]]),[vn[Zn].split(pi)[1]].concat(vn.slice(Zn+1))]:[vn];return Nn=Nn.map(function(fn,$i){var Di=($i===1?!hn:hn)?"height":"width",Ht=!1;return fn.reduce(function(Ei,si){return Ei[Ei.length-1]===""&&["+","-"].indexOf(si)!==-1?(Ei[Ei.length-1]=si,Ht=!0,Ei):Ht?(Ei[Ei.length-1]+=si,Ht=!1,Ei):Ei.concat(si)},[]).map(function(Ei){return function(si,Mo,bl,_l){var $s=si.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Ai=+$s[1],Wr=$s[2];return Ai?Wr.indexOf("%")===0?bn(Wr==="%p"?bl:_l)[Mo]/100*Ai:Wr==="vh"||Wr==="vw"?(Wr==="vh"?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Ai:Ai:si}(Ei,Di,mt,yt)})}),Nn.forEach(function(fn,$i){fn.forEach(function(Di,Ht){Ps(Di)&&(qt[$i]+=Di*(fn[Ht-1]==="-"?-1:1))})}),qt}(I,re,Le,Ye),Ye==="left"?(re.top+=_[0],re.left-=_[1]):Ye==="right"?(re.top+=_[0],re.left+=_[1]):Ye==="top"?(re.left+=_[0],re.top-=_[1]):Ye==="bottom"&&(re.left+=_[0],re.top+=_[1]),P.popper=re,P},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(P,B){var _=B.boundariesElement||nt(P.instance.popper);P.instance.reference===_&&(_=nt(_));var I=ts("transform"),V=P.instance.popper.style,oe=V.top,re=V.left,Le=V[I];V.top="",V.left="",V[I]="";var Ye=ho(P.instance.popper,P.instance.reference,B.padding,_,P.positionFixed);V.top=oe,V.left=re,V[I]=Le,B.boundaries=Ye;var gt=B.priority,mt=P.offsets.popper,yt={primary:function(At){var qt=mt[At];return mt[At]<Ye[At]&&!B.escapeWithReference&&(qt=Math.max(mt[At],Ye[At])),Rn({},At,qt)},secondary:function(At){var qt=At==="right"?"left":"top",hn=mt[qt];return mt[At]>Ye[At]&&!B.escapeWithReference&&(hn=Math.min(mt[qt],Ye[At]-(At==="right"?mt.width:mt.height))),Rn({},qt,hn)}};return gt.forEach(function(At){var qt=["left","top"].indexOf(At)!==-1?"primary":"secondary";mt=Cn({},mt,yt[qt](At))}),P.offsets.popper=mt,P},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(P){var B=P.offsets,_=B.popper,I=B.reference,V=P.placement.split("-")[0],oe=Math.floor,re=["top","bottom"].indexOf(V)!==-1,Le=re?"right":"bottom",Ye=re?"left":"top",gt=re?"width":"height";return _[Le]<oe(I[Ye])&&(P.offsets.popper[Ye]=oe(I[Ye])-_[gt]),_[Ye]>oe(I[Le])&&(P.offsets.popper[Ye]=oe(I[Le])),P}},arrow:{order:500,enabled:!0,fn:function(P,B){var _;if(!va(P.instance.modifiers,"arrow","keepTogether"))return P;var I=B.element;if(typeof I=="string"){if(!(I=P.instance.popper.querySelector(I)))return P}else if(!P.instance.popper.contains(I))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),P;var V=P.placement.split("-")[0],oe=P.offsets,re=oe.popper,Le=oe.reference,Ye=["left","right"].indexOf(V)!==-1,gt=Ye?"height":"width",mt=Ye?"Top":"Left",yt=mt.toLowerCase(),At=Ye?"left":"top",qt=Ye?"bottom":"right",hn=Oo(I)[gt];Le[qt]-hn<re[yt]&&(P.offsets.popper[yt]-=re[yt]-(Le[qt]-hn)),Le[yt]+hn>re[qt]&&(P.offsets.popper[yt]+=Le[yt]+hn-re[qt]),P.offsets.popper=bn(P.offsets.popper);var vn=Le[yt]+Le[gt]/2-hn/2,Zn=K(P.instance.popper),pi=parseFloat(Zn["margin"+mt]),Nn=parseFloat(Zn["border"+mt+"Width"]),fn=vn-P.offsets.popper[yt]-pi-Nn;return fn=Math.max(Math.min(re[gt]-hn,fn),0),P.arrowElement=I,P.offsets.arrow=(Rn(_={},yt,Math.round(fn)),Rn(_,At,""),_),P},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(P,B){if(Is(P.instance.modifiers,"inner")||P.flipped&&P.placement===P.originalPlacement)return P;var _=ho(P.instance.popper,P.instance.reference,B.padding,B.boundariesElement,P.positionFixed),I=P.placement.split("-")[0],V=zr(I),oe=P.placement.split("-")[1]||"",re=[];switch(B.behavior){case"flip":re=[I,V];break;case"clockwise":re=fo(I);break;case"counterclockwise":re=fo(I,!0);break;default:re=B.behavior}return re.forEach(function(Le,Ye){if(I!==Le||re.length===Ye+1)return P;I=P.placement.split("-")[0],V=zr(I);var gt=P.offsets.popper,mt=P.offsets.reference,yt=Math.floor,At=I==="left"&&yt(gt.right)>yt(mt.left)||I==="right"&&yt(gt.left)<yt(mt.right)||I==="top"&&yt(gt.bottom)>yt(mt.top)||I==="bottom"&&yt(gt.top)<yt(mt.bottom),qt=yt(gt.left)<yt(_.left),hn=yt(gt.right)>yt(_.right),vn=yt(gt.top)<yt(_.top),Zn=yt(gt.bottom)>yt(_.bottom),pi=I==="left"&&qt||I==="right"&&hn||I==="top"&&vn||I==="bottom"&&Zn,Nn=["top","bottom"].indexOf(I)!==-1,fn=!!B.flipVariations&&(Nn&&oe==="start"&&qt||Nn&&oe==="end"&&hn||!Nn&&oe==="start"&&vn||!Nn&&oe==="end"&&Zn),$i=!!B.flipVariationsByContent&&(Nn&&oe==="start"&&hn||Nn&&oe==="end"&&qt||!Nn&&oe==="start"&&Zn||!Nn&&oe==="end"&&vn),Di=fn||$i;(At||pi||Di)&&(P.flipped=!0,(At||pi)&&(I=re[Ye+1]),Di&&(oe=function(Ht){return Ht==="end"?"start":Ht==="start"?"end":Ht}(oe)),P.placement=I+(oe?"-"+oe:""),P.offsets.popper=Cn({},P.offsets.popper,Wn(P.instance.popper,P.offsets.reference,P.placement)),P=Lo(P.instance.modifiers,P,"flip"))}),P},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(P){var B=P.placement,_=B.split("-")[0],I=P.offsets,V=I.popper,oe=I.reference,re=["left","right"].indexOf(_)!==-1,Le=["top","left"].indexOf(_)===-1;return V[re?"left":"top"]=oe[_]-(Le?V[re?"width":"height"]:0),P.placement=zr(B),P.offsets.popper=bn(V),P}},hide:{order:800,enabled:!0,fn:function(P){if(!va(P.instance.modifiers,"hide","preventOverflow"))return P;var B=P.offsets.reference,_=ci(P.instance.modifiers,function(I){return I.name==="preventOverflow"}).boundaries;if(B.bottom<_.top||B.left>_.right||B.top>_.bottom||B.right<_.left){if(P.hide===!0)return P;P.hide=!0,P.attributes["x-out-of-boundaries"]=""}else{if(P.hide===!1)return P;P.hide=!1,P.attributes["x-out-of-boundaries"]=!1}return P}},computeStyle:{order:850,enabled:!0,fn:function(P,B){var _=B.x,I=B.y,V=P.offsets.popper,oe=ci(P.instance.modifiers,function(fn){return fn.name==="applyStyle"}).gpuAcceleration;oe!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var re,Le,Ye=oe!==void 0?oe:B.gpuAcceleration,gt=nt(P.instance.popper),mt=Gn(gt),yt={position:V.position},At=function(fn,$i){var Di=fn.offsets,Ht=Di.popper,Ei=Di.reference,si=Math.round,Mo=Math.floor,bl=function(qs){return qs},_l=si(Ei.width),$s=si(Ht.width),Ai=["left","right"].indexOf(fn.placement)!==-1,Wr=fn.placement.indexOf("-")!==-1,mo=$i?Ai||Wr||_l%2==$s%2?si:Mo:bl,Ea=$i?si:bl;return{left:mo(_l%2==1&&$s%2==1&&!Wr&&$i?Ht.left-1:Ht.left),top:Ea(Ht.top),bottom:Ea(Ht.bottom),right:mo(Ht.right)}}(P,window.devicePixelRatio<2||!cl),qt=_==="bottom"?"top":"bottom",hn=I==="right"?"left":"right",vn=ts("transform");if(Le=qt==="bottom"?gt.nodeName==="HTML"?-gt.clientHeight+At.bottom:-mt.height+At.bottom:At.top,re=hn==="right"?gt.nodeName==="HTML"?-gt.clientWidth+At.right:-mt.width+At.right:At.left,Ye&&vn)yt[vn]="translate3d("+re+"px, "+Le+"px, 0)",yt[qt]=0,yt[hn]=0,yt.willChange="transform";else{var Zn=qt==="bottom"?-1:1,pi=hn==="right"?-1:1;yt[qt]=Le*Zn,yt[hn]=re*pi,yt.willChange=qt+", "+hn}var Nn={"x-placement":P.placement};return P.attributes=Cn({},Nn,P.attributes),P.styles=Cn({},yt,P.styles),P.arrowStyles=Cn({},P.offsets.arrow,P.arrowStyles),P},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(P){var B,_;return ji(P.instance.popper,P.styles),B=P.instance.popper,_=P.attributes,Object.keys(_).forEach(function(I){_[I]!==!1?B.setAttribute(I,_[I]):B.removeAttribute(I)}),P.arrowElement&&Object.keys(P.arrowStyles).length&&ji(P.arrowElement,P.arrowStyles),P},onLoad:function(P,B,_,I,V){var oe=Ti(V,B,P,_.positionFixed),re=On(_.placement,oe,B,P,_.modifiers.flip.boundariesElement,_.modifiers.flip.padding);return B.setAttribute("x-placement",re),ji(B,{position:_.positionFixed?"fixed":"absolute"}),_},gpuAcceleration:void 0}}},Te=function(){function P(B,_){var I=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};yn(this,P),this.scheduleUpdate=function(){return requestAnimationFrame(I.update)},this.update=Ie(this.update.bind(this)),this.options=Cn({},P.Defaults,V),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=B&&B.jquery?B[0]:B,this.popper=_&&_.jquery?_[0]:_,this.options.modifiers={},Object.keys(Cn({},P.Defaults.modifiers,V.modifiers)).forEach(function(re){I.options.modifiers[re]=Cn({},P.Defaults.modifiers[re]||{},V.modifiers?V.modifiers[re]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(re){return Cn({name:re},I.options.modifiers[re])}).sort(function(re,Le){return re.order-Le.order}),this.modifiers.forEach(function(re){re.enabled&&U(re.onLoad)&&re.onLoad(I.reference,I.popper,I.options,re,I.state)}),this.update();var oe=this.options.eventsEnabled;oe&&this.enableEventListeners(),this.state.eventsEnabled=oe}return Fn(P,[{key:"update",value:function(){return yc.call(this)}},{key:"destroy",value:function(){return Ur.call(this)}},{key:"enableEventListeners",value:function(){return ll.call(this)}},{key:"disableEventListeners",value:function(){return vc.call(this)}}]),P}();Te.Utils=(typeof window<"u"?window:Va).PopperUtils,Te.placements=Os,Te.Defaults=Lt;var ct=Te,Ct="dropdown",Tn="bs.dropdown",ui=o.default.fn[Ct],oi=new RegExp("38|40|27"),ni="disabled",fi="show",po="dropdown-menu-right",_i="hide.bs.dropdown",Ls="hidden.bs.dropdown",go="click.bs.dropdown.data-api",bc="keydown.bs.dropdown.data-api",ul='[data-toggle="dropdown"]',dl=".dropdown-menu",$u={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},_c={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Vr=function(){function P(_,I){this._element=_,this._popper=null,this._config=this._getConfig(I),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var B=P.prototype;return B.toggle=function(){if(!this._element.disabled&&!o.default(this._element).hasClass(ni)){var _=o.default(this._menu).hasClass(fi);P._clearMenus(),_||this.show(!0)}},B.show=function(_){if(_===void 0&&(_=!1),!(this._element.disabled||o.default(this._element).hasClass(ni)||o.default(this._menu).hasClass(fi))){var I={relatedTarget:this._element},V=o.default.Event("show.bs.dropdown",I),oe=P._getParentFromElement(this._element);if(o.default(oe).trigger(V),!V.isDefaultPrevented()){if(!this._inNavbar&&_){if(typeof ct>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var re=this._element;this._config.reference==="parent"?re=oe:d.isElement(this._config.reference)&&(re=this._config.reference,typeof this._config.reference.jquery<"u"&&(re=this._config.reference[0])),this._config.boundary!=="scrollParent"&&o.default(oe).addClass("position-static"),this._popper=new ct(re,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&o.default(oe).closest(".navbar-nav").length===0&&o.default(document.body).children().on("mouseover",null,o.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),o.default(this._menu).toggleClass(fi),o.default(oe).toggleClass(fi).trigger(o.default.Event("shown.bs.dropdown",I))}}},B.hide=function(){if(!this._element.disabled&&!o.default(this._element).hasClass(ni)&&o.default(this._menu).hasClass(fi)){var _={relatedTarget:this._element},I=o.default.Event(_i,_),V=P._getParentFromElement(this._element);o.default(V).trigger(I),I.isDefaultPrevented()||(this._popper&&this._popper.destroy(),o.default(this._menu).toggleClass(fi),o.default(V).toggleClass(fi).trigger(o.default.Event(Ls,_)))}},B.dispose=function(){o.default.removeData(this._element,Tn),o.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},B.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},B._addEventListeners=function(){var _=this;o.default(this._element).on("click.bs.dropdown",function(I){I.preventDefault(),I.stopPropagation(),_.toggle()})},B._getConfig=function(_){return _=l({},this.constructor.Default,o.default(this._element).data(),_),d.typeCheckConfig(Ct,_,this.constructor.DefaultType),_},B._getMenuElement=function(){if(!this._menu){var _=P._getParentFromElement(this._element);_&&(this._menu=_.querySelector(dl))}return this._menu},B._getPlacement=function(){var _=o.default(this._element.parentNode),I="bottom-start";return _.hasClass("dropup")?I=o.default(this._menu).hasClass(po)?"top-end":"top-start":_.hasClass("dropright")?I="right-start":_.hasClass("dropleft")?I="left-start":o.default(this._menu).hasClass(po)&&(I="bottom-end"),I},B._detectNavbar=function(){return o.default(this._element).closest(".navbar").length>0},B._getOffset=function(){var _=this,I={};return typeof this._config.offset=="function"?I.fn=function(V){return V.offsets=l({},V.offsets,_._config.offset(V.offsets,_._element)),V}:I.offset=this._config.offset,I},B._getPopperConfig=function(){var _={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(_.modifiers.applyStyle={enabled:!1}),l({},_,this._config.popperConfig)},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this).data(Tn);if(I||(I=new P(this,typeof _=="object"?_:null),o.default(this).data(Tn,I)),typeof _=="string"){if(typeof I[_]>"u")throw new TypeError('No method named "'+_+'"');I[_]()}})},P._clearMenus=function(_){if(!_||_.which!==3&&(_.type!=="keyup"||_.which===9))for(var I=[].slice.call(document.querySelectorAll(ul)),V=0,oe=I.length;V<oe;V++){var re=P._getParentFromElement(I[V]),Le=o.default(I[V]).data(Tn),Ye={relatedTarget:I[V]};if(_&&_.type==="click"&&(Ye.clickEvent=_),Le){var gt=Le._menu;if(o.default(re).hasClass(fi)&&!(_&&(_.type==="click"&&/input|textarea/i.test(_.target.tagName)||_.type==="keyup"&&_.which===9)&&o.default.contains(re,_.target))){var mt=o.default.Event(_i,Ye);o.default(re).trigger(mt),mt.isDefaultPrevented()||("ontouchstart"in document.documentElement&&o.default(document.body).children().off("mouseover",null,o.default.noop),I[V].setAttribute("aria-expanded","false"),Le._popper&&Le._popper.destroy(),o.default(gt).removeClass(fi),o.default(re).removeClass(fi).trigger(o.default.Event(Ls,Ye)))}}}},P._getParentFromElement=function(_){var I,V=d.getSelectorFromElement(_);return V&&(I=document.querySelector(V)),I||_.parentNode},P._dataApiKeydownHandler=function(_){if(!(/input|textarea/i.test(_.target.tagName)?_.which===32||_.which!==27&&(_.which!==40&&_.which!==38||o.default(_.target).closest(dl).length):!oi.test(_.which))&&!this.disabled&&!o.default(this).hasClass(ni)){var I=P._getParentFromElement(this),V=o.default(I).hasClass(fi);if(V||_.which!==27){if(_.preventDefault(),_.stopPropagation(),!V||_.which===27||_.which===32)return _.which===27&&o.default(I.querySelector(ul)).trigger("focus"),void o.default(this).trigger("click");var oe=[].slice.call(I.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(Le){return o.default(Le).is(":visible")});if(oe.length!==0){var re=oe.indexOf(_.target);_.which===38&&re>0&&re--,_.which===40&&re<oe.length-1&&re++,re<0&&(re=0),oe[re].focus()}}}},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return $u}},{key:"DefaultType",get:function(){return _c}}]),P}();o.default(document).on(bc,ul,Vr._dataApiKeydownHandler).on(bc,dl,Vr._dataApiKeydownHandler).on(go+" keyup.bs.dropdown.data-api",Vr._clearMenus).on(go,ul,function(P){P.preventDefault(),P.stopPropagation(),Vr._jQueryInterface.call(o.default(this),"toggle")}).on(go,".dropdown form",function(P){P.stopPropagation()}),o.default.fn[Ct]=Vr._jQueryInterface,o.default.fn[Ct].Constructor=Vr,o.default.fn[Ct].noConflict=function(){return o.default.fn[Ct]=ui,Vr._jQueryInterface};var xi="bs.modal",rs=o.default.fn.modal,os="modal-open",Ds="fade",ba="show",ss="modal-static",hl="hidden.bs.modal",_a="show.bs.modal",Ns="focusin.bs.modal",xc="resize.bs.modal",xa="click.dismiss.bs.modal",sr="keydown.dismiss.bs.modal",fl="mousedown.dismiss.bs.modal",Do=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wa={backdrop:!0,keyboard:!0,focus:!0,show:!0},Ms={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ar=function(){function P(_,I){this._config=this._getConfig(I),this._element=_,this._dialog=_.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var B=P.prototype;return B.toggle=function(_){return this._isShown?this.hide():this.show(_)},B.show=function(_){var I=this;if(!this._isShown&&!this._isTransitioning){var V=o.default.Event(_a,{relatedTarget:_});o.default(this._element).trigger(V),V.isDefaultPrevented()||(this._isShown=!0,o.default(this._element).hasClass(Ds)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),o.default(this._element).on(xa,'[data-dismiss="modal"]',function(oe){return I.hide(oe)}),o.default(this._dialog).on(fl,function(){o.default(I._element).one("mouseup.dismiss.bs.modal",function(oe){o.default(oe.target).is(I._element)&&(I._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return I._showElement(_)}))}},B.hide=function(_){var I=this;if(_&&_.preventDefault(),this._isShown&&!this._isTransitioning){var V=o.default.Event("hide.bs.modal");if(o.default(this._element).trigger(V),this._isShown&&!V.isDefaultPrevented()){this._isShown=!1;var oe=o.default(this._element).hasClass(Ds);if(oe&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),o.default(document).off(Ns),o.default(this._element).removeClass(ba),o.default(this._element).off(xa),o.default(this._dialog).off(fl),oe){var re=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,function(Le){return I._hideModal(Le)}).emulateTransitionEnd(re)}else this._hideModal()}}},B.dispose=function(){[window,this._element,this._dialog].forEach(function(_){return o.default(_).off(".bs.modal")}),o.default(document).off(Ns),o.default.removeData(this._element,xi),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},B.handleUpdate=function(){this._adjustDialog()},B._getConfig=function(_){return _=l({},wa,_),d.typeCheckConfig("modal",_,Ms),_},B._triggerBackdropTransition=function(){var _=this,I=o.default.Event("hidePrevented.bs.modal");if(o.default(this._element).trigger(I),!I.isDefaultPrevented()){var V=this._element.scrollHeight>document.documentElement.clientHeight;V||(this._element.style.overflowY="hidden"),this._element.classList.add(ss);var oe=d.getTransitionDurationFromElement(this._dialog);o.default(this._element).off(d.TRANSITION_END),o.default(this._element).one(d.TRANSITION_END,function(){_._element.classList.remove(ss),V||o.default(_._element).one(d.TRANSITION_END,function(){_._element.style.overflowY=""}).emulateTransitionEnd(_._element,oe)}).emulateTransitionEnd(oe),this._element.focus()}},B._showElement=function(_){var I=this,V=o.default(this._element).hasClass(Ds),oe=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),o.default(this._dialog).hasClass("modal-dialog-scrollable")&&oe?oe.scrollTop=0:this._element.scrollTop=0,V&&d.reflow(this._element),o.default(this._element).addClass(ba),this._config.focus&&this._enforceFocus();var re=o.default.Event("shown.bs.modal",{relatedTarget:_}),Le=function(){I._config.focus&&I._element.focus(),I._isTransitioning=!1,o.default(I._element).trigger(re)};if(V){var Ye=d.getTransitionDurationFromElement(this._dialog);o.default(this._dialog).one(d.TRANSITION_END,Le).emulateTransitionEnd(Ye)}else Le()},B._enforceFocus=function(){var _=this;o.default(document).off(Ns).on(Ns,function(I){document!==I.target&&_._element!==I.target&&o.default(_._element).has(I.target).length===0&&_._element.focus()})},B._setEscapeEvent=function(){var _=this;this._isShown?o.default(this._element).on(sr,function(I){_._config.keyboard&&I.which===27?(I.preventDefault(),_.hide()):_._config.keyboard||I.which!==27||_._triggerBackdropTransition()}):this._isShown||o.default(this._element).off(sr)},B._setResizeEvent=function(){var _=this;this._isShown?o.default(window).on(xc,function(I){return _.handleUpdate(I)}):o.default(window).off(xc)},B._hideModal=function(){var _=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){o.default(document.body).removeClass(os),_._resetAdjustments(),_._resetScrollbar(),o.default(_._element).trigger(hl)})},B._removeBackdrop=function(){this._backdrop&&(o.default(this._backdrop).remove(),this._backdrop=null)},B._showBackdrop=function(_){var I=this,V=o.default(this._element).hasClass(Ds)?Ds:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",V&&this._backdrop.classList.add(V),o.default(this._backdrop).appendTo(document.body),o.default(this._element).on(xa,function(Ye){I._ignoreBackdropClick?I._ignoreBackdropClick=!1:Ye.target===Ye.currentTarget&&(I._config.backdrop==="static"?I._triggerBackdropTransition():I.hide())}),V&&d.reflow(this._backdrop),o.default(this._backdrop).addClass(ba),!_)return;if(!V)return void _();var oe=d.getTransitionDurationFromElement(this._backdrop);o.default(this._backdrop).one(d.TRANSITION_END,_).emulateTransitionEnd(oe)}else if(!this._isShown&&this._backdrop){o.default(this._backdrop).removeClass(ba);var re=function(){I._removeBackdrop(),_&&_()};if(o.default(this._element).hasClass(Ds)){var Le=d.getTransitionDurationFromElement(this._backdrop);o.default(this._backdrop).one(d.TRANSITION_END,re).emulateTransitionEnd(Le)}else re()}else _&&_()},B._adjustDialog=function(){var _=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&_&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!_&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},B._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},B._checkScrollbar=function(){var _=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(_.left+_.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},B._setScrollbar=function(){var _=this;if(this._isBodyOverflowing){var I=[].slice.call(document.querySelectorAll(Do)),V=[].slice.call(document.querySelectorAll(".sticky-top"));o.default(I).each(function(Le,Ye){var gt=Ye.style.paddingRight,mt=o.default(Ye).css("padding-right");o.default(Ye).data("padding-right",gt).css("padding-right",parseFloat(mt)+_._scrollbarWidth+"px")}),o.default(V).each(function(Le,Ye){var gt=Ye.style.marginRight,mt=o.default(Ye).css("margin-right");o.default(Ye).data("margin-right",gt).css("margin-right",parseFloat(mt)-_._scrollbarWidth+"px")});var oe=document.body.style.paddingRight,re=o.default(document.body).css("padding-right");o.default(document.body).data("padding-right",oe).css("padding-right",parseFloat(re)+this._scrollbarWidth+"px")}o.default(document.body).addClass(os)},B._resetScrollbar=function(){var _=[].slice.call(document.querySelectorAll(Do));o.default(_).each(function(oe,re){var Le=o.default(re).data("padding-right");o.default(re).removeData("padding-right"),re.style.paddingRight=Le||""});var I=[].slice.call(document.querySelectorAll(".sticky-top"));o.default(I).each(function(oe,re){var Le=o.default(re).data("margin-right");typeof Le<"u"&&o.default(re).css("margin-right",Le).removeData("margin-right")});var V=o.default(document.body).data("padding-right");o.default(document.body).removeData("padding-right"),document.body.style.paddingRight=V||""},B._getScrollbarWidth=function(){var _=document.createElement("div");_.className="modal-scrollbar-measure",document.body.appendChild(_);var I=_.getBoundingClientRect().width-_.clientWidth;return document.body.removeChild(_),I},P._jQueryInterface=function(_,I){return this.each(function(){var V=o.default(this).data(xi),oe=l({},wa,o.default(this).data(),typeof _=="object"&&_?_:{});if(V||(V=new P(this,oe),o.default(this).data(xi,V)),typeof _=="string"){if(typeof V[_]>"u")throw new TypeError('No method named "'+_+'"');V[_](I)}else oe.show&&V.show(I)})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return wa}}]),P}();o.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(P){var B,_=this,I=d.getSelectorFromElement(this);I&&(B=document.querySelector(I));var V=o.default(B).data(xi)?"toggle":l({},o.default(B).data(),o.default(this).data());this.tagName!=="A"&&this.tagName!=="AREA"||P.preventDefault();var oe=o.default(B).one(_a,function(re){re.isDefaultPrevented()||oe.one(hl,function(){o.default(_).is(":visible")&&_.focus()})});ar._jQueryInterface.call(o.default(B),V,this)}),o.default.fn.modal=ar._jQueryInterface,o.default.fn.modal.Constructor=ar,o.default.fn.modal.noConflict=function(){return o.default.fn.modal=rs,ar._jQueryInterface};var No=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],wc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,qu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function as(P,B,_){if(P.length===0)return P;if(_&&typeof _=="function")return _(P);for(var I=new window.DOMParser().parseFromString(P,"text/html"),V=Object.keys(B),oe=[].slice.call(I.body.querySelectorAll("*")),re=function(gt,mt){var yt=oe[gt],At=yt.nodeName.toLowerCase();if(V.indexOf(yt.nodeName.toLowerCase())===-1)return yt.parentNode.removeChild(yt),"continue";var qt=[].slice.call(yt.attributes),hn=[].concat(B["*"]||[],B[At]||[]);qt.forEach(function(vn){(function(Zn,pi){var Nn=Zn.nodeName.toLowerCase();if(pi.indexOf(Nn)!==-1)return No.indexOf(Nn)===-1||!!(wc.test(Zn.nodeValue)||qu.test(Zn.nodeValue));for(var fn=pi.filter(function(Ht){return Ht instanceof RegExp}),$i=0,Di=fn.length;$i<Di;$i++)if(fn[$i].test(Nn))return!0;return!1})(vn,hn)||yt.removeAttribute(vn.nodeName)})},Le=0,Ye=oe.length;Le<Ye;Le++)re(Le);return I.body.innerHTML}var pl="tooltip",Fs="bs.tooltip",zu=o.default.fn.tooltip,Uu=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Zh=["sanitize","whiteList","sanitizeFn"],Rs="fade",gl="show",Ca="show",Ta="out",ml="hover",yl="focus",ef={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},tf={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},nf={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},rf={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ls=function(){function P(_,I){if(typeof ct>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=_,this.config=this._getConfig(I),this.tip=null,this._setListeners()}var B=P.prototype;return B.enable=function(){this._isEnabled=!0},B.disable=function(){this._isEnabled=!1},B.toggleEnabled=function(){this._isEnabled=!this._isEnabled},B.toggle=function(_){if(this._isEnabled)if(_){var I=this.constructor.DATA_KEY,V=o.default(_.currentTarget).data(I);V||(V=new this.constructor(_.currentTarget,this._getDelegateConfig()),o.default(_.currentTarget).data(I,V)),V._activeTrigger.click=!V._activeTrigger.click,V._isWithActiveTrigger()?V._enter(null,V):V._leave(null,V)}else{if(o.default(this.getTipElement()).hasClass(gl))return void this._leave(null,this);this._enter(null,this)}},B.dispose=function(){clearTimeout(this._timeout),o.default.removeData(this.element,this.constructor.DATA_KEY),o.default(this.element).off(this.constructor.EVENT_KEY),o.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&o.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},B.show=function(){var _=this;if(o.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var I=o.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){o.default(this.element).trigger(I);var V=d.findShadowRoot(this.element),oe=o.default.contains(V!==null?V:this.element.ownerDocument.documentElement,this.element);if(I.isDefaultPrevented()||!oe)return;var re=this.getTipElement(),Le=d.getUID(this.constructor.NAME);re.setAttribute("id",Le),this.element.setAttribute("aria-describedby",Le),this.setContent(),this.config.animation&&o.default(re).addClass(Rs);var Ye=typeof this.config.placement=="function"?this.config.placement.call(this,re,this.element):this.config.placement,gt=this._getAttachment(Ye);this.addAttachmentClass(gt);var mt=this._getContainer();o.default(re).data(this.constructor.DATA_KEY,this),o.default.contains(this.element.ownerDocument.documentElement,this.tip)||o.default(re).appendTo(mt),o.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new ct(this.element,re,this._getPopperConfig(gt)),o.default(re).addClass(gl),o.default(re).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&o.default(document.body).children().on("mouseover",null,o.default.noop);var yt=function(){_.config.animation&&_._fixTransition();var qt=_._hoverState;_._hoverState=null,o.default(_.element).trigger(_.constructor.Event.SHOWN),qt===Ta&&_._leave(null,_)};if(o.default(this.tip).hasClass(Rs)){var At=d.getTransitionDurationFromElement(this.tip);o.default(this.tip).one(d.TRANSITION_END,yt).emulateTransitionEnd(At)}else yt()}},B.hide=function(_){var I=this,V=this.getTipElement(),oe=o.default.Event(this.constructor.Event.HIDE),re=function(){I._hoverState!==Ca&&V.parentNode&&V.parentNode.removeChild(V),I._cleanTipClass(),I.element.removeAttribute("aria-describedby"),o.default(I.element).trigger(I.constructor.Event.HIDDEN),I._popper!==null&&I._popper.destroy(),_&&_()};if(o.default(this.element).trigger(oe),!oe.isDefaultPrevented()){if(o.default(V).removeClass(gl),"ontouchstart"in document.documentElement&&o.default(document.body).children().off("mouseover",null,o.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,o.default(this.tip).hasClass(Rs)){var Le=d.getTransitionDurationFromElement(V);o.default(V).one(d.TRANSITION_END,re).emulateTransitionEnd(Le)}else re();this._hoverState=""}},B.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},B.isWithContent=function(){return!!this.getTitle()},B.addAttachmentClass=function(_){o.default(this.getTipElement()).addClass("bs-tooltip-"+_)},B.getTipElement=function(){return this.tip=this.tip||o.default(this.config.template)[0],this.tip},B.setContent=function(){var _=this.getTipElement();this.setElementContent(o.default(_.querySelectorAll(".tooltip-inner")),this.getTitle()),o.default(_).removeClass("fade show")},B.setElementContent=function(_,I){typeof I!="object"||!I.nodeType&&!I.jquery?this.config.html?(this.config.sanitize&&(I=as(I,this.config.whiteList,this.config.sanitizeFn)),_.html(I)):_.text(I):this.config.html?o.default(I).parent().is(_)||_.empty().append(I):_.text(o.default(I).text())},B.getTitle=function(){var _=this.element.getAttribute("data-original-title");return _||(_=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),_},B._getPopperConfig=function(_){var I=this;return l({},{placement:_,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(V){V.originalPlacement!==V.placement&&I._handlePopperPlacementChange(V)},onUpdate:function(V){return I._handlePopperPlacementChange(V)}},this.config.popperConfig)},B._getOffset=function(){var _=this,I={};return typeof this.config.offset=="function"?I.fn=function(V){return V.offsets=l({},V.offsets,_.config.offset(V.offsets,_.element)),V}:I.offset=this.config.offset,I},B._getContainer=function(){return this.config.container===!1?document.body:d.isElement(this.config.container)?o.default(this.config.container):o.default(document).find(this.config.container)},B._getAttachment=function(_){return ef[_.toUpperCase()]},B._setListeners=function(){var _=this;this.config.trigger.split(" ").forEach(function(I){if(I==="click")o.default(_.element).on(_.constructor.Event.CLICK,_.config.selector,function(re){return _.toggle(re)});else if(I!=="manual"){var V=I===ml?_.constructor.Event.MOUSEENTER:_.constructor.Event.FOCUSIN,oe=I===ml?_.constructor.Event.MOUSELEAVE:_.constructor.Event.FOCUSOUT;o.default(_.element).on(V,_.config.selector,function(re){return _._enter(re)}).on(oe,_.config.selector,function(re){return _._leave(re)})}}),this._hideModalHandler=function(){_.element&&_.hide()},o.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},B._fixTitle=function(){var _=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||_!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},B._enter=function(_,I){var V=this.constructor.DATA_KEY;(I=I||o.default(_.currentTarget).data(V))||(I=new this.constructor(_.currentTarget,this._getDelegateConfig()),o.default(_.currentTarget).data(V,I)),_&&(I._activeTrigger[_.type==="focusin"?yl:ml]=!0),o.default(I.getTipElement()).hasClass(gl)||I._hoverState===Ca?I._hoverState=Ca:(clearTimeout(I._timeout),I._hoverState=Ca,I.config.delay&&I.config.delay.show?I._timeout=setTimeout(function(){I._hoverState===Ca&&I.show()},I.config.delay.show):I.show())},B._leave=function(_,I){var V=this.constructor.DATA_KEY;(I=I||o.default(_.currentTarget).data(V))||(I=new this.constructor(_.currentTarget,this._getDelegateConfig()),o.default(_.currentTarget).data(V,I)),_&&(I._activeTrigger[_.type==="focusout"?yl:ml]=!1),I._isWithActiveTrigger()||(clearTimeout(I._timeout),I._hoverState=Ta,I.config.delay&&I.config.delay.hide?I._timeout=setTimeout(function(){I._hoverState===Ta&&I.hide()},I.config.delay.hide):I.hide())},B._isWithActiveTrigger=function(){for(var _ in this._activeTrigger)if(this._activeTrigger[_])return!0;return!1},B._getConfig=function(_){var I=o.default(this.element).data();return Object.keys(I).forEach(function(V){Zh.indexOf(V)!==-1&&delete I[V]}),typeof(_=l({},this.constructor.Default,I,typeof _=="object"&&_?_:{})).delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),d.typeCheckConfig(pl,_,this.constructor.DefaultType),_.sanitize&&(_.template=as(_.template,_.whiteList,_.sanitizeFn)),_},B._getDelegateConfig=function(){var _={};if(this.config)for(var I in this.config)this.constructor.Default[I]!==this.config[I]&&(_[I]=this.config[I]);return _},B._cleanTipClass=function(){var _=o.default(this.getTipElement()),I=_.attr("class").match(Uu);I!==null&&I.length&&_.removeClass(I.join(""))},B._handlePopperPlacementChange=function(_){this.tip=_.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(_.placement))},B._fixTransition=function(){var _=this.getTipElement(),I=this.config.animation;_.getAttribute("x-placement")===null&&(o.default(_).removeClass(Rs),this.config.animation=!1,this.hide(),this.show(),this.config.animation=I)},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this),V=I.data(Fs),oe=typeof _=="object"&&_;if((V||!/dispose|hide/.test(_))&&(V||(V=new P(this,oe),I.data(Fs,V)),typeof _=="string")){if(typeof V[_]>"u")throw new TypeError('No method named "'+_+'"');V[_]()}})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return tf}},{key:"NAME",get:function(){return pl}},{key:"DATA_KEY",get:function(){return Fs}},{key:"Event",get:function(){return rf}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return nf}}]),P}();o.default.fn.tooltip=ls._jQueryInterface,o.default.fn.tooltip.Constructor=ls,o.default.fn.tooltip.noConflict=function(){return o.default.fn.tooltip=zu,ls._jQueryInterface};var Bn="bs.popover",$n=o.default.fn.popover,Hu=new RegExp("(^|\\s)bs-popover\\S+","g"),Cc=l({},ls.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Vu=l({},ls.DefaultType,{content:"(string|element|function)"}),Gu={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Bs=function(P){var B,_;function I(){return P.apply(this,arguments)||this}_=P,(B=I).prototype=Object.create(_.prototype),B.prototype.constructor=B,u(B,_);var V=I.prototype;return V.isWithContent=function(){return this.getTitle()||this._getContent()},V.addAttachmentClass=function(oe){o.default(this.getTipElement()).addClass("bs-popover-"+oe)},V.getTipElement=function(){return this.tip=this.tip||o.default(this.config.template)[0],this.tip},V.setContent=function(){var oe=o.default(this.getTipElement());this.setElementContent(oe.find(".popover-header"),this.getTitle());var re=this._getContent();typeof re=="function"&&(re=re.call(this.element)),this.setElementContent(oe.find(".popover-body"),re),oe.removeClass("fade show")},V._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},V._cleanTipClass=function(){var oe=o.default(this.getTipElement()),re=oe.attr("class").match(Hu);re!==null&&re.length>0&&oe.removeClass(re.join(""))},I._jQueryInterface=function(oe){return this.each(function(){var re=o.default(this).data(Bn),Le=typeof oe=="object"?oe:null;if((re||!/dispose|hide/.test(oe))&&(re||(re=new I(this,Le),o.default(this).data(Bn,re)),typeof oe=="string")){if(typeof re[oe]>"u")throw new TypeError('No method named "'+oe+'"');re[oe]()}})},a(I,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Cc}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return Bn}},{key:"Event",get:function(){return Gu}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Vu}}]),I}(ls);o.default.fn.popover=Bs._jQueryInterface,o.default.fn.popover.Constructor=Bs,o.default.fn.popover.noConflict=function(){return o.default.fn.popover=$n,Bs._jQueryInterface};var cs="scrollspy",vl="bs.scrollspy",of=o.default.fn[cs],Hn="active",Sa="position",Gr=".nav, .list-group",Tc={offset:10,method:"auto",target:""},Sc={offset:"number",method:"string",target:"(string|element)"},Li=function(){function P(_,I){var V=this;this._element=_,this._scrollElement=_.tagName==="BODY"?window:_,this._config=this._getConfig(I),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,o.default(this._scrollElement).on("scroll.bs.scrollspy",function(oe){return V._process(oe)}),this.refresh(),this._process()}var B=P.prototype;return B.refresh=function(){var _=this,I=this._scrollElement===this._scrollElement.window?"offset":Sa,V=this._config.method==="auto"?I:this._config.method,oe=V===Sa?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(re){var Le,Ye=d.getSelectorFromElement(re);if(Ye&&(Le=document.querySelector(Ye)),Le){var gt=Le.getBoundingClientRect();if(gt.width||gt.height)return[o.default(Le)[V]().top+oe,Ye]}return null}).filter(Boolean).sort(function(re,Le){return re[0]-Le[0]}).forEach(function(re){_._offsets.push(re[0]),_._targets.push(re[1])})},B.dispose=function(){o.default.removeData(this._element,vl),o.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},B._getConfig=function(_){if(typeof(_=l({},Tc,typeof _=="object"&&_?_:{})).target!="string"&&d.isElement(_.target)){var I=o.default(_.target).attr("id");I||(I=d.getUID(cs),o.default(_.target).attr("id",I)),_.target="#"+I}return d.typeCheckConfig(cs,_,Sc),_},B._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},B._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},B._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},B._process=function(){var _=this._getScrollTop()+this._config.offset,I=this._getScrollHeight(),V=this._config.offset+I-this._getOffsetHeight();if(this._scrollHeight!==I&&this.refresh(),_>=V){var oe=this._targets[this._targets.length-1];this._activeTarget!==oe&&this._activate(oe)}else{if(this._activeTarget&&_<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var re=this._offsets.length;re--;)this._activeTarget!==this._targets[re]&&_>=this._offsets[re]&&(typeof this._offsets[re+1]>"u"||_<this._offsets[re+1])&&this._activate(this._targets[re])}},B._activate=function(_){this._activeTarget=_,this._clear();var I=this._selector.split(",").map(function(oe){return oe+'[data-target="'+_+'"],'+oe+'[href="'+_+'"]'}),V=o.default([].slice.call(document.querySelectorAll(I.join(","))));V.hasClass("dropdown-item")?(V.closest(".dropdown").find(".dropdown-toggle").addClass(Hn),V.addClass(Hn)):(V.addClass(Hn),V.parents(Gr).prev(".nav-link, .list-group-item").addClass(Hn),V.parents(Gr).prev(".nav-item").children(".nav-link").addClass(Hn)),o.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:_})},B._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(_){return _.classList.contains(Hn)}).forEach(function(_){return _.classList.remove(Hn)})},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this).data(vl);if(I||(I=new P(this,typeof _=="object"&&_),o.default(this).data(vl,I)),typeof _=="string"){if(typeof I[_]>"u")throw new TypeError('No method named "'+_+'"');I[_]()}})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Tc}}]),P}();o.default(window).on("load.bs.scrollspy.data-api",function(){for(var P=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),B=P.length;B--;){var _=o.default(P[B]);Li._jQueryInterface.call(_,_.data())}}),o.default.fn[cs]=Li._jQueryInterface,o.default.fn[cs].Constructor=Li,o.default.fn[cs].noConflict=function(){return o.default.fn[cs]=of,Li._jQueryInterface};var p="bs.tab",v=o.default.fn.tab,w="active",S="fade",D="show",N=".active",H="> li > .active",he=function(){function P(_){this._element=_}var B=P.prototype;return B.show=function(){var _=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&o.default(this._element).hasClass(w)||o.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var I,V,oe=o.default(this._element).closest(".nav, .list-group")[0],re=d.getSelectorFromElement(this._element);if(oe){var Le=oe.nodeName==="UL"||oe.nodeName==="OL"?H:N;V=(V=o.default.makeArray(o.default(oe).find(Le)))[V.length-1]}var Ye=o.default.Event("hide.bs.tab",{relatedTarget:this._element}),gt=o.default.Event("show.bs.tab",{relatedTarget:V});if(V&&o.default(V).trigger(Ye),o.default(this._element).trigger(gt),!gt.isDefaultPrevented()&&!Ye.isDefaultPrevented()){re&&(I=document.querySelector(re)),this._activate(this._element,oe);var mt=function(){var yt=o.default.Event("hidden.bs.tab",{relatedTarget:_._element}),At=o.default.Event("shown.bs.tab",{relatedTarget:V});o.default(V).trigger(yt),o.default(_._element).trigger(At)};I?this._activate(I,I.parentNode,mt):mt()}}},B.dispose=function(){o.default.removeData(this._element,p),this._element=null},B._activate=function(_,I,V){var oe=this,re=(!I||I.nodeName!=="UL"&&I.nodeName!=="OL"?o.default(I).children(N):o.default(I).find(H))[0],Le=V&&re&&o.default(re).hasClass(S),Ye=function(){return oe._transitionComplete(_,re,V)};if(re&&Le){var gt=d.getTransitionDurationFromElement(re);o.default(re).removeClass(D).one(d.TRANSITION_END,Ye).emulateTransitionEnd(gt)}else Ye()},B._transitionComplete=function(_,I,V){if(I){o.default(I).removeClass(w);var oe=o.default(I.parentNode).find("> .dropdown-menu .active")[0];oe&&o.default(oe).removeClass(w),I.getAttribute("role")==="tab"&&I.setAttribute("aria-selected",!1)}o.default(_).addClass(w),_.getAttribute("role")==="tab"&&_.setAttribute("aria-selected",!0),d.reflow(_),_.classList.contains(S)&&_.classList.add(D);var re=_.parentNode;if(re&&re.nodeName==="LI"&&(re=re.parentNode),re&&o.default(re).hasClass("dropdown-menu")){var Le=o.default(_).closest(".dropdown")[0];if(Le){var Ye=[].slice.call(Le.querySelectorAll(".dropdown-toggle"));o.default(Ye).addClass(w)}_.setAttribute("aria-expanded",!0)}V&&V()},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this),V=I.data(p);if(V||(V=new P(this),I.data(p,V)),typeof _=="string"){if(typeof V[_]>"u")throw new TypeError('No method named "'+_+'"');V[_]()}})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),P}();o.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(P){P.preventDefault(),he._jQueryInterface.call(o.default(this),"show")}),o.default.fn.tab=he._jQueryInterface,o.default.fn.tab.Constructor=he,o.default.fn.tab.noConflict=function(){return o.default.fn.tab=v,he._jQueryInterface};var se="bs.toast",Ee=o.default.fn.toast,Ue="hide",Ve="show",Ne="showing",at="click.dismiss.bs.toast",Tt={animation:!0,autohide:!0,delay:500},Zt={animation:"boolean",autohide:"boolean",delay:"number"},Yt=function(){function P(_,I){this._element=_,this._config=this._getConfig(I),this._timeout=null,this._setListeners()}var B=P.prototype;return B.show=function(){var _=this,I=o.default.Event("show.bs.toast");if(o.default(this._element).trigger(I),!I.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var V=function(){_._element.classList.remove(Ne),_._element.classList.add(Ve),o.default(_._element).trigger("shown.bs.toast"),_._config.autohide&&(_._timeout=setTimeout(function(){_.hide()},_._config.delay))};if(this._element.classList.remove(Ue),d.reflow(this._element),this._element.classList.add(Ne),this._config.animation){var oe=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,V).emulateTransitionEnd(oe)}else V()}},B.hide=function(){if(this._element.classList.contains(Ve)){var _=o.default.Event("hide.bs.toast");o.default(this._element).trigger(_),_.isDefaultPrevented()||this._close()}},B.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ve)&&this._element.classList.remove(Ve),o.default(this._element).off(at),o.default.removeData(this._element,se),this._element=null,this._config=null},B._getConfig=function(_){return _=l({},Tt,o.default(this._element).data(),typeof _=="object"&&_?_:{}),d.typeCheckConfig("toast",_,this.constructor.DefaultType),_},B._setListeners=function(){var _=this;o.default(this._element).on(at,'[data-dismiss="toast"]',function(){return _.hide()})},B._close=function(){var _=this,I=function(){_._element.classList.add(Ue),o.default(_._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(Ve),this._config.animation){var V=d.getTransitionDurationFromElement(this._element);o.default(this._element).one(d.TRANSITION_END,I).emulateTransitionEnd(V)}else I()},B._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},P._jQueryInterface=function(_){return this.each(function(){var I=o.default(this),V=I.data(se);if(V||(V=new P(this,typeof _=="object"&&_),I.data(se,V)),typeof _=="string"){if(typeof V[_]>"u")throw new TypeError('No method named "'+_+'"');V[_](this)}})},a(P,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Zt}},{key:"Default",get:function(){return Tt}}]),P}();o.default.fn.toast=Yt._jQueryInterface,o.default.fn.toast.Constructor=Yt,o.default.fn.toast.noConflict=function(){return o.default.fn.toast=Ee,Yt._jQueryInterface},n.Alert=x,n.Button=Z,n.Carousel=G,n.Collapse=qe,n.Dropdown=Vr,n.Modal=ar,n.Popover=Bs,n.Scrollspy=Li,n.Tab=he,n.Toast=Yt,n.Tooltip=ls,n.Util=d,Object.defineProperty(n,"__esModule",{value:!0})})})(hA,hA.exports);const M2=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},S6={},E6={class:"jumbotron jumbotron-fluid text-center fullwidth"},A6=g2('<div class="container-fluid d-flex flex-column col-xl-6 col-sm-12"><h1>Clounaq - Cloud-native architectural quality</h1><p>This web-based application represents the tooling support for the Clounaq approach. The overall goal is to enable quality evaluations for software architectures of cloud-native application based on a quality model. With this application you can:</p><ul class="feature-list"><li>View the Quality model</li><li>Create models of software architectures</li><li>Evaluate applications based on their modeled architecture and the quality model</li></ul><p> The tool is <span class="font-weight-bold">still in development</span> (source code at: <a href="https://github.com/r0light/cna-quality-tool">https://github.com/r0light/cna-quality-tool</a>), but you can already give it a try. Please use a desktop pc or similar with a suitable screen size. The application, especially the modeling functionality, is not optimized for mobile devices. </p></div>',1),k6=[A6];function I6(e,t){return He(),Ke("div",E6,k6)}const P6=M2(S6,[["render",I6]]),O6={},L6={class:"p-5 d-flex flex-column"},D6=g2('<h4>Imprint</h4><p> Robin Lichtenthäler <br> An der Weberei 5 <br> 96047 Bamberg <br> Email: <a href="mailto:robin.lichtenthaeler@uni-bamberg.de">robin.lichtenthaeler@uni-bamberg.de</a></p><h4>Datenschutzerklärung</h4><p> clounaq.de nimmt den Schutz Ihrer persönlichen Daten sehr ernst. Wir selbst erfassen oder speichern keinerlei persönliche Daten. Allerdings wird diese Seite auf Servern Dritter gehostet. <br> Unser Hoster erhebt in sog. Logfiles folgende Daten, die Ihr Browser übermittelt: <br> IP-Adresse, die Adresse der vorher besuchten Website (Referer Anfrage-Header), Datum und Uhrzeit der Anfrage, Zeitzonendifferenz zur Greenwich Mean Time, Inhalt der Anforderung, HTTP-Statuscode, übertragene Datenmenge, Website, von der die Anforderung kommt und Informationen zu Browser und Betriebssystem. <br> Das ist erforderlich, um unsere Website anzuzeigen und die Stabilität und Sicherheit zu gewährleisten. Dies entspricht unserem berechtigten Interesse im Sinne des Art. 6 Abs. 1 S. 1 lit. f DSGVO. <br> Es erfolgt kein Tracking und wir haben auf diese Daten keinen direkten Zugriff, sondern erhalten lediglich eine anonymisierte, statistische Zusammenfassung. Diese beinhaltet die Adresse der vorher besuchten Seite, die Häufigkeit der jeweils aufgerufenen Seiten und die Anzahl eindeutiger Besucher. Diese Daten führen wir nicht mit anderen Daten zusammen. <br> Wir setzen für die Zurverfügungstellung unserer Website folgenden Hoster ein: <br><br> GitHub Inc.<br> 88 Colin P Kelly Jr St<br> San Francisco, CA 94107<br> United States <br><br> Dieser ist Empfänger Ihrer personenbezogenen Daten. Dies entspricht unserem berechtigten Interesse im Sinne des Art. 6 Abs. 1 S. 1 lit. f DSGVO, selbst keinen Server in unseren Räumlichkeiten vorhalten zu müssen. Serverstandort ist USA. <br> Weitere Informationen zu Widerspruchs- und Beseitigungsmöglichkeiten gegenüber GitHub finden Sie unter: <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement#github-pages">https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement#github-pages</a><br> Sie haben das Recht der Verarbeitung zu widersprechen. Ob der Widerspruch erfolgreich ist, ist im Rahmen einer Interessenabwägung zu ermitteln. <br> Die Daten werden gelöscht, sobald der Zweck der Verarbeitung entfällt. <br> Die Verarbeitung der unter diesem Abschnitt angegebenen Daten ist weder gesetzlich noch vertraglich vorgeschrieben. Die Funktionsfähigkeit der Website ist ohne die Verarbeitung nicht gewährleistet. <br> GitHub hat Compliance-Maßnahmen für internationale Datenübermittlungen umgesetzt. Diese gelten für alle weltweiten Aktivitäten, bei denen GitHub personenbezogene Daten von natürlichen Personen in der EU verarbeitet. Diese Maßnahmen basieren auf den EU-Standardvertragsklauseln (SCCs). Weitere Informationen finden Sie unter: <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-data-protection-addendum#attachment-1-the-standard-contractual-clauses-processors">https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-data-protection-addendum#attachment-1-the-standard-contractual-clauses-processors</a><br> Dies setzt immer voraus, dass die jeweiligen Anbieter die IP-Adresse der Nutzer wahr nehmen. Denn ohne die IP-Adresse könnten sie Inhalte nicht an den Browser des jeweiligen Nutzers senden. Die IP-Adresse ist für die Darstellung der Inhalte erforderlich. Wir haben leider keinen Einfluss darauf, falls die Dritt-Anbieter die IP-Adresse z.B. für statistische Zwecke speichern. Soweit uns dieses bekannt ist, klären wir die Nutzer darüber auf.</p>',4),N6=[D6];function M6(e,t){return He(),Ke("div",L6,N6)}const F6=M2(O6,[["render",M6]]),{round:R6,floor:B6,PI:F2}=Math,$6={linear:function(e,t,n){var i=e[1]-e[0],r=t[1]-t[0];return(n-e[0])/i*r+t[0]||0}},Es=function(e){return e%360+(e<0?360:0)},Cu=function(e,t){return t*R6(e/t)},f0=function(e){return 180*e/F2%360},ao=function(e,t){return t=t||!1,e=t?e:e%360,e*F2/180},lw=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return B6(Math.random()*(t-e+1)+e)},{cos:sy,sin:ox,atan2:q6}=Math,R2=function(e,t){var n=ao(e.y),i=ao(t.y),r=e.x,o=t.x,s=ao(o-r),a=ox(s)*sy(i),l=sy(n)*ox(i)-ox(n)*sy(i)*sy(s),u=f0(q6(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],d=u-22.5;return d<0&&(d+=360),d=parseInt(d/45),f[d]},S1=function(e,t){var n=e.x,i=e.y,r=t.x,o=t.y;return(n-=r)*n+(i-=o)*i},B2=function(e,t){return Math.sqrt(S1(e,t))},an={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:hv,cos:cw,sin:uw,sqrt:fA,min:pA,max:gA,atan2:z6,round:mA,pow:U6,PI:yA}=Math,ge=function(e,t){if(!(this instanceof ge))return new ge(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ge.fromPolar=function(e,t,n){n=new ge(n);var i=hv(e*cw(t)),r=hv(e*uw(t)),o=Es(f0(t));return o<90?r=-r:o<180?(i=-i,r=-r):o<270&&(i=-i),new ge(n.x+i,n.y+r)};ge.random=function(e,t,n,i){return new ge(lw(e,t),lw(n,i))};ge.prototype={type:an.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ge(e[0]);for(var n=null,i=1/0,r=0;r<t;r++){var o=new ge(e[r]),s=this.squaredDistance(o);s<i&&(n=o,i=s)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=pA(gA(this.x,e.x),e.x+e.width),this.y=pA(gA(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return R2(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new ge(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ge(this.x-(e||0),this.y-(t||0))},distance:function(e){return B2(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,i=this.y;return new ge((1-t)*n+t*e.x,(1-t)*i+t*e.y)},magnitude:function(){return fA(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return hv(e.x-this.x)+hv(e.y-this.y)},move:function(e,t){var n=ao(new ge(e).theta(this)),i=this.offset(cw(n)*t,-uw(n)*t);return i},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ge(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ge(0,0),t=ao(Es(-t));var n=cw(t),i=uw(t),r=n*(this.x-e.x)-i*(this.y-e.y)+e.x,o=i*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=r,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=U6(10,e);break}return this.x=mA(this.x*t)/t,this.y=mA(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new ge(n)||new ge(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Cu(this.x,e),this.y=Cu(this.y,t||e),this},squaredDistance:function(e){return S1(this,e)},theta:function(e){e=new ge(e);var t=-(e.y-this.y),n=e.x-this.x,i=z6(t,n);return i<0&&(i=2*yA+i),180*i/yA},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ge(e)||new ge(0,0);var t=this.x,n=this.y;return this.x=fA((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=ao(e.theta(new ge(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ge(0,0);return t.angleBetween(this,e)}};ge.prototype.translate=ge.prototype.offset;const fv=ge,{max:sx,min:ax}=Math,_t=function(e,t){if(!(this instanceof _t))return new _t(e,t);if(e instanceof _t)return new _t(e.start,e.end);this.start=new ge(e),this.end=new ge(t)};_t.prototype={type:an.Line,angle:function(){var e=new ge(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=ax(this.start.x,this.end.x),t=ax(this.start.y,this.end.y),n=sx(this.start.x,this.end.x),i=sx(this.start.y,this.end.y);return new pt(e,t,n-e,i-t)},bearing:function(){return R2(this.start,this.end)},clone:function(){return new _t(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new _t(this.start,e).vector()),n=ax(1,sx(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var i=this.length();return!(new _t(t,e).length()>i||new _t(e,n).length()>i)},divideAt:function(e){var t=this.pointAt(e);return[new _t(this.start,t),new _t(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new _t(this.start,t),new _t(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof _t&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new ge(this.end.x-this.start.x,this.end.y-this.start.y),n=new ge(e.end.x-e.start.x,e.end.y-e.start.y),i=t.x*n.y-t.y*n.x,r=new ge(e.start.x-this.start.x,e.start.y-this.start.y),o=r.x*n.y-r.y*n.x,s=r.x*t.y-r.y*t.x;if(i===0||o*i<0||s*i<0)return null;if(i>0){if(o>i||s>i)return null}else if(o<i||s<i)return null;return[new ge(this.start.x+o*t.x/i,this.start.y+o*t.y/i)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return B2(this.start,this.end)},midpoint:function(){return new ge((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:i}=t,r=n.clone().rotate(i,270),o=i.clone().rotate(n,90);return n.move(o,e),i.move(r,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,i=!0;e<0&&(i=!1,e=-e);var r=this.length();return e>=r?i?n.clone():t.clone():this.pointAt((i?e:r-e)/r)},pointOffset:function(e){e=new ge(e);var t=this.start,n=this.end,i=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return i/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return S1(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,i=this.pointAt(e),r=new _t(t,n);return r.translate(i.x-t.x,i.y-t.y),r},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,i=this.pointAtLength(e),r=new _t(t,n);return r.translate(i.x-t.x,i.y-t.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ge(this.end.x-this.start.x,this.end.y-this.start.y)}};_t.prototype.intersection=_t.prototype.intersect;const mu=_t,{sqrt:vA,round:ay,pow:H6}=Math,Dr=function(e,t,n){if(!(this instanceof Dr))return new Dr(e,t,n);if(e instanceof Dr)return new Dr(new ge(e.x,e.y),e.a,e.b);e=new ge(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};Dr.fromRect=function(e){return e=new pt(e),new Dr(e.center(),e.width/2,e.height/2)};Dr.prototype={type:an.Ellipse,bbox:function(){return new pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ge(this.x,this.y)},clone:function(){return new Dr(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,i=e.end,r=this.a,o=this.b,s=e.vector(),a=n.difference(new ge(this)),l=new ge(s.x/(r*r),s.y/(o*o)),u=new ge(a.x/(r*r),a.y/(o*o)),f=s.dot(l),d=s.dot(u),m=a.dot(u)-1,b=d*d-f*m;if(b<0)return null;if(b>0){var x=vA(b),C=(-d-x)/f,k=(-d+x)/f;if((C<0||1<C)&&(k<0||1<k))return null;0<=C&&C<=1&&t.push(n.lerp(i,C)),0<=k&&k<=1&&t.push(n.lerp(i,k))}else{var T=-d/f;if(0<=T&&T<=1)t.push(n.lerp(i,T));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ge(e),t&&e.rotate(new ge(this.x,this.y),t);var n=e.x-this.x,i=e.y-this.y,r;if(n===0)return r=this.bbox().pointNearestToPoint(e),t?r.rotate(new ge(this.x,this.y),-t):r;var o=i/n,s=o*o,a=this.a*this.a,l=this.b*this.b,u=vA(1/(1/a+s/l));u=n<0?-u:u;var f=o*u;return r=new ge(this.x+u,this.y+f),t?r.rotate(new ge(this.x,this.y),-t):r},normalizedDistance:function(e){var t=e.x,n=e.y,i=this.a,r=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(i*i)+(n-s)*(n-s)/(r*r)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=H6(10,e);break}return this.x=ay(this.x*t)/t,this.y=ay(this.y*t)/t,this.a=ay(this.a*t)/t,this.b=ay(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,i=e.y,r=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,u=n>s.x+r/2,f=n<s.x-r/2,d,m;return u||f?(d=n>s.x?i-t:i+t,m=r*r/(n-a)-r*r*(i-l)*(d-l)/(o*o*(n-a))+a):(m=i>s.y?n+t:n-t,d=o*o/(i-l)-o*o*(n-a)*(m-a)/(r*r*(i-l))+l),new ge(m,d).theta(e)},toString:function(){return new ge(this.x,this.y).toString()+" "+this.a+" "+this.b}};const V6=Dr,{abs:bA,cos:G6,sin:W6,min:Sf,max:_A,round:ly,pow:j6}=Math,pt=function(e,t,n,i){if(!(this instanceof pt))return new pt(e,t,n,i);Object(e)===e&&(t=e.y,n=e.width,i=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=i===void 0?0:i};pt.fromEllipse=function(e){return e=new Dr(e),new pt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};pt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ge;let n,i,r,o;n=i=1/0,r=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y;a<n&&(n=a),a>r&&(r=a),l<i&&(i=l),l>o&&(o=l)}return new pt(n,i,r-n,o-i)};pt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new pt;let n,i,r,o;n=i=1/0,r=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y,u=a+t.width,f=l+t.height;a<n&&(n=a),u>r&&(r=u),l<i&&(i=l),f>o&&(o=f)}return new pt(n,i,r-n,o-i)};pt.prototype={type:an.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,i=ao(e),r=bA(W6(i)),o=bA(G6(i)),s=t*o+n*r,a=t*r+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new ge(this.x,this.y+this.height)},bottomLine:function(){return new _t(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ge(this.x+this.width/2,this.y+this.height)},center:function(){return new ge(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new pt(this)},containsPoint:function(e){return e instanceof ge||(e=new ge(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new pt(this).normalize(),n=new pt(e).normalize(),i=t.width,r=t.height,o=n.width,s=n.height;if(!i||!r||!o||!s)return!1;var a=t.x,l=t.y,u=n.x,f=n.y;return o+=u,i+=a,s+=f,r+=l,a<=u&&o<=i&&l<=f&&s<=r},corner:function(){return new ge(this.x+this.width,this.y+this.height)},equals:function(e){var t=new pt(this).normalize(),n=new pt(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),i=e.origin(),r=e.corner();if(r.x<=t.x||r.y<=t.y||i.x>=n.x||i.y>=n.y)return null;var o=_A(t.x,i.x),s=_A(t.y,i.y);return new pt(o,s,Sf(n.x,r.x)-o,Sf(n.y,r.y)-s)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],i=[],r=[],o,s,a=n.length;for(s=0;s<a;s++)o=e.intersect(n[s]),o!==null&&r.indexOf(o.toString())<0&&(i.push(o),r.push(o.toString()));return i.length>0?i:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ge(e);var n=new ge(this.x+this.width/2,this.y+this.height/2),i;t&&e.rotate(n,t);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new _t(n,e),s=r.length-1;s>=0;--s){var a=r[s].intersection(o);if(a!==null){i=a;break}}return i&&t&&i.rotate(n,-t),i},leftLine:function(){return new _t(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ge(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new pt(e),t||(t=e.center());var n,i,r,o,s,a,l,u,f=t.x,d=t.y;n=i=r=o=s=a=l=u=1/0;var m=e.topLeft();m.x<f&&(n=(this.x-f)/(m.x-f)),m.y<d&&(s=(this.y-d)/(m.y-d));var b=e.bottomRight();b.x>f&&(i=(this.x+this.width-f)/(b.x-f)),b.y>d&&(a=(this.y+this.height-d)/(b.y-d));var x=e.topRight();x.x>f&&(r=(this.x+this.width-f)/(x.x-f)),x.y<d&&(l=(this.y-d)/(x.y-d));var C=e.bottomLeft();return C.x<f&&(o=(this.x-f)/(C.x-f)),C.y>d&&(u=(this.y+this.height-d)/(C.y-d)),{sx:Sf(n,i,r,o),sy:Sf(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return Sf(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,i=-this.height),this.x=e,this.y=t,this.width=n,this.height=i,this},offset:function(e,t){return ge.prototype.offset.call(this,e,t)},origin:function(){return new ge(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ge(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ge(this.x+this.width,e.y);case"left":return new ge(this.x,e.y);case"bottom":return new ge(e.x,this.y+this.height);case"top":return new ge(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new _t(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ge(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=j6(10,e);break}return this.x=ly(this.x*t)/t,this.y=ly(this.y*t)/t,this.width=ly(this.width*t)/t,this.height=ly(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ge(e);var t=e.x-this.x,n=this.x+this.width-e.x,i=e.y-this.y,r=this.y+this.height-e.y,o=t,s="left";return n<o&&(o=n,s="right"),i<o&&(o=i,s="top"),r<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),i=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new _t(this.topLeft(),this.topRight())},topMiddle:function(){return new ge(this.x+this.width/2,this.y)},topRight:function(){return new ge(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return pt.fromRectUnion(this,e)},update:function(e,t,n,i){return Object(e)===e&&(t=e.y,n=e.width,i=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0,this}};pt.prototype.bottomRight=pt.prototype.corner;pt.prototype.topLeft=pt.prototype.origin;pt.prototype.translate=pt.prototype.offset;const K6=pt;function $2(e){const t=e.trim();if(t==="")return[];const n=[],i=t.split(/\b\s*,\s*|,\s*|\s+/),r=i.length;for(let o=0;o<r;o+=2)n.push({x:+i[o],y:+i[o+1]});return n}function q2(e){const t=e.length;if(t===0)return[];const n=[];for(let i=0;i<t;i++){const r=e[i].clone();n.push(r)}return n}function z2(e){const{abs:t}=Math;var n,i,r=e.length;if(r===0)return[];var o;for(n=0;n<r;n++)(o===void 0||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<r;n++){var a=o.theta(e[n]);a===0&&(a=360);var l=[e[n],n,a];s.push(l)}if(s.sort(function(ce,pe){var ae=ce[2]-pe[2];return ae===0&&(ae=pe[1]-ce[1]),ae}),s.length>2){var u=s[s.length-1];s.unshift(u)}for(var f={},d=[],m,b,x,C,k,T;s.length!==0;)if(m=s.pop(),b=m[0],!f.hasOwnProperty(m[0]+"@@"+m[1]))for(var A=!1;!A;)if(d.length<2)d.push(m),A=!0;else{x=d.pop(),C=x[0],k=d.pop(),T=k[0];var R=T.cross(C,b);if(R<0)d.push(k),d.push(x),d.push(m),A=!0;else if(R===0){var F=1e-10,Z=C.angleBetween(T,b);t(Z-180)<F||C.equals(b)||T.equals(C)?(f[x[0]+"@@"+x[1]]=C,d.push(k)):t((Z+1)%360-1)<F&&(d.push(k),s.push(x))}else f[x[0]+"@@"+x[1]]=C,d.push(k)}d.length>2&&d.pop();var ee,g=-1;for(i=d.length,n=0;n<i;n++){var L=d[n][1];(ee===void 0||L<ee)&&(ee=L,g=n)}var M=[];if(g>0){var z=d.slice(g),Q=d.slice(0,g);M=z.concat(Q)}else M=d;var de=[];for(i=M.length,n=0;n<i;n++)de.push(M[n][0]);return de}const ri=function(e){if(!(this instanceof ri))return new ri(e);if(typeof e=="string")return new ri.parse(e);this.points=Array.isArray(e)?e.map(ge):[]};ri.parse=function(e){return new ri($2(e))};ri.fromRect=function(e){return new ri([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};ri.prototype={type:an.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,i=-1/0,r=this.points,o=r.length;if(o===0)return null;for(var s=0;s<o;s++){var a=r[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<n&&(n=u),u>i&&(i=u)}return new pt(e,n,t-e,i-n)},clone:function(){return new ri(q2(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var i,r=1/0,o=0,s=n-1,a=0;a<s;a++){var l=new _t(t[a],t[a+1]),u=l.length(),f=l.closestPointNormalizedLength(e),d=l.pointAt(f),m=d.squaredDistance(e);m<r&&(r=m,i=o+f*u),o+=u}return i},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var i=e.x,r=e.y,o=n-1,s=0,a=0,l=new _t,u=new _t,f=new ge;s<n;s++){var d=t[o],m=t[s];if(e.equals(d)||(l.start=d,l.end=m,l.containsPoint(e)))return!0;if(r<=d.y&&r>m.y||r>d.y&&r<=m.y){var b=d.x-i>m.x-i?d.x-i:m.x-i;b>=0&&(f.x=i+b,f.y=r,u.start=e,u.end=f,l.intersect(u)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new ri(z2(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,i=t.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var o=t[r],s=e.points[r];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new _t(e),n=[],i=this.lengthPoints(),r=new _t,o=0,s=i.length-1;o<s;o++){r.start=i[o],r.end=i[o+1];var a=t.intersectionWithLine(r);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new _t,i=t-1,r=0;r<i;r++)if(n.start=e[r],n.end=e[r+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,i=t-1,r=0;r<i;r++)n+=e[r].distance(e[r+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var i=this.length(),r=i*e;return this.pointAtLength(r)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var i=!0;e<0&&(i=!1,e=-e);for(var r=0,o=n-1,s=0;s<o;s++){var a=i?s:o-1-s,l=t[a],u=t[a+1],f=new _t(l,u),d=l.distance(u);if(e<=r+d)return f.pointAtLength((i?1:-1)*(e-r));r+=d}var m=i?t[n-1]:t[0];return m.clone()},round:function(e){for(var t=this.points,n=t.length,i=0;i<n;i++)t[i].round(e);return this},scale:function(e,t,n){for(var i=this.points,r=i.length,o=0;o<r;o++)i[o].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let i=0;for(;t[i+2];){const r=i,o=i+1,s=i+2,a=t[r],l=t[o],u=t[s];new _t(a,u).closestPoint(l).distance(l)<=n?t.splice(o,1):i+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var i=this.length(),r=i*e;return this.tangentAtLength(r)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var i=!0;e<0&&(i=!1,e=-e);for(var r,o=0,s=n-1,a=0;a<s;a++){var l=i?a:s-1-a,u=t[l],f=t[l+1],d=new _t(u,f),m=u.distance(f);if(d.isDifferentiable()){if(e<=o+m)return d.tangentAtLength((i?1:-1)*(e-o));r=d}o+=m}if(r){var b=i?1:0;return r.tangentAt(b)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,i=n.length,r=0;r<i;r++)n[r].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",i=0;i<t;i++){var r=e[i];n+=r.x+","+r.y+" "}return n.trim()}};Object.defineProperty(ri.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(ri.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:cy,sqrt:Y6,min:xA,max:wA,pow:lx}=Math,zn=function(e,t,n,i){if(!(this instanceof zn))return new zn(e,t,n,i);if(e instanceof zn)return new zn(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ge(e),this.controlPoint1=new ge(t),this.controlPoint2=new ge(n),this.end=new ge(i)};zn.throughPoints=function(){function e(n){var i=[],r=[],o=n.length-1,s;if(o==1)return i[0]=new ge((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),r[0]=new ge(2*i[0].x-n[0].x,2*i[0].y-n[0].y),[i,r];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var u=t(a);for(s=0;s<o;s++)i.push(new ge(l[s],u[s])),s<o-1?r.push(new ge(2*n[s+1].x-l[s+1],2*n[s+1].y-u[s+1])):r.push(new ge((n[o].x+l[o-1])/2,(n[o].y+u[o-1])/2));return[i,r]}function t(n){var i=n.length,r=[],o=[],s=2;r[0]=n[0]/s;for(var a=1;a<i;a++)o[a]=1/s,s=(a<i-1?4:3.5)-o[a],r[a]=(n[a]-r[a-1])/s;for(a=1;a<i;a++)r[i-a-1]-=o[i-a]*r[i-a];return r}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var i=e(n),r=[],o=i[0].length,s=0;s<o;s++){var a=new ge(i[0][s].x,i[0][s].y),l=new ge(i[1][s].x,i[1][s].y);r.push(new zn(n[s],a,l,n[s+1]))}return r}}();zn.prototype={type:an.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end,r=e.x,o=e.y,s=t.x,a=t.y,l=n.x,u=n.y,f=i.x,d=i.y,m=new Array,b=new Array,x=[new Array,new Array],C,k,T,A,R,F,Z,ee,g=0;g<2;++g){if(g===0?(k=6*r-12*s+6*l,C=-3*r+9*s-9*l+3*f,T=3*s-3*r):(k=6*o-12*a+6*u,C=-3*o+9*a-9*u+3*d,T=3*a-3*o),cy(C)<1e-12){if(cy(k)<1e-12)continue;A=-T/k,0<A&&A<1&&b.push(A);continue}Z=k*k-4*T*C,ee=Y6(Z),!(Z<0)&&(R=(-k+ee)/(2*C),0<R&&R<1&&b.push(R),F=(-k-ee)/(2*C),0<F&&F<1&&b.push(F))}for(var L=b.length,M=L,z,Q,de;L--;)A=b[L],z=1-A,Q=z*z*z*r+3*z*z*A*s+3*z*A*A*l+A*A*A*f,x[0][L]=Q,de=z*z*z*o+3*z*z*A*a+3*z*A*A*u+A*A*A*d,x[1][L]=de,m[L]={X:Q,Y:de};b[M]=0,b[M+1]=1,m[M]={X:r,Y:o},m[M+1]={X:f,Y:d},x[0][M]=r,x[1][M]=o,x[0][M+1]=f,x[1][M+1]=d,b.length=M+2,x[0].length=M+2,x[1].length=M+2,m.length=M+2;var ce=xA.apply(null,x[0]),pe=xA.apply(null,x[1]),ae=wA.apply(null,x[0]),q=wA.apply(null,x[1]);return new pt(ce,pe,ae-ce,q-pe)},clone:function(){return new zn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i};return this.lengthAtT(this.closestPointT(e,r),r)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i},o=this.closestPointLength(e,r);if(!o)return 0;var s=this.length(r);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r,o,s,a,l,u,f,d=i.length,m=d?1/d:0,b=0;b<d;b++){var x=i[b],C=x.start.distance(e),k=x.end.distance(e),T=C+k;(!f||T<f)&&(r=x,o=b*m,s=(b+1)*m,a=C,l=k,u=x.start.distance(x.end),f=T)}for(var A=lx(10,-n);;){var R=a?cy(a-l)/a:0,F=l?cy(a-l)/l:0,Z=R<A||F<A,ee=a?a<u*A:!0,g=l?l<u*A:!0,L=ee||g;if(Z||L)return a<=l?o:s;var M=r.divide(.5);m/=2;var z=M[0].start.distance(e),Q=M[0].end.distance(e),de=z+Q,ce=M[1].start.distance(e),pe=M[1].end.distance(e),ae=ce+pe;de<=ae?(r=M[0],s-=m,a=z,l=Q):(r=M[1],o+=m,a=ce,l=pe)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(e<=0)return[new zn(t,t,t,t),new zn(t,n,i,r)];if(e>=1)return[new zn(t,n,i,r),new zn(r,r,r,r)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new zn(t,s,a,l),new zn(l,u,f,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var o=new _t(t,n).pointAt(e),s=new _t(n,i).pointAt(e),a=new _t(i,r).pointAt(e),l=new _t(o,s).pointAt(e),u=new _t(s,a).pointAt(e),f=new _t(l,u).pointAt(e),d={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:a};return d},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,i=this.controlPoint1,r=this.controlPoint2,o=this.end,s=[new zn(n,i,r,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),u=lx(10,-t),f=2,d=i.cross(n,o)===0&&r.cross(n,o)===0;d&&(f=2*t);for(var m=0;;){m+=1;for(var b=[],x=s.length,C=0;C<x;C++){var k=s[C],T=k.divide(.5);b.push(T[0],T[1])}for(var A=0,R=b.length,F=0;F<R;F++){var Z=b[F];A+=Z.endpointDistance()}if(m>=f){var ee=A!==0?(A-l)/A:0;if(ee<u)return b}s=b,l=A}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(i))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,i=0,r=n.length,o=0;o<r;o++){var s=n[o];i+=s.endpointDistance()}return i},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=this.divide(e)[0],r=i.length({precision:n});return r},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.dividerControlPoint1,r=t.divider,o=new _t(n,i);return o.translate(r.x-n.x,r.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i},o=this.length(r),s=o*e;return this.tAtLength(s,r)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:i}):t.subdivisions,o={precision:i,subdivisions:r},s,a,l,u,f,d=0,m=r.length,b=1/m,x=0;x<m;x++){var C=n?x:m-1-x,k=r[x],T=k.endpointDistance();if(e<=d+T){s=k,a=C*b,l=(C+1)*b,u=n?e-d:T+d-e,f=n?T+d-e:e-d;break}d+=T}if(!s)return n?1:0;for(var A=this.length(o),R=lx(10,-i);;){var F;if(F=A!==0?u/A:0,F<R)return a;if(F=A!==0?f/A:0,F<R)return l;var Z,ee,g=s.divide(.5);b/=2;var L=g[0].endpointDistance(),M=g[1].endpointDistance();u<=L?(s=g[0],l-=b,Z=u,ee=L-Z):(s=g[1],a+=b,Z=u-L,ee=M-Z),u=Z,f=ee}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,i=[n[0].start.clone()],r=n.length,o=0;o<r;o++){var s=n[o];i.push(s.end.clone())}return i},toPolyline:function(e){return new ri(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};zn.prototype.divide=zn.prototype.divideAtT;function Xg(e){var t,n,i=[];for(n=arguments.length,t=1;t<n;t++)i.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var r=Object.create(e);for(n=i.length,t=0;t<n;t++){var o=i[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete r[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(r,a,s))}return r}const Dt=function(e){if(!(this instanceof Dt))return new Dt(e);if(typeof e=="string")return new Dt.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var i=e[t];this.appendSegment(i)}else{var r=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof _t||o instanceof zn))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Dt.createSegment("M",o.start)),r&&!r.end.equals(o.start)&&this.appendSegment(Dt.createSegment("M",o.start)),o instanceof _t?this.appendSegment(Dt.createSegment("L",o.end)):o instanceof zn&&this.appendSegment(Dt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),r=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof _t)this.appendSegment(Dt.createSegment("M",e.start)),this.appendSegment(Dt.createSegment("L",e.end));else if(e instanceof zn)this.appendSegment(Dt.createSegment("M",e.start)),this.appendSegment(Dt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof ri){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var s=e.points[t];t===0?this.appendSegment(Dt.createSegment("M",s)):this.appendSegment(Dt.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};Dt.parse=function(e){if(!e)return new Dt;for(var t=new Dt,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,i=e.match(n),r=i.length,o=0;o<r;o++){var s=i[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),u=Dt.createSegment.apply(this,l);t.appendSegment(u)}return t};Dt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Dt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],i=arguments.length,r=1;r<i;r++)n.push(arguments[r]);return oa(t,n)};Dt.prototype={type:an.Path,appendSegment:function(e){var t=this.segments,n=t.length,i,r=n!==0?t[n-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];i=this.prepareSegment(l,r,o),t.push(i),r=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,r,o),t.push(i)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,i=0;i<t;i++){var r=e[i];if(r.isVisible){var o=r.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new pt(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new Dt,i=0;i<t;i++){var r=e[i].clone();n.appendSegment(r)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},o=this.closestPointT(e,r);return o?this.lengthAtT(o,r):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},o=this.closestPointLength(e,r);if(o===0)return 0;var s=this.length(r);return s===0?0:o/s},closestPointT:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s,a=1/0,l=0;l<i;l++){var u=n[l],f=o[l];if(u.isVisible){var d=u.closestPointT(e,{precision:r,subdivisions:f}),m=u.pointAtT(d),b=new _t(m,e).squaredLength();b<a&&(s={segmentIndex:l,value:d},a=b)}}return s||{segmentIndex:i-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s,a=1/0,l=0;l<i;l++){var u=n[l],f=o[l];if(u.isDifferentiable()){var d=u.closestPointT(e,{precision:r,subdivisions:f}),m=u.pointAtT(d),b=new _t(m,e).squaredLength();b<a&&(s=u.tangentAtT(d),a=b)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var i=n.length,r=0,o=0;o<i;o++){var s=n[o];s.containsPoint(e)&&r++}return r%2===1},divideAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s,a,l=0,u,f,d,m,b;for(s=0;s<n;s++){var x=i?s:n-1-s;a=this.getSegment(x);var C=o[x],k=a.length({precision:r,subdivisions:C});if(a.isDifferentiable()&&(d=a,m=x,e<=l+k)){f=x,u=a.divideAtLength((i?1:-1)*(e-l),{precision:r,subdivisions:C});break}l+=k}if(!d)return null;u||(f=m,b=i?1:0,u=d.divideAtT(b));var T=this.clone();T.replaceSegment(f,u);var A=f,R=f+1,F=f+2;u[0].isDifferentiable()||(T.removeSegment(A),R-=1,F-=1);var Z=T.getSegment(R).start;T.insertSegment(R,Dt.createSegment("M",Z)),F+=1,u[1].isDifferentiable()||(T.removeSegment(F-1),F-=1);var ee=F-A-1;for(s=F;s<T.segments.length;s++){var g=this.getSegment(s-ee);if(a=T.getSegment(s),a.type==="Z"&&!g.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var L=Dt.createSegment("L",g.end);T.replaceSegment(s,L)}}var M=new Dt(T.segments.slice(0,R)),z=new Dt(T.segments.slice(R));return[M,z]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,i=t.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var o=t[r],s=n[r];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=[],o=0;o<n;o++){var s=t[o],a=s.getSubdivisions({precision:i});r.push(a)}return r},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,i=[];for(let r=0;r<n;r++){const o=t[r];o.isSubpathStart?i.push(new Dt(o)):i[i.length-1].appendSegment(o)}return i},insertSegment:function(e,t){var n=this.segments,i=n.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");var r,o=null,s=null;if(i!==0&&(e>=1?(o=n[e-1],s=o.nextSegment):s=n[0]),Array.isArray(t)){if(t=t.reduce(function(f,d){return f.concat(d)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var u=t[l];r=this.prepareSegment(u,o,s),n.splice(e+l,0,r),o=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,o,s),n.splice(e,0,r)}},intersectionWithLine:function(e,t){var n=null,i=this.toPolylines(t);if(!i)return null;for(var r=0,o=i.length;r<o;r++){var s=i[r],a=e.intersect(s);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var i=e[n];if(i.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o=0,s=0;s<n;s++){var a=t[s],l=r[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var n=this.segments,i=n.length;if(i===0)return 0;var r=e.segmentIndex;if(r<0)return 0;var o=e.value;r>=i?(r=i-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,u=0,f=0;f<r;f++){var d=n[f];l=a[f],u+=d.length({precisison:s,subdivisions:l})}return d=n[r],l=a[r],u+=d.lengthAtT(o,{precisison:s,subdivisions:l}),u},pointAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;if(e===0)return this.start.clone();var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<i;u++){var f=r?u:i-1-u,d=n[f],m=s[f],b=d.length({precision:o,subdivisions:m});if(d.isVisible){if(e<=l+b)return d.pointAtLength((r?1:-1)*(e-l),{precision:o,subdivisions:m});a=d}l+=b}if(a)return r?a.end:a.start;var x=n[i-1];return x.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var i=e.segmentIndex;if(i<0)return t[0].pointAtT(0);if(i>=n)return t[n-1].pointAtT(1);var r=e.value;return r<0?r=0:r>1&&(r=1),t[i].pointAtT(r)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=n),i&&this.updateSubpathStartSegment(i),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i=t.splice(e,1)[0],r=i.previousSegment,o=i.nextSegment;r&&(r.nextSegment=o),o&&(o.previousSegment=r),i.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,i=n.length;if(i===0)throw new Error("Path has no segments.");if(e<0&&(e=i+e),e>=i||e<0)throw new Error("Index out of range.");var r,o=n[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(m,b){return m.concat(b)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var u=t.length,f=0;f<u;f++){var d=t[f];r=this.prepareSegment(d,s,a),n.splice(e+f,0,r),s=r,l&&r.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,s,a),n.splice(e,1,r),l&&r.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,i=0;i<n;i++){var r=t[i];r.round(e)}return this},scale:function(e,t,n){for(var i=this.segments,r=i.length,o=0;o<r;o++){var s=i[o];s.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<i;u++){var f=r?u:i-1-u,d=n[f],m=s[f],b=d.length({precision:o,subdivisions:m});if(d.isVisible){if(e<=l+b)return f;a=f}l+=b}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<i;u++){var f=r?u:i-1-u,d=n[f],m=s[f],b=d.length({precision:o,subdivisions:m});if(d.isDifferentiable()){if(e<=l+b)return d.tangentAtLength((r?1:-1)*(e-l),{precision:o,subdivisions:m});a=d}l+=b}if(a){var x=r?1:0;return a.tangentAtT(x)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var i=e.segmentIndex;if(i<0)return t[0].tangentAtT(0);if(i>=n)return t[n-1].tangentAtT(1);var r=e.value;return r<0?r=0:r>1&&(r=1),t[i].tangentAtT(r)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var l=t[a];if(l.isVisible){var u=r[a];if(u.length>0){var f=u.map(function(d){return d.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var i=0,r=n.length;i<r;i++)t.push(new ri(n[i]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",i=0;i<t;i++){var r=e[i];n+=r.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,i=n.length,r=0;r<i;r++){var o=n[r];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Dt.createSegment("M",0,0)),this}};Object.defineProperty(Dt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var i=e[n];if(i.isVisible)return i.start}return e[t-1].end}});Object.defineProperty(Dt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var i=e[n];if(i.isVisible)return i.end}return e[t-1].end}});function oa(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Iu={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Iu,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Iu,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Iu,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var nr=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof nr))return oa(nr,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var i;if(e[0]instanceof _t){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ge(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=2)r=e.slice(n,n+2),i.push(oa(nr,r));return i}else{if(t===1)return this.end=new ge(e[0]),this;var o;for(i=[],n=0;n<t;n+=1)o=e[n],i.push(new nr(o));return i}},U2={clone:function(){return new nr(this.end)},divideAt:function(e){var t=new _t(this.start,this.end),n=t.divideAt(e);return[new nr(n[0]),new nr(n[1])]},divideAtLength:function(e){var t=new _t(this.start,this.end),n=t.divideAtLength(e);return[new nr(n[0]),new nr(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(U2,"type",{configurable:!0,enumerable:!0,value:"L"});nr.prototype=Xg(Iu,_t.prototype,U2);var So=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof So))return oa(So,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var i;if(e[0]instanceof zn){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ge(+e[0],+e[1]),this.controlPoint2=new ge(+e[2],+e[3]),this.end=new ge(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=6)r=e.slice(n,n+6),i.push(oa(So,r));return i}else{if(t===3)return this.controlPoint1=new ge(e[0]),this.controlPoint2=new ge(e[1]),this.end=new ge(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(i=[],n=0;n<t;n+=3)o=e.slice(n,n+3),i.push(oa(So,o));return i}},H2={clone:function(){return new So(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new zn(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAt(e,t);return[new So(i[0]),new So(i[1])]},divideAtLength:function(e,t){var n=new zn(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAtLength(e,t);return[new So(i[0]),new So(i[1])]},divideAtT:function(e){var t=new zn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new So(n[0]),new So(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(i))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(H2,"type",{configurable:!0,enumerable:!0,value:"C"});So.prototype=Xg(Iu,zn.prototype,H2);var jc=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof jc))return oa(jc,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var i;if(e[0]instanceof _t){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof zn){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ge(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=2)r=e.slice(n,n+2),n===0?i.push(oa(jc,r)):i.push(oa(nr,r));return i}else{if(t===1)return this.end=new ge(e[0]),this;var o;for(i=[],n=0;n<t;n+=1)o=e[n],n===0?i.push(new jc(o)):i.push(new nr(o));return i}},E1={bbox:function(){return null},clone:function(){return new jc(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(E1,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(E1,"type",{configurable:!0,enumerable:!0,value:"M"});jc.prototype=Xg(Iu,E1);var Oh=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Oh))return oa(Oh,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},A1={clone:function(){return new Oh},divideAt:function(e){var t=new _t(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new nr(n[0]):this.clone(),new nr(n[1])]},divideAtLength:function(e){var t=new _t(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new nr(n[0]):this.clone(),new nr(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(A1,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(A1,"type",{configurable:!0,enumerable:!0,value:"Z"});Oh.prototype=Xg(Iu,_t.prototype,A1);var X6=Dt.segmentTypes={L:nr,C:So,M:jc,Z:Oh,z:Oh};Dt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(X6).join("")+",.]*$");Dt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const J6={curveThroughPoints:function(e){return console.warn("deprecated"),new Dt(zn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],i=e.length-1,r;if(i==1)return t[0]=new ge((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new ge(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(r=1;r<i-1;r++)o[r]=4*e[r].x+2*e[r+1].x;o[0]=e[0].x+2*e[1].x,o[i-1]=(8*e[i-1].x+e[i].x)/2;var s=this.getFirstControlPoints(o);for(r=1;r<i-1;++r)o[r]=4*e[r].y+2*e[r+1].y;o[0]=e[0].y+2*e[1].y,o[i-1]=(8*e[i-1].y+e[i].y)/2;var a=this.getFirstControlPoints(o);for(r=0;r<i;r++)t.push(new ge(s[r],a[r])),r<i-1?n.push(new ge(2*e[r+1].x-s[r+1],2*e[r+1].y-a[r+1])):n.push(new ge((e[i].x+s[i-1])/2,(e[i].y+a[i-1])/2));return[t,n]},getCurveDivider:function(e,t,n,i){console.warn("deprecated");var r=new zn(e,t,n,i);return function(s){var a=r.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],i=[],r=2;n[0]=e[0]/r;for(var o=1;o<t;o++)i[o]=1/r,r=(o<t-1?4:3.5)-i[o],n[o]=(e[o]-n[o-1])/r;for(o=1;o<t;o++)n[t-o-1]-=i[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,i){console.warn("deprecated");var r=new zn(e,t,n,i);return function(s){return r.closestPointT(s)}}},lo=function(e){if(!(this instanceof lo))return new lo(e);if(typeof e=="string")return new lo.parse(e);this.points=Array.isArray(e)?e.map(ge):[]};lo.parse=function(e){return new lo($2(e))};lo.fromRect=function(e){return new lo([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};lo.prototype=Xg(ri.prototype,{type:an.Polygon,clone:function(){return new lo(q2(this.points))},convexHull:function(){return new lo(z2(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});function V2(e,t,n,i){switch(e.type){case an.Line:{switch(t.type){case an.Line:return Kc(e,t)}break}case an.Ellipse:{switch(t.type){case an.Line:return k1(e,t);case an.Ellipse:return G2(e,t)}break}case an.Rect:{switch(t.type){case an.Line:return W2(e,t);case an.Ellipse:return j2(e,t);case an.Rect:return I1(e,t)}break}case an.Polyline:{switch(t.type){case an.Line:return p0(e,t);case an.Ellipse:return P1(e,t);case an.Rect:return K2(e,t);case an.Polyline:return Y2(e,t)}break}case an.Polygon:{switch(t.type){case an.Line:return O1(e,t);case an.Ellipse:return g0(e,t);case an.Rect:return X2(e,t);case an.Polyline:return J2(e,t);case an.Polygon:return Q2(e,t)}break}case an.Path:{switch(t.type){case an.Line:return Z2(e,t,n);case an.Ellipse:return eO(e,t,n);case an.Rect:return tO(e,t,n);case an.Polyline:return L1(e,t,n);case an.Polygon:return m0(e,t,n);case an.Path:return nO(e,t,n,i)}break}}switch(t.type){case an.Ellipse:case an.Rect:case an.Polyline:case an.Polygon:case an.Path:return V2(t,e,i,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function Kc(e,t){const n=e.start.x,i=e.start.y,r=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,u=t.end.y,f=r-n,d=o-i,m=l-s,b=u-a,x=n-s,C=i-a,k=f*b-m*d,T=(f*C-d*x)/k,A=(m*C-b*x)/k;return T>=0&&T<=1&&A>=0&&A<=1}function k1(e,t){const n=e.a,i=e.b,r=e.x,o=e.y,s=t.start.x-r,a=t.end.x-r,l=t.start.y-o,u=t.end.y-o,f=n*n,d=i*i,m=a-s,b=u-l,x=m*m/f+b*b/d,C=2*s*m/f+2*l*b/d,k=s*s/f+l*l/d-1,T=C*C-4*x*k;if(T===0){const A=-C/2/x;return A>=0&&A<=1}else if(T>0){const A=Math.sqrt(T),R=(-C+A)/2/x,F=(-C-A)/2/x;return R>=0&&R<=1||F>=0&&F<=1}return!1}function G2(e,t){return Q6(e,0,t,0)}function W2(e,t){const{start:n,end:i}=t,{x:r,y:o,width:s,height:a}=e;return n.x>r+s&&i.x>r+s||n.x<r&&i.x<r||n.y>o+a&&i.y>o+a||n.y<o&&i.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:Kc(e.topLine(),t)||Kc(e.rightLine(),t)||Kc(e.bottomLine(),t)||Kc(e.leftLine(),t)}function j2(e,t){return I1(e,pt.fromEllipse(t))?g0(lo.fromRect(e),t):!1}function I1(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function p0(e,t){return iO(e,t,{interior:!1})}function P1(e,t){return rO(e,t,{interior:!1})}function K2(e,t){return oO(e,t,{interior:!1})}function Y2(e,t){return y0(e,t,{interior:!1})}function O1(e,t){return iO(e,t,{interior:!0})}function g0(e,t){return rO(e,t,{interior:!0})}function X2(e,t){return oO(e,t,{interior:!0})}function J2(e,t){return y0(e,t,{interior:!0})}function Q2(e,t){return D1(e,t,{interior:!0})}function Z2(e,t,n){return e.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:o}=i.getSegment(-1);return o==="Z"?O1(r,t):p0(r,t)})}function eO(e,t,n){return e.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:o}=i.getSegment(-1);return o==="Z"?g0(r,t):P1(r,t)})}function tO(e,t,n){return m0(e,lo.fromRect(t),n)}function L1(e,t,n){return sO(e,t,n,{interior:!1})}function m0(e,t,n){return sO(e,t,n,{interior:!0})}function nO(e,t,n,i){return e.getSubpaths().some(r=>{const[o]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?m0(t,o,i):L1(t,o,i)})}function iO(e,t,n={}){const{interior:i=!1}=n;let r;if(i){if(e.containsPoint(t.start))return!0;const{start:a,end:l,points:u}=e;r=l.equals(a)?u:[...u,a]}else r=e.points;const{length:o}=r,s=new _t;for(let a=0;a<o-1;a++)if(s.start=r[a],s.end=r[a+1],Kc(t,s))return!0;return!1}function rO(e,t,n={}){const{start:i,end:r,points:o}=e;if(t.containsPoint(i))return!0;let s;const{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=r.equals(i)?o:[...o,i]}else s=o;const{length:l}=s,u=new _t;for(let f=0;f<l-1;f++)if(u.start=s[f],u.end=s[f+1],k1(t,u))return!0;return!1}function oO(e,t,n){const i=lo.fromRect(t);return D1(e,i,n)}function sO(e,t,n,i){return e.getSubpaths().some(r=>{const[o]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?D1(t,o,i):y0(t,o,i)})}function y0(e,t,n={}){const{interior:i=!1}=n;let r;if(i){const{start:l}=t;if(e.containsPoint(l))return!0;r=e.clone().close()}else r=e;const o=t.points,{length:s}=o,a=new _t;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],p0(r,a))return!0;return!1}function D1(e,t,n){return t.containsPoint(e.start)||y0(e,t.clone().close(),n)}function Q6(e,t,n,i){const{cos:r,sin:o}=Math,s=o(t),a=r(t),l=o(i),u=r(i),f=s*s,d=a*a,m=s*a,b=l*l,x=u*u,C=l*u,k=e.a*e.a,T=e.b*e.b,A=n.a*n.a,R=n.b*n.b,F=k*f+T*d,Z=A*b+R*x,ee=k*d+T*f,g=A*x+R*b;let L=2*(T-k)*m,M=2*(R-A)*C,z=-2*F*e.x-L*e.y,Q=-2*Z*n.x-M*n.y,de=-L*e.x-2*ee*e.y,ce=-M*n.x-2*g*n.y;const pe=F*e.x*e.x+ee*e.y*e.y+L*e.x*e.y-k*T,ae=Z*n.x*n.x+g*n.y*n.y+M*n.x*n.y-A*R;L=L/2,M=M/2,z=z/2,Q=Q/2,de=de/2,ce=ce/2;const q=Il([[F,L,z],[L,ee,de],[z,de,pe]]),G=Il([[Z,M,Q],[M,g,ce],[Q,ce,ae]]),j=.33333333*(Il([[Z,L,z],[M,ee,de],[Q,de,pe]])+Il([[F,M,z],[L,g,de],[z,ce,pe]])+Il([[F,L,Q],[L,ee,ce],[z,de,ae]])),te=.33333333*(Il([[F,M,Q],[L,g,ce],[z,ce,ae]])+Il([[Z,L,Q],[M,ee,ce],[Q,de,ae]])+Il([[Z,M,z],[M,g,de],[Q,ce,pe]])),le=uy([[q,j],[j,te]]),Ae=uy([[q,te],[j,G]]),ke=uy([[j,te],[te,G]]);return!(uy([[2*le,Ae],[Ae,2*ke]])>0&&(te>0||j>0))}function uy(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Il(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const Z6=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:G2,ellipseWithLine:k1,exists:V2,lineWithLine:Kc,pathWithEllipse:eO,pathWithLine:Z2,pathWithPath:nO,pathWithPolygon:m0,pathWithPolyline:L1,pathWithRect:tO,polygonWithEllipse:g0,polygonWithLine:O1,polygonWithPolygon:Q2,polygonWithPolyline:J2,polygonWithRect:X2,polylineWithEllipse:P1,polylineWithLine:p0,polylineWithPolyline:Y2,polylineWithRect:K2,rectWithEllipse:j2,rectWithLine:W2,rectWithRect:I1},Symbol.toStringTag,{value:"Module"})),Rc=Z6,eH=Object.freeze(Object.defineProperty({__proto__:null,Curve:zn,Ellipse:Dr,Line:_t,Path:Dt,Point:ge,Polygon:lo,Polyline:ri,Rect:pt,bezier:J6,ellipse:V6,intersection:Rc,line:mu,normalizeAngle:Es,point:fv,random:lw,rect:K6,scale:$6,snapToGrid:Cu,toDeg:f0,toRad:ao,types:an},Symbol.toStringTag,{value:"Module"})),We=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",i=Math,r=i.PI,o=i.atan2,s=i.sqrt,a=i.min,l=i.max,u=i.cos,f=i.sin,d=function(g,L,M){if(!(this instanceof d))return d.apply(Object.create(d.prototype),arguments);if(g){if(d.isV(g)&&(g=g.node),L=L||{},d.isString(g)){if(g=g.trim(),g.toLowerCase()==="svg")g=d.createSvgDocument();else if(g[0]==="<"){var z=d.createSvgDocument(g);if(z.childNodes.length>1){var Q=[],de,ce;for(de=0,ce=z.childNodes.length;de<ce;de++){var pe=z.childNodes[de];Q.push(new d(document.importNode(pe,!0)))}return Q}g=document.importNode(z.firstChild,!0)}else g=document.createElementNS(t.svg,g);d.ensureId(g)}return this.node=g,this.setAttributes(L),M&&this.append(M),this}},m=d.prototype;Object.defineProperty(m,"id",{enumerable:!0,get:function(){return this.node.id},set:function(g){this.node.id=g}}),m.getTransformToElement=function(g){var L=this.node;if(d.isSVGGraphicsElement(g)&&d.isSVGGraphicsElement(L)){var M=d.toNode(g).getScreenCTM(),z=L.getScreenCTM();if(M&&z)return M.inverse().multiply(z)}return d.createSVGMatrix()},m.transform=function(g,L){var M=this.node;if(d.isUndefined(g))return d.transformStringToMatrix(this.attr("transform"));if(L&&L.absolute)return this.attr("transform",d.matrixToTransformString(g));var z=d.createSVGTransform(g);return M.transform.baseVal.appendItem(z),this},m.translate=function(g,L,M){M=M||{},L=L||0;var z=this.attr("transform")||"",Q=d.parseTransformString(z);if(z=Q.value,d.isUndefined(g))return Q.translate;z=z.replace(/translate\([^)]*\)/g,"").trim();var de=M.absolute?g:Q.translate.tx+g,ce=M.absolute?L:Q.translate.ty+L,pe="translate("+de+","+ce+")";return this.attr("transform",(pe+" "+z).trim()),this},m.rotate=function(g,L,M,z){z=z||{};var Q=this.attr("transform")||"",de=d.parseTransformString(Q);if(Q=de.value,d.isUndefined(g))return de.rotate;Q=Q.replace(/rotate\([^)]*\)/g,"").trim(),g%=360;var ce=z.absolute?g:de.rotate.angle+g,pe=L!==void 0&&M!==void 0?","+L+","+M:"",ae="rotate("+ce+pe+")";return this.attr("transform",(Q+" "+ae).trim()),this},m.scale=function(g,L){L=d.isUndefined(L)?g:L;var M=this.attr("transform")||"",z=d.parseTransformString(M);if(M=z.value,d.isUndefined(g))return z.scale;M=M.replace(/scale\([^)]*\)/g,"").trim();var Q="scale("+g+","+L+")";return this.attr("transform",(M+" "+Q).trim()),this},m.bbox=function(g,L){var M,z=this.node,Q=z.ownerSVGElement;if(!Q)return new pt(0,0,0,0);try{M=z.getBBox()}catch{M={x:z.clientLeft,y:z.clientTop,width:z.clientWidth,height:z.clientHeight}}if(g)return new pt(M);var de=this.getTransformToElement(L||Q);return d.transformRect(M,de)},m.getBBox=function(g){var L={},M,z=this.node,Q=z.ownerSVGElement;if(!Q||!d.isSVGGraphicsElement(z))return new pt(0,0,0,0);if(g&&(g.target&&(L.target=d.toNode(g.target)),g.recursive&&(L.recursive=g.recursive)),L.recursive){var ce=this.children(),pe=ce.length;if(pe===0)return this.getBBox({target:L.target,recursive:!1});L.target||(L.target=this);for(var ae=0;ae<pe;ae++){var q=ce[ae],G;q.children().length===0?G=q.getBBox({target:L.target,recursive:!1}):G=q.getBBox({target:L.target,recursive:!0}),M?M=M.union(G):M=G}return M}else{try{M=z.getBBox()}catch{M={x:z.clientLeft,y:z.clientTop,width:z.clientWidth,height:z.clientHeight}}if(L.target){var de=this.getTransformToElement(L.target);return d.transformRect(M,de)}else return new pt(M)}};function b(g,L){g||(g={});var M=d("textPath"),z=g.d;if(z&&g["xlink:href"]===void 0){var Q=d("path").attr("d",z).appendTo(L.defs());M.attr("xlink:href","#"+Q.id)}return d.isObject(g)&&M.attr(g),M.node}function x(g,L,M){M||(M={});for(var z=M.includeAnnotationIndices,Q=M.eol,de=M.lineHeight,ce=M.baseSize,pe=0,ae={},q=L.length-1,G=0;G<=q;G++){var j=L[G],te=null;if(d.isObject(j)){var le=j.attrs,Ae=d("tspan",le),ke=Ae.node,rt=j.t;Q&&G===q&&(rt+=Q),ke.textContent=rt;var Be=le.class;Be&&Ae.addClass(Be),z&&Ae.attr("annotations",j.annotations),te=parseFloat(le["font-size"]),isFinite(te)||(te=ce),te&&te>pe&&(pe=te)}else Q&&G===q&&(j+=Q),ke=document.createTextNode(j||" "),ce&&ce>pe&&(pe=ce);g.appendChild(ke)}return pe&&(ae.maxFontSize=pe),de?ae.lineHeight=de:pe&&(ae.lineHeight=pe*1.2),ae}var C=/em$/;function k(g,L){var M=parseFloat(g);return C.test(g)?M*L:M}function T(g,L,M,z){if(!Array.isArray(L))return 0;var Q=L.length;if(!Q)return 0;for(var de=L[0],ce=k(de.maxFontSize,M)||M,pe=0,ae=k(z,M),q=1;q<Q;q++){de=L[q];var G=k(de.lineHeight,M)||ae;pe+=G}var j=k(de.maxFontSize,M)||M,te;switch(g){case"middle":te=ce/2-.15*j-pe/2;break;case"bottom":te=-(.25*j)-pe;break;default:case"top":te=.8*ce;break}return te}m.text=function(g,L){if(g&&typeof g!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");g=d.sanitizeText(g),L||(L={});var M=L.displayEmpty,z=L.eol,Q=L.textPath,de=L.textVerticalAnchor,ce=de==="middle"||de==="bottom"||de==="top",pe=L.x;pe===void 0&&(pe=this.attr("x")||0);var ae=L.includeAnnotationIndices,q=L.annotations;q&&!d.isArray(q)&&(q=[q]);var G=L.lineHeight,j=G==="auto",te=j?"1.5em":G||"1em";this.empty(),this.attr({"xml:space":"preserve",display:g||M?null:"none"});var le=parseFloat(this.attr("font-size"));le||(le=16,(ce||q)&&this.attr("font-size",le));var Ae=document,ke;Q?(typeof Q=="string"&&(Q={d:Q}),ke=b(Q,this)):ke=Ae.createDocumentFragment();for(var rt=0,Be=g.split(`
`),st=[],lt,Se=0,$e=Be.length-1;Se<=$e;Se++){var qe=te,Fe="v-line",xe=Ae.createElementNS(t.svg,"tspan"),Ie=Be[Se],U;if(Ie)if(q){var K=d.annotateString(Ie,q,{offset:-rt,includeAnnotationIndices:ae});U=x(xe,K,{includeAnnotationIndices:ae,eol:Se!==$e&&z,lineHeight:j?null:te,baseSize:le});var ne=U.lineHeight;ne&&j&&Se!==0&&(qe=ne),Se===0&&(lt=U.maxFontSize*.8)}else z&&Se!==$e&&(Ie+=z),xe.textContent=Ie;else{xe.textContent="-",Fe+=" v-empty-line";var we=xe.style;if(we.fillOpacity=0,we.strokeOpacity=0,q){U={},K=d.findAnnotationsAtIndex(q,rt);let ze=le;for(let tt=K.length;tt>0;tt--){const Je=K[tt-1].attrs;if(!Je||!("font-size"in Je))continue;const nt=parseFloat(Je["font-size"]);if(isFinite(nt)){ze=nt;break}}j&&(Se>0?qe=ze*1.2:lt=ze*.8),xe.setAttribute("font-size",ze),U.maxFontSize=ze}}U&&st.push(U),Se>0&&xe.setAttribute("dy",qe),(Se>0||Q)&&xe.setAttribute("x",pe),xe.className.baseVal=Fe,ke.appendChild(xe),rt+=Ie.length+1}if(ce)if(q)qe=T(de,st,le,te);else if(de==="top")qe="0.8em";else{var fe;switch($e>0?(fe=parseFloat(te)||1,fe*=$e,C.test(te)||(fe/=le)):fe=0,de){case"middle":qe=.3-fe/2+"em";break;case"bottom":qe=-fe-.3+"em";break}}else de===0?qe="0em":de?qe=de:(qe=0,this.attr("y")===null&&this.attr("y",lt||"0.8em"));return ke.firstChild.setAttribute("dy",qe),this.append(ke),this},m.removeAttr=function(g){const L=Z[g],{ns:M,local:z}=d.qualifyAttr(L),Q=this.node;return M?Q.hasAttributeNS(M,z)&&Q.removeAttributeNS(M,z):Q.hasAttribute(L)&&Q.removeAttribute(L),this},m.attr=function(g,L){if(d.isUndefined(g)){for(var M=this.node.attributes,z={},Q=0;Q<M.length;Q++)z[M[Q].name]=M[Q].value;return z}if(d.isString(g)&&d.isUndefined(L))return this.node.getAttribute(Z[g]);if(typeof g=="object")for(var de in g)g.hasOwnProperty(de)&&this.setAttribute(de,g[de]);else this.setAttribute(g,L);return this},m.normalizePath=function(){var g=this.tagName();return g==="PATH"&&this.attr("d",d.normalizePathData(this.attr("d"))),this},m.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},m.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},m.setAttributes=function(g){for(var L in g)g.hasOwnProperty(L)&&this.setAttribute(L,g[L]);return this},m.append=function(g){d.isArray(g)||(g=[g]);for(var L=0,M=g.length;L<M;L++)this.node.appendChild(d.toNode(g[L]));return this},m.prepend=function(g){var L=this.node.firstChild;return L?d(L).before(g):this.append(g)},m.before=function(g){var L=this.node,M=L.parentNode;if(M){d.isArray(g)||(g=[g]);for(var z=0,Q=g.length;z<Q;z++)M.insertBefore(d.toNode(g[z]),L)}return this},m.appendTo=function(g){return d.toNode(g).appendChild(this.node),this},m.svg=function(){return this.node instanceof window.SVGSVGElement?this:d(this.node.ownerSVGElement)},m.tagName=function(){return this.node.tagName.toUpperCase()},m.defs=function(){var g=this.svg()||this,L=g.node.getElementsByTagName("defs")[0];return L?d(L):d("defs").appendTo(g)},m.clone=function(){var g=d(this.node.cloneNode(!0));return g.node.id=d.uniqueId(),g},m.findOne=function(g){var L=this.node.querySelector(g);return L?d(L):void 0},m.find=function(g){var L=[],M=this.node.querySelectorAll(g);if(M)for(var z=0;z<M.length;z++)L.push(d(M[z]));return L},m.children=function(){for(var g=this.node.childNodes,L=[],M=0;M<g.length;M++){var z=g[M];z.nodeType===1&&L.push(d(g[M]))}return L},m.parent=function(){return d(this.node.parentNode)||null},m.index=function(){for(var g=0,L=this.node.previousSibling;L;)L.nodeType===1&&g++,L=L.previousSibling;return g},m.findParentByClass=function(g,L){for(var M=this.node.ownerSVGElement,z=this.node.parentNode;z&&z!==L&&z!==M;){var Q=d(z);if(Q.hasClass(g))return Q;z=z.parentNode}return null},m.contains=function(g){var L=this.node,M=d.toNode(g),z=M&&M.parentNode;return L===z||!!(z&&z.nodeType===1&&L.compareDocumentPosition(z)&16)},m.toLocalPoint=function(g,L){var M=this.svg().node,z=M.createSVGPoint();z.x=g,z.y=L;try{var Q=z.matrixTransform(M.getScreenCTM().inverse()),de=this.getTransformToElement(M).inverse()}catch{return z}return Q.matrixTransform(de)},m.translateCenterToPoint=function(g){var L=this.getBBox({target:this.svg()}),M=L.center();return this.translate(g.x-M.x,g.y-M.y),this},m.translateAndAutoOrient=function(g,L,M){g=new ge(g),L=new ge(L),M||(M=this.svg());var z=this.scale();this.attr("transform","");var Q=this.getBBox({target:M}).scale(z.sx,z.sy),de=d.createSVGTransform();de.setTranslate(-Q.x-Q.width/2,-Q.y-Q.height/2);var ce=d.createSVGTransform(),pe=g.angleBetween(L,g.clone().offset(1,0));pe&&ce.setRotate(pe,0,0);var ae=d.createSVGTransform(),q=g.clone().move(L,Q.width/2);ae.setTranslate(2*g.x-q.x,2*g.y-q.y);var G=this.getTransformToElement(M),j=d.createSVGTransform();return j.setMatrix(ae.matrix.multiply(ce.matrix.multiply(de.matrix.multiply(G.scale(z.sx,z.sy))))),this.attr("transform",d.matrixToTransformString(j.matrix)),this},m.animateAlongPath=function(g,L){L=d.toNode(L);var M=d.ensureId(L),z=d("animateMotion",g),Q=d("mpath",{"xlink:href":"#"+M});z.append(Q),this.append(z);try{z.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var de=z.node;de.animators=[];var ce=de.getAttribute("id");ce&&(id2anim[ce]=de);for(var pe=getTargets(de),ae=0,q=pe.length;ae<q;ae++){var G=pe[ae],j=new Animator(de,G,ae);animators.push(j),de.animators[ae]=j,j.register()}}}return this};const A=/[^\x20\t\r\n\f]+/g;function R(g){return d.isString(g)?g.trim().match(A)||[]:[]}m.hasClass=function(g){return d.isString(g)?this.node.classList.contains(g.trim()):!1},m.addClass=function(g){return this.node.classList.add(...R(g)),this},m.removeClass=function(g){return this.node.classList.remove(...R(g)),this},m.toggleClass=function(g,L){const M=R(g);for(let z=0;z<M.length;z++)this.node.classList.toggle(M[z],L);return this},m.sample=function(g){g=g||1;for(var L=this.node,M=L.getTotalLength(),z=[],Q=0,de;Q<M;)de=L.getPointAtLength(Q),z.push({x:de.x,y:de.y,distance:Q}),Q+=g;return z},m.convertToPath=function(){var g=d("path");g.attr(this.attr());var L=this.convertToPathData();return L&&g.attr("d",L),g},m.convertToPathData=function(){var g=this.tagName();switch(g){case"PATH":return this.attr("d");case"LINE":return d.convertLineToPathData(this.node);case"POLYGON":return d.convertPolygonToPathData(this.node);case"POLYLINE":return d.convertPolylineToPathData(this.node);case"ELLIPSE":return d.convertEllipseToPathData(this.node);case"CIRCLE":return d.convertCircleToPathData(this.node);case"RECT":return d.convertRectToPathData(this.node)}throw new Error(g+" cannot be converted to PATH.")},d.prototype.toGeometryShape=function(){var g,L,M,z,Q,de,ce,pe,ae,q,G,j,te,le,Ae;switch(this.tagName()){case"RECT":return g=parseFloat(this.attr("x"))||0,L=parseFloat(this.attr("y"))||0,M=parseFloat(this.attr("width"))||0,z=parseFloat(this.attr("height"))||0,new pt(g,L,M,z);case"CIRCLE":return Q=parseFloat(this.attr("cx"))||0,de=parseFloat(this.attr("cy"))||0,ce=parseFloat(this.attr("r"))||0,new Dr({x:Q,y:de},ce,ce);case"ELLIPSE":return Q=parseFloat(this.attr("cx"))||0,de=parseFloat(this.attr("cy"))||0,pe=parseFloat(this.attr("rx"))||0,ae=parseFloat(this.attr("ry"))||0,new Dr({x:Q,y:de},pe,ae);case"POLYLINE":return q=d.getPointsFromSvgNode(this),new ri(q);case"POLYGON":return q=d.getPointsFromSvgNode(this),q.length>1&&q.push(q[0]),new ri(q);case"PATH":return G=this.attr("d"),Dt.isDataSupported(G)||(G=d.normalizePathData(G)),new Dt(G);case"LINE":return j=parseFloat(this.attr("x1"))||0,le=parseFloat(this.attr("y1"))||0,te=parseFloat(this.attr("x2"))||0,Ae=parseFloat(this.attr("y2"))||0,new _t({x:j,y:le},{x:te,y:Ae})}return this.getBBox()},m.findIntersection=function(g,L){var M=this.svg().node;L=L||M;var z=this.getBBox({target:L}),Q=z.center();if(z.intersectionWithLineFromCenterToPoint(g)){var de,ce=this.tagName();if(ce==="RECT"){var pe=new pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),ae=this.getTransformToElement(L),q=d.decomposeMatrix(ae),G=M.createSVGTransform();G.setRotate(-q.rotation,Q.x,Q.y);var j=d.transformRect(pe,G.matrix.multiply(ae));de=new pt(j).intersectionWithLineFromCenterToPoint(g,q.rotation)}else if(ce==="PATH"||ce==="POLYGON"||ce==="POLYLINE"||ce==="CIRCLE"||ce==="ELLIPSE"){var te=ce==="PATH"?this:this.convertToPath(),le=te.sample(),Ae=1/0,ke=[],rt,Be,st,lt,Se,$e;for(rt=0;rt<le.length;rt++)Be=le[rt],st=d.createSVGPoint(Be.x,Be.y),st=st.matrixTransform(this.getTransformToElement(L)),Be=new ge(st),lt=Be.distance(Q),Se=Be.distance(g)*1.1,$e=lt+Se,$e<Ae?(Ae=$e,ke=[{sample:Be,refDistance:Se}]):$e<Ae+1&&ke.push({sample:Be,refDistance:Se});ke.sort(function(qe,Fe){return qe.refDistance-Fe.refDistance}),ke[0]&&(de=ke[0].sample)}return de}},m.setAttribute=function(g,L){const M=this.node;if(L===null)return this.removeAttr(g),this;const z=Z[g],{ns:Q}=d.qualifyAttr(z);return Q?M.setAttributeNS(Q,z,L):z==="id"?M.id=L:M.setAttribute(z,L),this},d.createSvgDocument=function(g){if(g){const M=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${g}</svg>`,{documentElement:z}=d.parseXML(M,{async:!1});return z}const L=document.createElementNS(t.svg,"svg");return L.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),L.setAttribute("version",n),L},d.createSVGStyle=function(g){const{node:L}=d("style",{type:"text/css"},[d.createCDATASection(g)]);return L},d.createCDATASection=function(g=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(g)},d.idCounter=0,d.uniqueId=function(){return"v-"+ ++d.idCounter},d.toNode=function(g){return d.isV(g)?g.node:g.nodeName&&g||g[0]},d.ensureId=function(g){return g=d.toNode(g),g.id||(g.id=d.uniqueId())},d.sanitizeText=function(g){return(g||"").replace(/ /g," ")},d.isUndefined=function(g){return typeof g>"u"},d.isString=function(g){return typeof g=="string"},d.isObject=function(g){return g&&typeof g=="object"},d.isArray=Array.isArray,d.parseXML=function(g,L){L=L||{};var M;try{var z=new DOMParser;d.isUndefined(L.async)||(z.async=L.async),M=z.parseFromString(g,"text/xml")}catch{M=void 0}if(!M||M.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+g);return M};const F=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(g=>F[g]=g),F.xlinkShow="xlink:show",F.xlinkRole="xlink:role",F.xlinkActuate="xlink:actuate",F.xlinkHref="xlink:href",F.xlinkType="xlink:type",F.xlinkTitle="xlink:title",F.xmlBase="xml:base",F.xmlLang="xml:lang",F.xmlSpace="xml:space";const Z=new Proxy(F,{get(g,L){return d.supportCamelCaseAttributes?L in g?g[L]:g[L]=L.replace(/[A-Z]/g,"-$&").toLowerCase():L}});Object.defineProperty(d,"attributeNames",{enumerable:!0,value:Z,writable:!1}),Object.defineProperty(d,"supportCamelCaseAttributes",{enumerable:!0,value:!0,writable:!0}),d.qualifyAttr=function(g){if(g.indexOf(":")!==-1){var L=g.split(":");return{ns:t[L[0]],local:L[1]}}return{ns:null,local:g}},d.transformSeparatorRegex=/[ ,]+/,d.transformRegex=/\b\w+\([^()]+\)/g,d.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,d.transformTranslateRegex=/\btranslate\(([^()]+)\)/,d.transformRotateRegex=/\brotate\(([^()]+)\)/,d.transformScaleRegex=/\bscale\(([^()]+)\)/,d.transformStringToMatrix=function(g){let L=d.createSVGMatrix();const M=g&&g.match(d.transformRegex);if(!M)return L;const z=M.length;for(let Q=0;Q<z;Q++){const ce=M[Q].match(d.transformFunctionRegex);if(ce){let pe,ae,q,G,j,te=d.createSVGMatrix();const le=ce[1].toLowerCase(),Ae=ce[2].split(d.transformSeparatorRegex);switch(le){case"scale":pe=parseFloat(Ae[0]),ae=Ae[1]===void 0?pe:parseFloat(Ae[1]),te=te.scaleNonUniform(pe,ae);break;case"translate":q=parseFloat(Ae[0]),G=parseFloat(Ae[1]),te=te.translate(q,G);break;case"rotate":j=parseFloat(Ae[0]),q=parseFloat(Ae[1])||0,G=parseFloat(Ae[2])||0,q!==0||G!==0?te=te.translate(q,G).rotate(j).translate(-q,-G):te=te.rotate(j);break;case"skewx":j=parseFloat(Ae[0]),te=te.skewX(j);break;case"skewy":j=parseFloat(Ae[0]),te=te.skewY(j);break;case"matrix":te.a=parseFloat(Ae[0]),te.b=parseFloat(Ae[1]),te.c=parseFloat(Ae[2]),te.d=parseFloat(Ae[3]),te.e=parseFloat(Ae[4]),te.f=parseFloat(Ae[5]);break;default:continue}L=L.multiply(te)}}return L},d.matrixToTransformString=function(g){return g||(g=!0),"matrix("+(g.a!==void 0?g.a:1)+","+(g.b!==void 0?g.b:0)+","+(g.c!==void 0?g.c:0)+","+(g.d!==void 0?g.d:1)+","+(g.e!==void 0?g.e:0)+","+(g.f!==void 0?g.f:0)+")"},d.parseTransformString=function(g){var L,M,z;if(g){var Q=d.transformSeparatorRegex;if(g.trim().indexOf("matrix")>=0){var de=d.transformStringToMatrix(g),ce=d.decomposeMatrix(de);L=[ce.translateX,ce.translateY],z=[ce.scaleX,ce.scaleY],M=[ce.rotation];var pe=[];(L[0]!==0||L[1]!==0)&&pe.push("translate("+L+")"),(z[0]!==1||z[1]!==1)&&pe.push("scale("+z+")"),M[0]!==0&&pe.push("rotate("+M+")"),g=pe.join(" ")}else{const q=g.match(d.transformTranslateRegex);q&&(L=q[1].split(Q));const G=g.match(d.transformRotateRegex);G&&(M=G[1].split(Q));const j=g.match(d.transformScaleRegex);j&&(z=j[1].split(Q))}}var ae=z&&z[0]?parseFloat(z[0]):1;return{value:g,translate:{tx:L&&L[0]?parseInt(L[0],10):0,ty:L&&L[1]?parseInt(L[1],10):0},rotate:{angle:M&&M[0]?parseInt(M[0],10):0,cx:M&&M[1]?parseInt(M[1],10):void 0,cy:M&&M[2]?parseInt(M[2],10):void 0},scale:{sx:ae,sy:z&&z[1]?parseFloat(z[1]):ae}}},d.deltaTransformPoint=function(g,L){var M=L.x*g.a+L.y*g.c+0,z=L.x*g.b+L.y*g.d+0;return{x:M,y:z}},d.decomposeMatrix=function(g){var L=d.deltaTransformPoint(g,{x:0,y:1}),M=d.deltaTransformPoint(g,{x:1,y:0}),z=180/r*o(L.y,L.x)-90,Q=180/r*o(M.y,M.x);return{translateX:g.e,translateY:g.f,scaleX:s(g.a*g.a+g.b*g.b),scaleY:s(g.c*g.c+g.d*g.d),skewX:z,skewY:Q,rotation:z}},d.matrixToScale=function(g){var L,M,z,Q;return g?(L=d.isUndefined(g.a)?1:g.a,Q=d.isUndefined(g.d)?1:g.d,M=g.b,z=g.c):L=Q=1,{sx:M?s(L*L+M*M):L,sy:z?s(z*z+Q*Q):Q}},d.matrixToRotate=function(g){var L={x:0,y:1};return g&&(L=d.deltaTransformPoint(g,L)),{angle:Es(f0(o(L.y,L.x))-90)}},d.matrixToTranslate=function(g){return{tx:g&&g.e||0,ty:g&&g.f||0}},d.isV=function(g){return g instanceof d},d.isVElement=d.isV,d.isSVGGraphicsElement=function(g){return g?(g=d.toNode(g),g instanceof SVGElement&&typeof g.getScreenCTM=="function"):!1};var ee=d("svg").node;return d.createSVGMatrix=function(g){var L=ee.createSVGMatrix();for(var M in g)L[M]=g[M];return L},d.createSVGTransform=function(g){return d.isUndefined(g)?ee.createSVGTransform():(g instanceof SVGMatrix||(g=d.createSVGMatrix(g)),ee.createSVGTransformFromMatrix(g))},d.createSVGPoint=function(g,L){var M=ee.createSVGPoint();return M.x=g,M.y=L,M},d.transformRect=function(g,L){var M=ee.createSVGPoint();M.x=g.x,M.y=g.y;var z=M.matrixTransform(L);M.x=g.x+g.width,M.y=g.y;var Q=M.matrixTransform(L);M.x=g.x+g.width,M.y=g.y+g.height;var de=M.matrixTransform(L);M.x=g.x,M.y=g.y+g.height;var ce=M.matrixTransform(L),pe=a(z.x,Q.x,de.x,ce.x),ae=l(z.x,Q.x,de.x,ce.x),q=a(z.y,Q.y,de.y,ce.y),G=l(z.y,Q.y,de.y,ce.y);return new pt(pe,q,ae-pe,G-q)},d.transformPoint=function(g,L){return new ge(d.createSVGPoint(g.x,g.y).matrixTransform(L))},d.transformLine=function(g,L){return new _t(d.transformPoint(g.start,L),d.transformPoint(g.end,L))},d.transformPolyline=function(g,L){var M=g instanceof ri?g.points:g;d.isArray(M)||(M=[]);for(var z=[],Q=0,de=M.length;Q<de;Q++)z[Q]=d.transformPoint(M[Q],L);return new ri(z)},d.styleToObject=function(g){for(var L={},M=g.split(";"),z=0;z<M.length;z++){var Q=M[z],de=Q.split("=");L[de[0].trim()]=de[1].trim()}return L},d.createSlicePathData=function(g,L,M,z){var Q=2*r-1e-6,de=g,ce=L,pe=M,ae=z,q=(ae<pe&&(q=pe,pe=ae,ae=q),ae-pe),G=q<r?"0":"1",j=u(pe),te=f(pe),le=u(ae),Ae=f(ae);return q>=Q?de?"M0,"+ce+"A"+ce+","+ce+" 0 1,1 0,"+-ce+"A"+ce+","+ce+" 0 1,1 0,"+ce+"M0,"+de+"A"+de+","+de+" 0 1,0 0,"+-de+"A"+de+","+de+" 0 1,0 0,"+de+"Z":"M0,"+ce+"A"+ce+","+ce+" 0 1,1 0,"+-ce+"A"+ce+","+ce+" 0 1,1 0,"+ce+"Z":de?"M"+ce*j+","+ce*te+"A"+ce+","+ce+" 0 "+G+",1 "+ce*le+","+ce*Ae+"L"+de*le+","+de*Ae+"A"+de+","+de+" 0 "+G+",0 "+de*j+","+de*te+"Z":"M"+ce*j+","+ce*te+"A"+ce+","+ce+" 0 "+G+",1 "+ce*le+","+ce*Ae+"L0,0Z"},d.mergeAttrs=function(g,L){for(var M in L)M==="class"?g[M]=g[M]?g[M]+" "+L[M]:L[M]:M==="style"?d.isObject(g[M])&&d.isObject(L[M])?g[M]=d.mergeAttrs(g[M],L[M]):d.isObject(g[M])?g[M]=d.mergeAttrs(g[M],d.styleToObject(L[M])):d.isObject(L[M])?g[M]=d.mergeAttrs(d.styleToObject(g[M]),L[M]):g[M]=d.mergeAttrs(d.styleToObject(g[M]),d.styleToObject(L[M])):g[M]=L[M];return g},d.annotateString=function(g,L,M){L=L||[],M=M||{};for(var z=M.offset||0,Q=[],de,ce=[],pe,ae,q=0;q<g.length;q++){pe=ce[q]=g[q];for(var G=0;G<L.length;G++){var j=L[G],te=j.start+z,le=j.end+z;q>=te&&q<le&&(d.isObject(pe)?pe.attrs=d.mergeAttrs(d.mergeAttrs({},pe.attrs),j.attrs):pe=ce[q]={t:g[q],attrs:j.attrs},M.includeAnnotationIndices&&(pe.annotations||(pe.annotations=[])).push(G))}ae=ce[q-1],ae?d.isObject(pe)&&d.isObject(ae)?JSON.stringify(pe.attrs)===JSON.stringify(ae.attrs)?de.t+=pe.t:(Q.push(de),de=pe):d.isObject(pe)||d.isObject(ae)?(Q.push(de),de=pe):de=(de||"")+pe:de=pe}return de&&Q.push(de),Q},d.findAnnotationsAtIndex=function(g,L){var M=[];return g&&g.forEach(function(z){z.start<L&&L<=z.end&&M.push(z)}),M},d.findAnnotationsBetweenIndexes=function(g,L,M){var z=[];return g&&g.forEach(function(Q){(L>=Q.start&&L<Q.end||M>Q.start&&M<=Q.end||Q.start>=L&&Q.end<M)&&z.push(Q)}),z},d.shiftAnnotations=function(g,L,M){return g&&g.forEach(function(z){z.start<L&&z.end>=L?z.end+=M:z.start>=L&&(z.start+=M,z.end+=M)}),g},d.convertLineToPathData=function(g){g=d(g);var L=["M",g.attr("x1"),g.attr("y1"),"L",g.attr("x2"),g.attr("y2")].join(" ");return L},d.convertPolygonToPathData=function(g){var L=d.getPointsFromSvgNode(g);return L.length===0?null:d.svgPointsToPath(L)+" Z"},d.convertPolylineToPathData=function(g){var L=d.getPointsFromSvgNode(g);return L.length===0?null:d.svgPointsToPath(L)},d.svgPointsToPath=function(g){for(var L=0,M=g.length;L<M;L++)g[L]=g[L].x+" "+g[L].y;return"M "+g.join(" L")},d.getPointsFromSvgNode=function(g){g=d.toNode(g);var L=[],M=g.points;if(M)for(var z=0,Q=M.numberOfItems;z<Q;z++)L.push(M.getItem(z));return L},d.KAPPA=.551784,d.convertCircleToPathData=function(g){g=d(g);var L=parseFloat(g.attr("cx"))||0,M=parseFloat(g.attr("cy"))||0,z=parseFloat(g.attr("r")),Q=z*d.KAPPA,de=["M",L,M-z,"C",L+Q,M-z,L+z,M-Q,L+z,M,"C",L+z,M+Q,L+Q,M+z,L,M+z,"C",L-Q,M+z,L-z,M+Q,L-z,M,"C",L-z,M-Q,L-Q,M-z,L,M-z,"Z"].join(" ");return de},d.convertEllipseToPathData=function(g){g=d(g);var L=parseFloat(g.attr("cx"))||0,M=parseFloat(g.attr("cy"))||0,z=parseFloat(g.attr("rx")),Q=parseFloat(g.attr("ry"))||z,de=z*d.KAPPA,ce=Q*d.KAPPA,pe=["M",L,M-Q,"C",L+de,M-Q,L+z,M-ce,L+z,M,"C",L+z,M+ce,L+de,M+Q,L,M+Q,"C",L-de,M+Q,L-z,M+ce,L-z,M,"C",L-z,M-ce,L-de,M-Q,L,M-Q,"Z"].join(" ");return pe},d.convertRectToPathData=function(g){return g=d(g),d.rectToPath({x:parseFloat(g.attr("x"))||0,y:parseFloat(g.attr("y"))||0,width:parseFloat(g.attr("width"))||0,height:parseFloat(g.attr("height"))||0,rx:parseFloat(g.attr("rx"))||0,ry:parseFloat(g.attr("ry"))||0})},d.rectToPath=function(g){var L,M=g.x,z=g.y,Q=g.width,de=g.height,ce=a(g.rx||g["top-rx"]||0,Q/2),pe=a(g.rx||g["bottom-rx"]||0,Q/2),ae=a(g.ry||g["top-ry"]||0,de/2),q=a(g.ry||g["bottom-ry"]||0,de/2);return ce||pe||ae||q?L=["M",M,z+ae,"v",de-ae-q,"a",pe,q,0,0,0,pe,q,"h",Q-2*pe,"a",pe,q,0,0,0,pe,-q,"v",-(de-q-ae),"a",ce,ae,0,0,0,-ce,-ae,"h",-(Q-2*ce),"a",ce,ae,0,0,0,-ce,ae,"Z"]:L=["M",M,z,"H",M+Q,"V",z+de,"H",M,"V",z,"Z"],L.join(" ")},d.normalizePathData=function(){var g=`	
\v\f\r   ᠎             　\u2028\u2029`,L=new RegExp("([a-z])["+g+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+g+"]*,?["+g+"]*)+)","ig"),M=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+g+"]*,?["+g+"]*","ig"),z=Math,Q=z.PI,de=z.sin,ce=z.cos,pe=z.tan,ae=z.asin,q=z.sqrt,G=z.abs;function j(Be,st,lt,Se,$e,qe){var Fe=.3333333333333333,xe=2/3;return[Fe*Be+xe*lt,Fe*st+xe*Se,Fe*$e+xe*lt,Fe*qe+xe*Se,$e,qe]}function te(Be,st,lt){var Se=Be*ce(lt)-st*de(lt),$e=Be*de(lt)+st*ce(lt);return{x:Se,y:$e}}function le(Be,st,lt,Se,$e,qe,Fe,xe,Ie,U){var K=Q*120/180,ne=Q/180*(+$e||0),we=[],fe;if(U)ft=U[0],Et=U[1],vt=U[2],Ge=U[3];else{fe=te(Be,st,-ne),Be=fe.x,st=fe.y,fe=te(xe,Ie,-ne),xe=fe.x,Ie=fe.y;var ze=(Be-xe)/2,tt=(st-Ie)/2,Je=ze*ze/(lt*lt)+tt*tt/(Se*Se);Je>1&&(Je=q(Je),lt=Je*lt,Se=Je*Se);var nt=lt*lt,Xe=Se*Se,ht=(qe==Fe?-1:1)*q(G((nt*Xe-nt*tt*tt-Xe*ze*ze)/(nt*tt*tt+Xe*ze*ze)));if(!Number.isFinite(ht))return[Be,st,xe,Ie,xe,Ie];var vt=ht*lt*tt/Se+(Be+xe)/2,Ge=ht*-Se*ze/lt+(st+Ie)/2,ft=ae(((st-Ge)/Se).toFixed(9)),Et=ae(((Ie-Ge)/Se).toFixed(9));ft=Be<vt?Q-ft:ft,Et=xe<vt?Q-Et:Et,ft<0&&(ft=Q*2+ft),Et<0&&(Et=Q*2+Et),Fe&&ft>Et&&(ft=ft-Q*2),!Fe&&Et>ft&&(Et=Et-Q*2)}var Jt=Et-ft;if(G(Jt)>K){var yn=Et,Fn=xe,Rn=Ie;Et=ft+K*(Fe&&Et>ft?1:-1),xe=vt+lt*ce(Et),Ie=Ge+Se*de(Et),we=le(xe,Ie,lt,Se,$e,0,Fe,Fn,Rn,[Et,yn,vt,Ge])}Jt=Et-ft;var Cn=ce(ft),bn=de(ft),Gn=ce(Et),yi=de(Et),Qn=pe(Jt/4),ti=4/3*(lt*Qn),Bi=4/3*(Se*Qn),ho=[Be,st],qr=[Be+ti*bn,st-Bi*Cn],On=[xe+ti*yi,Ie-Bi*Gn],Ti=[xe,Ie];if(qr[0]=2*ho[0]-qr[0],qr[1]=2*ho[1]-qr[1],U)return[qr,On,Ti].concat(we);we=[qr,On,Ti].concat(we).join().split(",");for(var Oo=[],zr=we.length,Wn=0;Wn<zr;Wn++)Oo[Wn]=Wn%2?te(we[Wn-1],we[Wn],ne).y:te(we[Wn],we[Wn+1],ne).x;return Oo}function Ae(Be){if(!Be)return null;var st={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},lt=[];return String(Be).replace(L,function(Se,$e,qe){var Fe=[],xe=$e.toLowerCase();for(qe.replace(M,function(Ie,U){U&&Fe.push(+U)}),xe==="m"&&Fe.length>2&&(lt.push([$e].concat(Fe.splice(0,2))),xe="l",$e=$e==="m"?"l":"L");Fe.length>=st[xe]&&(lt.push([$e].concat(Fe.splice(0,st[xe]))),!!st[xe]););}),lt}function ke(Be){if((!Array.isArray(Be)||!Array.isArray(Be&&Be[0]))&&(Be=Ae(Be)),!Be||!Be.length)return[["M",0,0]];for(var st=[],lt=0,Se=0,$e=0,qe=0,Fe=0,xe,Ie=Be.length,U=Fe;U<Ie;U++){var K=[];st.push(K);var ne=Be[U];if(xe=ne[0],xe!=xe.toUpperCase()){K[0]=xe.toUpperCase();var we,fe;switch(K[0]){case"A":K[1]=ne[1],K[2]=ne[2],K[3]=ne[3],K[4]=ne[4],K[5]=ne[5],K[6]=+ne[6]+lt,K[7]=+ne[7]+Se;break;case"V":K[1]=+ne[1]+Se;break;case"H":K[1]=+ne[1]+lt;break;case"M":for($e=+ne[1]+lt,qe=+ne[2]+Se,we=ne.length,fe=1;fe<we;fe++)K[fe]=+ne[fe]+(fe%2?lt:Se);break;default:for(we=ne.length,fe=1;fe<we;fe++)K[fe]=+ne[fe]+(fe%2?lt:Se);break}}else for(var ze=ne.length,tt=0;tt<ze;tt++)K[tt]=ne[tt];switch(K[0]){case"Z":lt=+$e,Se=+qe;break;case"H":lt=K[1];break;case"V":Se=K[1];break;case"M":$e=K[K.length-2],qe=K[K.length-1],lt=K[K.length-2],Se=K[K.length-1];break;default:lt=K[K.length-2],Se=K[K.length-1];break}}return st}function rt(Be){var st=ke(Be),lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Se(we,fe,ze){var tt,Je;if(!we)return["C",fe.x,fe.y,fe.x,fe.y,fe.x,fe.y];switch(we[0]in{T:1,Q:1}||(fe.qx=null,fe.qy=null),we[0]){case"M":fe.X=we[1],fe.Y=we[2];break;case"A":parseFloat(we[1])===0||parseFloat(we[2])===0?we=["L",we[6],we[7]]:we=["C"].concat(le.apply(0,[fe.x,fe.y].concat(we.slice(1))));break;case"S":ze==="C"||ze==="S"?(tt=fe.x*2-fe.bx,Je=fe.y*2-fe.by):(tt=fe.x,Je=fe.y),we=["C",tt,Je].concat(we.slice(1));break;case"T":ze==="Q"||ze==="T"?(fe.qx=fe.x*2-fe.qx,fe.qy=fe.y*2-fe.qy):(fe.qx=fe.x,fe.qy=fe.y),we=["C"].concat(j(fe.x,fe.y,fe.qx,fe.qy,we[1],we[2]));break;case"Q":fe.qx=we[1],fe.qy=we[2],we=["C"].concat(j(fe.x,fe.y,we[1],we[2],we[3],we[4]));break;case"H":we=["L"].concat(we[1],fe.y);break;case"V":we=["L"].concat(fe.x,we[1]);break}return we}function $e(we,fe){if(we[fe].length>7){we[fe].shift();for(var ze=we[fe];ze.length;)qe[fe]="A",we.splice(fe++,0,["C"].concat(ze.splice(0,6)));we.splice(fe,1),Ie=st.length}}for(var qe=[],Fe="",xe="",Ie=st.length,U=0;U<Ie;U++){st[U]&&(Fe=st[U][0]),Fe!=="C"&&(qe[U]=Fe,U>0&&(xe=qe[U-1])),st[U]=Se(st[U],lt,xe),qe[U]!=="A"&&Fe==="C"&&(qe[U]="C"),$e(st,U);var K=st[U],ne=K.length;lt.x=K[ne-2],lt.y=K[ne-1],lt.bx=parseFloat(K[ne-4])||lt.x,lt.by=parseFloat(K[ne-3])||lt.y}return(!st[0][0]||st[0][0]!=="M")&&st.unshift(["M",0,0]),st}return function(Be){return rt(Be).join(",").split(",").join(" ")}}(),d.namespace=t,d.g=eH,d}(),pp="[object Arguments]",dw="[object Array]",v0="[object Boolean]",N1="[object Date]",aO="[object Error]",tH="[object Function]",Jg="[object Map]",b0="[object Number]",nH="[object Null]",pd="[object Object]",M1="[object RegExp]",Qg="[object Set]",_0="[object String]",x0="[object Symbol]",iH="[object Undefined]",rH="[object WeakMap]",F1="[object ArrayBuffer]",R1="[object DataView]",lO="[object Float32Array]",cO="[object Float64Array]",uO="[object Int8Array]",dO="[object Int16Array]",hO="[object Int32Array]",fO="[object Uint8Array]",pO="[object Uint8ClampedArray]",gO="[object Uint16Array]",mO="[object Uint32Array]",oH={[pp]:!0,[dw]:!0,[F1]:!0,[R1]:!0,[v0]:!0,[N1]:!0,[lO]:!0,[cO]:!0,[uO]:!0,[dO]:!0,[hO]:!0,[Jg]:!0,[b0]:!0,[pd]:!0,[M1]:!0,[Qg]:!0,[_0]:!0,[x0]:!0,[fO]:!0,[pO]:!0,[gO]:!0,[mO]:!0,[aO]:!1,[tH]:!1,[rH]:!1},B1="\\ud800-\\udfff",sH="\\u0300-\\u036f",aH="\\ufe20-\\ufe2f",lH="\\u20d0-\\u20ff",cH="\\u1ab0-\\u1aff",uH="\\u1dc0-\\u1dff",dH=sH+aH+lH+cH+uH,yO="\\u2700-\\u27bf",vO="a-z\\xdf-\\xf6\\xf8-\\xff",hH="\\xac\\xb1\\xd7\\xf7",fH="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pH="\\u2000-\\u206f",gH=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bO="A-Z\\xc0-\\xd6\\xd8-\\xde",mH="\\ufe0e\\ufe0f",_O=hH+fH+pH+gH,xO="['’]",CA=`[${_O}]`,$1=`[${dH}]`,wO="\\d",yH=`[${yO}]`,CO=`[${vO}]`,TO=`[^${B1}${_O+wO+yO+vO+bO}]`,hw="\\ud83c[\\udffb-\\udfff]",vH=`(?:${$1}|${hw})`,SO=`[^${B1}]`,q1="(?:\\ud83c[\\udde6-\\uddff]){2}",z1="[\\ud800-\\udbff][\\udc00-\\udfff]",ud=`[${bO}]`,bH="\\u200d",TA=`(?:${CO}|${TO})`,_H=`(?:${ud}|${TO})`,SA=`(?:${xO}(?:d|ll|m|re|s|t|ve))?`,EA=`(?:${xO}(?:D|LL|M|RE|S|T|VE))?`,EO=`${vH}?`,AO=`[${mH}]?`,xH=`(?:${bH}(?:${[SO,q1,z1].join("|")})${AO+EO})*`,wH="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CH="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kO=AO+EO+xH,TH=`(?:${[yH,q1,z1].join("|")})${kO}`,SH=RegExp([`${ud}?${CO}+${SA}(?=${[CA,ud,"$"].join("|")})`,`${_H}+${EA}(?=${[CA,ud+TA,"$"].join("|")})`,`${ud}?${TA}+${SA}`,`${ud}+${EA}`,CH,wH,`${wO}+`,TH].join("|"),"g"),U1=200,fw="__hash_undefined__",EH=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,AH=`[${B1}]`,kH=`${SO}${$1}?`,IH=`(?:${[kH,$1,q1,z1,AH].join("|")})`,IO=RegExp(`${hw}(?=${hw})|${IH+kO}`,"g"),PH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OH=/^\w*$/,LH=46,DH=/\\(\\)?/g,NH=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),MH=/^(?:0|[1-9]\d*)$/,FH=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),RH=4294967294,BH=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,PO=e=>IO.test(e),$H=e=>e.match(IO)||[],qH=e=>e.split(""),OO=e=>PO(e)?$H(e):qH(e),zH=e=>e==null?[]:Zg(e).map(t=>e[t]),Zg=e=>Zo(e)?LO(e):Object.keys(Object(e)),UH=e=>{if(!w0(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},LO=(e,t)=>{const n=Array.isArray(e),i=!n&&As(e)&&Xo(e)===pp,r=!n&&!i&&tm(e),o=n||i||r,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||j1(u,s)))&&a.push(u);return a},dy=(e,t)=>{let{length:n}=e;for(;n--;)if(Wh(e[n][0],t))return n;return-1},Wh=(e,t)=>e===t||e!==e&&t!==t,As=e=>e!=null&&typeof e=="object",pv=(e,t,n)=>{if(!Ln(n))return!1;const i=typeof t;return(i=="number"?Zo(n)&&t>-1&&t<n.length:i=="string"&&t in n)?Wh(n[t],e):!1},HH=e=>As(e)&&Xo(e)==Qg,VH=e=>As(e)&&Xo(e)==Jg,w0=e=>{const t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},jh=(e,t,n)=>{const i=e[t];(!(hasOwnProperty.call(e,t)&&Wh(i,n))||n===void 0&&!(t in e))&&(e[t]=n)},em=(e,t,n)=>{let i=-1;const r=t.length;for(;++i<r;){const o=t[i];jh(n,o,e[o])}return n},Zo=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Lh=e=>typeof e=="symbol"||As(e)&&Xo(e)===x0,GH=e=>{const t=e.length;let n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},H1=(e,t)=>{let n=-1;const i=e.length;for(t||(t=new Array(i));++n<i;)t[n]=e[n];return t},Xo=e=>e==null?e===void 0?iH:nH:Object.prototype.toString.call(e),V1=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},DO=(e,t)=>{const n=t?V1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},WH=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},NO=e=>typeof e.constructor=="function"&&!w0(e)?Object.create(Object.getPrototypeOf(e)):{},G1=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),jH=(e,t)=>em(e,G1(e),t);function KH(e,t){const n=t?V1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}const YH=(e,t,n)=>{const i=e.constructor;switch(t){case F1:return V1(e);case v0:case N1:return new i(+e);case R1:return KH(e,n);case lO:case cO:case uO:case dO:case hO:case fO:case pO:case gO:case mO:return DO(e,n);case Jg:return new i(e);case b0:case _0:return new i(e);case M1:return WH(e);case Qg:return new i;case x0:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},tm=e=>As(e)&&EH.test(Xo(e)),pw=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...G1(Object(e))),t},MO=e=>{const t=[];for(;e;)t.push(...G1(e)),e=Object.getPrototypeOf(Object(e));return t},FO=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...MO(e)),t},hy=({__data__:e},t)=>{const n=e;return aV(t)?n[typeof t=="string"?"string":"hash"]:n.map},XH=(e,t,n,i)=>{const r=pw(e),o=r.length,a=pw(t).length;if(o!=a)return!1;let l,u=o;for(;u--;)if(l=r[u],!hasOwnProperty.call(t,l))return!1;const f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;let m=!0;i.set(e,t),i.set(t,e);let b;for(;++u<o;){l=r[u];const x=e[l],C=t[l];if(!(x===C||n(x,C,i))){m=!1;break}b||(b=l=="constructor")}if(m&&!b){const x=e.constructor,C=t.constructor;x!=C&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof C=="function"&&C instanceof C)&&(m=!1)}return i.delete(e),i.delete(t),m},C0=(e,t,n)=>e===t?!0:e==null||t==null||!As(e)&&!As(t)?e!==e&&t!==t:JH(e,t,C0,n),JH=(e,t,n,i)=>{let r=Array.isArray(e);const o=Array.isArray(t);let s=r?dw:Xo(e),a=o?dw:Xo(t);s=s==pp?pd:s,a=a==pp?pd:a;let l=s==pd;const u=a==pd,f=s==a;if(f&&!l)return i||(i=new Ad),r||tm(e)?RO(e,t,!1,n,i):eV(e,t,s,n,i);const d=l&&hasOwnProperty.call(e,"__wrapped__"),m=u&&hasOwnProperty.call(t,"__wrapped__");if(d||m){const b=d?e.value():e,x=m?t.value():t;return i||(i=new Ad),n(b,x,i)}return f?(i||(i=new Ad),XH(e,t,n,i)):!1},RO=(e,t,n,i,r)=>{const s=e.length,a=t.length;if(s!=a)return!1;const l=r.get(e),u=r.get(t);if(l&&u)return l==t&&u==e;let f=-1,d=!0;const m=n?new mp:void 0;for(r.set(e,t),r.set(t,e);++f<s;){const b=e[f],x=t[f];if(m){if(!QH(t,(C,k)=>{if(!ZH(m,k)&&(b===C||i(b,C,r)))return m.push(k)})){d=!1;break}}else if(!(b===x||i(b,x,r))){d=!1;break}}return r.delete(e),r.delete(t),d},QH=(e,t)=>{let n=-1;const i=e==null?0:e.length;for(;++n<i;)if(t(e[n],n,e))return!0;return!1},ZH=(e,t)=>e.has(t),AA=(e,t,n,i)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),i)),eV=(e,t,n,i,r)=>{switch(n){case R1:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,AA(e,t,i,r));case F1:return AA(e,t,i,r);case v0:case N1:case b0:return Wh(+e,+t);case aO:return e.name==t.name&&e.message==t.message;case M1:case _0:return e==`${t}`;case Jg:let o=BO;case Qg:if(o||(o=T0),e.size!=t.size)return!1;const s=r.get(e);if(s)return s==t;r.set(e,t);const a=RO(o(e),o(t),!0,i,r);return r.delete(e),a;case x0:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},BO=e=>{let t=-1,n=Array(e.size);return e.forEach((i,r)=>{n[++t]=[r,i]}),n},T0=e=>{let t=-1;const n=new Array(e.size);return e.forEach(i=>{n[++t]=i}),n},W1=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return n==="number"||n==="boolean"||e==null||Lh(e)?!0:OH.test(e)||!PH.test(e)||t!=null&&e in Object(t)},tV=e=>{const t=[];return e.charCodeAt(0)===LH&&t.push(""),e.replace(NH,(n,i,r,o)=>{let s=n;r?s=o.replace(DH,"$1"):i&&(s=i.trim()),t.push(s)}),t},fc=(e,t)=>Array.isArray(e)?e:W1(e,t)?[e]:tV(`${e}`),nm=(e,t)=>{t=fc(t,e);let n=0;const i=t.length;for(;e!=null&&n<i;)e=e[pc(t[n])],n++;return n&&n==i?e:void 0};function nV(e,t){if(e!==t){const n=e!==void 0,i=e===null,r=e===e,o=Lh(e),s=t!==void 0,a=t===null,l=t===t,u=Lh(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function iV(e,t,n){let i=-1;const r=e.criteria,o=t.criteria,s=r.length,a=n.length;for(;++i<s;){const l=i<a?n[i]:null,f=(l&&typeof l=="function"?l:nV)(r[i],o[i]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const $O=(e,t)=>{let n=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,i=!0;const r=[],o=t.length;if(!e.length)return r;t.length>=U1&&(n=(s,a)=>s.has(a),i=!1,t=new mp(t));e:for(let s in e){let a=e[s];const l=a;if(a=a!==0?a:0,i&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;r.push(a)}else n(t,l)||r.push(a)}return r},pc=e=>{if(typeof e=="string"||Lh(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},yu=(e,t=!1,n=!1,i=!0,r,o,s,a)=>{let l;if(r&&(l=s?r(e,o,s,a):r(e)),l!==void 0)return l;if(!Ln(e))return e;const u=Array.isArray(e),f=Xo(e);if(u){if(l=GH(e),!t)return H1(e,l)}else{const x=typeof e=="function";if(f===pd||f===pp||x&&!s){if(l=n||x?{}:NO(e),!t)return n?rV(e,em(e,Object.keys(e),l)):jH(e,Object.assign(l,e))}else{if(x||!oH[f])return s?e:{};l=YH(e,f,t)}}a||(a=new Ad);const d=a.get(e);if(d)return d;if(a.set(e,l),VH(e))return e.forEach((x,C)=>{l.set(C,yu(x,t,n,i,r,C,e,a))}),l;if(HH(e))return e.forEach(x=>{l.add(yu(x,t,n,i,r,x,e,a))}),l;if(tm(e))return l;const b=u?void 0:(i?n?FO:pw:n?zO:Zg)(e);return(b||e).forEach((x,C)=>{b&&(C=x,x=e[C]),jh(l,C,yu(x,t,n,i,r,C,e,a))}),l},rV=(e,t)=>em(e,MO(e),t),qO=(e,t)=>t.length<2?e:nm(e,t.slice(0,-1)),oV=(e,t,n)=>{if(!Ln(e))return e;t=fc(t,e);const i=t.length,r=i-1;let o=-1,s=e;for(;s!=null&&++o<i;){const a=pc(t[o]);let l=n;if(o!=r){const u=s[a];l=void 0,l===void 0&&(l=Ln(u)?u:j1(t[o+1])?[]:{})}jh(s,a,l),s=s[a]}return e},j1=(e,t)=>{const n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&MH.test(e))&&e>-1&&e%1==0&&e<t},sV=(e,t)=>{t=fc(t,e),e=qO(e,t);const n=t[t.length-1];return e==null||delete e[pc(n)]},aV=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},zO=e=>{const t=[];for(const n in e)t.push(n);return t},lV=e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t},kA=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function UO(e,t=!1){return(n,...i)=>{let r=-1,o=i.length,s=o>1?i[o-1]:void 0;const a=o>2?i[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&pv(i[0],i[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++r<o;){const l=i[r];l&&e(n,l,r,s)}return n}}const K1=(e,t,n,i,r)=>{e!==t&&Eo(t,(o,s)=>{if(Ln(o))r||(r=new Ad),cV(e,t,s,n,K1,i,r);else{let a=i?i(e[s],o,`${s}`,e,t,r):void 0;a===void 0&&(a=o),gw(e,s,a)}})},cV=(e,t,n,i,r,o,s)=>{const a=kA(e,n),l=kA(t,n),u=s.get(l);if(u){gw(e,n,u);return}let f=o?o(a,l,`${n}`,e,t,s):void 0,d=f===void 0;if(d){const m=Array.isArray(l),b=!m&&tm(l);f=l,m||b?Array.isArray(a)?f=a:As(a)&&Zo(a)?f=H1(a):b?(d=!1,f=DO(l,!0)):f=[]:Pi(l)||gp(l)?(f=a,gp(a)?f=lV(a):(typeof a=="function"||!Ln(a))&&(f=NO(l))):d=!1}d&&(s.set(l,f),r(f,l,i,o,s),s.delete(l)),gw(e,n,f)},gw=(e,t,n)=>{(n!==void 0&&!Wh(e[t],n)||n===void 0&&!(t in e))&&jh(e,t,n)};function uV(e,t,n){const i=Object(e),r=n(e);let{length:o}=r,s=-1;for(;o--;){const a=r[++s];if(t(i[a],a,i)===!1)break}return e}const dV=(e,t)=>e&&uV(e,t,Zg),Y1=(e,t)=>{if(e==null)return e;if(!Zo(e))return dV(e,t);const n=e.length,i=Object(e);let r=-1;for(;++r<n&&t(i[r],r,i)!==!1;);return e};function hV(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const fV=Set&&1/T0(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function HO(e,t,n,i,r,o){return Ln(e)&&Ln(t)&&(o.set(t,e),K1(e,t,void 0,HO,o),o.delete(t)),e}function pV(e,t,n){t.length?t=t.map(s=>Array.isArray(s)?a=>nm(a,s.length===1?s[0]:s):s):t=[s=>s];let i=-1,r=-1;const o=Zo(e)?new Array(e.length):[];return Y1(e,s=>{const a=t.map(l=>l(s));o[++r]={criteria:a,index:++i,value:s}}),gV(o,(s,a)=>iV(s,a,n))}function gV(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function VO(e){return e===e&&!Ln(e)}function GO(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function WO(e,t){return e!=null&&OV(e,t,PV)}function mV(e,t){return W1(e)&&VO(t)?GO(pc(e),t):n=>{const i=nm(n,e);return i===void 0&&i===t?WO(n,e):C0(t,i)}}function jO(e){const t=yV(e);return t.length===1&&t[0][2]?GO(t[0][0],t[0][1]):n=>n===e||vV(n,e,t)}function yV(e){const t=Zg(e);let n=t.length;for(;n--;){const i=t[n],r=e[i];t[n]=[i,r,VO(r)]}return t}function vV(e,t,n,i){let r=n.length;const o=r,s=!i;if(e==null)return!o;let a,l;for(e=Object(e);r--;)if(a=n[r],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++r<o;){a=n[r];const u=a[0],f=e[u],d=a[1];if(s&&a[2]){if(f===void 0&&!(u in e))return!1}else{const m=new Ad;if(i&&(l=i(f,d,u,e,t,m)),!(l===void 0?C0(d,f,m):l))return!1}}return!0}function bV(e){return W1(e)?_V(pc(e)):xV(e)}function _V(e){return t=>t==null?void 0:t[e]}function xV(e){return t=>nm(t,e)}function wV(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?mV(e[0],e[1]):jO(e):bV(e)}function S0(){const e=wV;return arguments.length?e(arguments[0]):e}const CV=(e,t,n,i)=>{let r=-1;const o=e==null?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n},TV=(e,t,n,i,r)=>(r(e,(o,s,a)=>{n=i?(i=!1,o):t(n,o,s,a)}),n);function SV(e,t,n){const i=Array.isArray(e)?CV:TV,r=arguments.length<3;return i(e,t,n,r,Y1)}const EV=e=>Array.isArray(e)||gp(e)||!!(e&&e[Symbol.isConcatSpreadable]);function KO(e,t,n,i,r){let o=-1;const s=e.length;for(n||(n=EV),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?KO(a,t-1,n,i,r):r.push(...a):i||(r[r.length]=a)}return r}const gp=e=>As(e)&&Xo(e)=="[object Arguments]",AV=(e,t)=>kV(e,t,(n,i)=>WO(e,i)),kV=(e,t,n)=>{let i=-1;const r=t.length,o={};for(;++i<r;){const s=t[i],a=nm(e,s);n(a,s)&&oV(o,fc(s,e),a)}return o},IV=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,PV=(e,t)=>e!=null&&t in Object(e),OV=(e,t,n)=>{t=fc(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var s=pc(t[i]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++i!=r?o:(r=e==null?0:e.length,!!r&&IV(r)&&j1(s,r)&&(Array.isArray(e)||gp(e)))},LV=e=>e.match(BH),DV=e=>e.match(SH),NV=(e,t)=>t===void 0?(FH(e)?DV(e):LV(e))||[]:e.match(t)||[],MV=(e,t,n)=>{const{length:i}=e;return n=n===void 0?i:n,!t&&n>=i?e:e.slice(t,n)},FV=RV("toUpperCase");function RV(e){return t=>{if(!t)return"";const n=PO(t)?OO(t):void 0,i=n?n[0]:t[0],r=n?MV(n,1).join(""):t.slice(1);return i[e]()+r}}function BV(e){return jO(yu(e,!0))}let Ad=class{constructor(t){const n=this.__data__=new cx(t);this.size=n.size}clear(){this.__data__=new cx,this.size=0}delete(t){const n=this.__data__,i=n.delete(t);return this.size=n.size,i}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let i=this.__data__;if(i instanceof cx){const r=i.__data__;if(r.length<U1-1)return r.push([t,n]),this.size=++i.size,this;i=this.__data__=new YO(r)}return i.set(t,n),this.size=i.size,this}},cx=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.__data__=[],this.size=0}delete(t){const n=this.__data__,i=dy(n,t);if(i<0)return!1;const r=n.length-1;return i==r?n.pop():n.splice(i,1),--this.size,!0}get(t){const n=this.__data__,i=dy(n,t);return i<0?void 0:n[i][1]}has(t){return dy(this.__data__,t)>-1}set(t,n){const i=this.__data__,r=dy(i,t);return r<0?(++this.size,i.push([t,n])):i[r][1]=n,this}},YO=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.size=0,this.__data__={hash:new IA,map:new Map,string:new IA}}delete(t){const n=hy(this,t).delete(t);return this.size-=n?1:0,n}get(t){return hy(this,t).get(t)}has(t){return hy(this,t).has(t)}set(t,n){const i=hy(this,t),r=i.size;return i.set(t,n),this.size+=i.size==r?0:1,this}},IA=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){const i=this.__data__[t];return i===fw?void 0:i}has(t){return this.__data__[t]!==void 0}set(t,n){const i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n===void 0?fw:n,this}};class mp{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.__data__=new YO;++n<i;)this.add(t[n])}add(t){return this.__data__.set(t,fw),this}has(t){return this.__data__.has(t)}}mp.prototype.push=mp.prototype.add;const $V=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===v0},Ln=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},to=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===b0},Wi=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===_0},xt=UO((e,t)=>{if(w0(t)||Zo(t)){em(t,Zg(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&jh(e,n,t[n])}),qV=(e,...t)=>{let n=-1,i=t.length;const r=i>2?t[2]:void 0;for(r&&pv(t[0],t[1],r)&&(i=1);++n<i;){const o=t[n];if(o==null)continue;const s=Object.keys(o),a=s.length;let l=-1;for(;++l<a;){const u=s[l],f=e[u];(f===void 0||Wh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},Ao=qV,zV=function(...t){return t.push(void 0,HO),Vi.apply(void 0,t)},X1=zV,na=(e,t,...n)=>{let i=-1;const r=typeof t=="function",o=Zo(e)?new Array(e.length):[];return Y1(e,s=>{o[++i]=r?t.apply(s,n):UV(s,t,...n)}),o},UV=(e,t,...n)=>{t=fc(t,e),e=qO(e,t);const i=e==null?e:e[pc(hV(t))];return i==null?void 0:i.apply(e,n)},XO=(e,t,n)=>{let i=0,r=e==null?0:e.length;if(r==0)return 0;n=S0(n,2),t=n(t);const o=t!==t,s=t===null,a=Lh(t),l=t===void 0;for(;i<r;){let u;const f=Math.floor((i+r)/2),d=n(e[f]),m=d!==void 0,b=d===null,x=d===d,C=Lh(d);o?u=x:l?u=x&&m:s?u=x&&m&&!b:a?u=x&&m&&!b&&!C:b||C?u=!1:u=d<t,u?i=f+1:r=f}return Math.min(r,RH)},Kh=(e,t)=>{let n=-1,i=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=S0(t,2);let r=!0;const{length:o}=e,s=[];let a=s;if(o>=U1){const l=t?null:fV(e);if(l)return T0(l);r=!1,i=(u,f)=>u.has(f),a=new mp}else a=t?[]:s;e:for(;++n<o;){let l=e[n];const u=t?t(l):l;if(l=l!==0?l:0,r&&u===u){let f=a.length;for(;f--;)if(a[f]===u)continue e;t&&a.push(u),s.push(l)}else i(a,u)||(a!==s&&a.push(u),s.push(l))}return s},Ji=e=>yu(e),Or=e=>yu(e,!0),jo=e=>{if(e==null)return!0;if(Zo(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||tm(e)||gp(e)))return!e.length;const t=Xo(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(w0(e))return!UH(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Wa=(e,t)=>C0(e,t),Vn=e=>typeof e=="function",Pi=e=>{if(!As(e)||Xo(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},In=e=>{if(!e)return[];if(Zo(e))return Wi(e)?OO(e):H1(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const i=e[Symbol.iterator]();let r;const o=[];for(;!(r=i.next()).done;)o.push(r.value);return o}const t=Xo(e);return(t==Jg?BO:t==Qg?T0:zH)(e)};function HV(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let i,r,o,s,a,l,u=0,f=!1,d=!1,m=!0;const b=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Ln(n)&&(f=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,t):o,m="trailing"in n?!!n.trailing:m);function x(g){const L=i,M=r;return i=r=void 0,u=g,s=e.apply(M,L),s}function C(g,L){return b?(window.cancelAnimationFrame(a),window.requestAnimationFrame(g)):setTimeout(g,L)}function k(g){if(b)return window.cancelAnimationFrame(g);clearTimeout(g)}function T(g){return u=g,a=C(F,t),f?x(g):s}function A(g){const L=g-l,M=g-u,z=t-L;return d?Math.min(z,o-M):z}function R(g){const L=g-l,M=g-u;return l===void 0||L>=t||L<0||d&&M>=o}function F(){const g=Date.now();if(R(g))return Z(g);a=C(F,A(g))}function Z(g){return a=void 0,m&&i?x(g):(i=r=void 0,s)}function ee(...g){const L=Date.now(),M=R(L);if(i=g,r=this,l=L,M){if(a===void 0)return T(l);if(d)return a=C(F,t),x(l)}return a===void 0&&(a=C(F,t)),s}return ee.cancel=()=>{a!==void 0&&k(a),u=0,i=l=r=a=void 0},ee.flush=()=>a===void 0?s:Z(Date.now()),ee.pending=()=>a!==void 0,ee}const VV=(e,t)=>(t=S0(t,2),SV(e,(n,i,r)=>(r=t(i),hasOwnProperty.call(n,r)?n[r].push(i):jh(n,r,[i]),n),{})),qy=(e,t=[])=>{if(e==null)return[];const n=t.length;return n>1&&pv(e,t[0],t[1])?t=[]:n>2&&pv(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[S0(t,2)]),pV(e,t.flat(1),[])},GV=e=>(e==null?0:e.length)?KO(e,1/0):[],PA=(e,...t)=>Zo(e)?$O(e,t):[],WV=(e,...t)=>As(e)&&Zo(e)?$O(e,t.flat(1)):[],mw=(...e)=>{const t=e.flat(1);return Kh(t)},ia=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,i=e;for(;++n<t.length;){if(!i||!hasOwnProperty.call(i,t[n]))return!1;i=i[t[n]]}return!0},ei=(e,t,n)=>{t=fc(t,e);let i=-1,r=t.length;for(r||(r=1,e=void 0);++i<r;){let o=e==null?void 0:e[pc(t[i])];o===void 0&&(i=r,o=n),e=typeof o=="function"?o.call(e):o}return e},im=(e,...t)=>{let n={};if(e==null)return n;let i=!1;t=t.flat(1).map(o=>(o=fc(o,e),i||(i=o.length>1),o)),em(e,FO(e),n),i&&(n=yu(n,!0,!0,!0,o=>Pi(o)?void 0:o));let r=t.length;for(;r--;)sV(n,t[r]);return n},jV=(e,...t)=>e==null?{}:AV(e,t.flat(1/0)),Eo=(e,t=n=>n)=>{let n=-1;const i=Object(e),r=Zo(e)?LO(e,!0):zO(e);let o=r.length;for(;o--;){const s=r[++n];if(t(i[s],s,i)===!1)break}},JO=(e="")=>NV(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,i)=>(n=n.toLowerCase(),t+(i?FV(n):n)),"");let KV=0;const yp=(e="")=>{const t=++KV;return`${e}`+t},Vi=UO((e,t,n,i)=>{K1(e,t,n,i)},!0);class YV{constructor(){this.map=new WeakMap}has(t,n){return n===void 0?this.map.has(t):n in this.map.get(t)}create(t){return this.has(t)||this.map.set(t,Object.create(null)),this.get(t)}get(t,n){if(!this.has(t))return;const i=this.map.get(t);return n===void 0?i:i[n]}set(t,n,i){if(n===void 0)return;const r=this.create(t);typeof n=="string"?r[n]=i:Object.assign(r,n)}remove(t,n){if(this.has(t))if(n===void 0)this.map.delete(t);else{const i=this.map.get(t);delete i[n]}}}const QO=YV,Yo=new QO,ZO=new QO,Tu=function(e,t){if(!(this instanceof Tu))return new Tu(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?zy:Uy,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Object.assign(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this.envelope=!0};Tu.prototype={constructor:Tu,isDefaultPrevented:Uy,isPropagationStopped:Uy,isImmediatePropagationStopped:Uy,preventDefault:function(){const e=this.originalEvent;this.isDefaultPrevented=zy,e&&e.preventDefault()},stopPropagation:function(){const e=this.originalEvent;this.isPropagationStopped=zy,e&&e.stopPropagation()},stopImmediatePropagation:function(){const e=this.originalEvent;this.isImmediatePropagationStopped=zy,e&&e.stopImmediatePropagation(),this.stopPropagation()}};["altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which"].forEach(e=>XV(e));function XV(e){Object.defineProperty(Tu.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})}function zy(){return!0}function Uy(){return!1}const Dh=typeof window<"u"?window.document:null,JV=Dh&&Dh.documentElement,eL=/^([^.]*)(?:\.(.+)|)/,tL=/[^\x20\t\r\n\f]+/g,dt=function(e){return new dt.Dom(e)};dt.fn=dt.prototype={constructor:dt,length:0};dt.guid=1;dt.data=ZO;dt.merge=function(e,t){let n=+t.length,i=e.length;for(let r=0;r<n;r++)e[i++]=t[r];return e.length=i,e};dt.parseHTML=function(e){const t=Dh.implementation.createHTMLDocument(),n=t.createElement("base");n.href=Dh.location.href,t.head.appendChild(n),t.body.innerHTML=e;const i=t.getElementsByTagName("script");for(let r=0;r<i.length;r++)i[r].remove();return Array.from(t.body.childNodes)};typeof Symbol=="function"&&(dt.fn[Symbol.iterator]=Array.prototype[Symbol.iterator]);dt.fn.toArray=function(){return Array.from(this)};dt.fn.pushStack=function(e){const t=dt.merge(this.constructor(),e);return t.prevObject=this,t};dt.fn.find=function(e){const[t]=this,n=this.pushStack([]);if(!t)return n;const{nodeType:i}=t;return i!==1&&i!==9&&i!==11||(typeof e!="string"?t!==e&&t.contains(e)&&dt.merge(n,[e]):dt.merge(n,t.querySelectorAll(e))),n};dt.fn.add=function(e,t){const n=dt(e).toArray(),i=this.toArray(),r=this.pushStack([]);return dt.merge(r,Kh(i.concat(n))),r};dt.fn.addBack=function(){return this.add(this.prevObject)};dt.fn.filter=function(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];i.matches(e)&&t.push(i)}return this.pushStack(t)};const QV=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function ZV(e){return e[0]==="<"&&e[e.length-1]===">"&&e.length>=3}const nL=function(e){if(!e)return this;if(typeof e=="function")throw new Error("function not supported");if(arguments.length>1)throw new Error("selector with context not supported");if(e.nodeType)return this[0]=e,this.length=1,this;let t;if(ZV(e+""))t=[null,e,null];else if(typeof e=="string")t=QV.exec(e);else return dt.merge(this,e);if(!t||!t[1])return e9.find(e);if(t[1])return dt.merge(this,dt.parseHTML(t[1])),this;const n=Dh.getElementById(t[2]);return n&&(this[0]=n,this.length=1),this};dt.Dom=nL;nL.prototype=dt.fn;dt.Event=Tu;dt.event={special:Object.create(null)};dt.event.has=function(e,t){const n=Yo.get(e,"events");return n?t?Array.isArray(n[t])&&n[t].length>0:!0:!1};dt.event.on=function(e,t,n,i,r,o){if(typeof t=="object"){typeof n!="string"&&(i=i||n,n=void 0);for(let s in t)dt.event.on(e,s,n,i,t[s],o);return e}if(i==null&&r==null?(r=n,i=n=void 0):r==null&&(typeof n=="string"?(r=i,i=void 0):(r=i,i=n,n=void 0)),!r)return e;if(o===1){const s=r;r=function(a){return dt().off(a),s.apply(this,arguments)},r.guid=s.guid||(s.guid=dt.guid++)}for(let s=0;s<e.length;s++)dt.event.add(e[s],t,r,i,n)};dt.event.add=function(e,t,n,i,r){if(typeof e!="object")return;const o=Yo.create(e);let s;n.handler&&(s=n,n=s.handler,r=s.selector),r&&JV.matches(r),n.guid||(n.guid=dt.guid++);let a;(a=o.events)||(a=o.events=Object.create(null));let l;(l=o.handle)||(l=o.handle=function(d){return typeof dt<"u"?dt.event.dispatch.apply(e,arguments):void 0});const u=(t||"").match(tL)||[""];let f=u.length;for(;f--;){const[,d,m=""]=eL.exec(u[f]);if(!d)continue;const b=m.split(".").sort();let x=dt.event.special[d];const C=x&&(r?x.delegateType:x.bindType)||d;x=dt.event.special[C];const k=Object.assign({type:C,origType:d,data:i,handler:n,guid:n.guid,selector:r,namespace:b.join(".")},s);let T;(T=a[C])||(T=a[C]=[],T.delegateCount=0,(!x||!x.setup||x.setup.call(e,i,b,l)===!1)&&e.addEventListener&&e.addEventListener(C,l)),x&&x.add&&(x.add.call(e,k),k.handler.guid||(k.handler.guid=n.guid)),r?T.splice(T.delegateCount++,0,k):T.push(k)}};dt.event.remove=function(e,t,n,i,r){const o=Yo.get(e);if(!o||!o.events)return;const s=o.events,a=(t||"").match(tL)||[""];let l=a.length;for(;l--;){const[,u,f=""]=eL.exec(a[l]);if(!u){for(const A in s)dt.event.remove(e,A+a[l],n,i,!0);continue}const d=dt.event.special[u],m=d&&(i?d.delegateType:d.bindType)||u,b=s[m];if(!b||b.length===0)continue;const x=f.split(".").sort(),C=f?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k=b.length;let T=k;for(;T--;){const A=b[T];(r||u===A.origType)&&(!n||n.guid===A.guid)&&(!C||C.test(A.namespace))&&(!i||i===A.selector||i==="**"&&A.selector)&&(b.splice(T,1),A.selector&&b.delegateCount--,d&&d.remove&&d.remove.call(e,A))}k&&b.length===0&&((!d||!d.teardown||d.teardown.call(e,x,o.handle)===!1)&&e.removeEventListener&&e.removeEventListener(m,o.handle),delete s[m])}jo(s)&&(Yo.remove(e,"handle"),Yo.remove(e,"events"))};dt.event.dispatch=function(e){const t=this,n=dt.event.fix(e);n.delegateTarget=t;const i=Array.from(arguments);i[0]=n;const r=Yo.get(t,"events"),o=r&&r[n.type]||[],s=dt.event.special[n.type];if(s&&s.preDispatch&&s.preDispatch.call(t,n)===!1)return;const a=dt.event.handlers.call(t,n,o);let l=0,u;for(;(u=a[l++])&&!n.isPropagationStopped();){n.currentTarget=u.elem;let f=0,d;for(;(d=u.handlers[f++])&&!n.isImmediatePropagationStopped();){n.handleObj=d,n.data=d.data;const m=dt.event.special[d.origType];let b;m&&m.handle?b=m.handle:b=d.handler;const x=b.apply(u.elem,i);x!==void 0&&(n.result=x)===!1&&(n.preventDefault(),n.stopPropagation())}}return s&&s.postDispatch&&s.postDispatch.call(t,n),n.result};dt.event.handlers=function(e,t){const n=t.delegateCount,i=[];if(n&&!(e.type==="click"&&e.button>=1)){for(let r=e.target;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(e.type==="click"&&r.disabled===!0)){const o=[],s={};for(let a=0;a<n;a++){const l=t[a],u=l.selector+" ";s[u]===void 0&&(s[u]=r.matches(u)),s[u]&&o.push(l)}o.length&&i.push({elem:r,handlers:o})}}return n<t.length&&i.push({elem:this,handlers:t.slice(n)}),i};dt.event.fix=function(e){return e.envelope?e:new Tu(e)};const e9=dt(Dh);function J1(e){let t=e.length;for(;t--;)iL(e[t])}function iL(e){dt.event.remove(e),Yo.remove(e),ZO.remove(e)}function rL(e){for(let t=0;t<e.length;t++){const n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}function t9(){for(let e=0;e<this.length;e++){const t=this[e];iL(t),J1(t.getElementsByTagName("*"))}return rL(this),this}function n9(){return rL(this),this}function i9(){for(let e=0;e<this.length;e++){const t=this[e];t.nodeType===1&&(J1(t.getElementsByTagName("*")),t.textContent="")}return this}function r9(){const e=[];for(let t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return this.pushStack(e)}function o9(e){const[t]=this;if(!t)return null;if(arguments.length===0)return t.innerHTML;if(e===void 0)return this;if(J1(Yo,t.getElementsByTagName("*")),typeof e=="string"||typeof e=="number")t.innerHTML=e;else return t.innerHTML="",this.append(e);return this}function s9(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.append(...dt.parseHTML(n)):n.toString()==="[object Object]"?this.append(...Array.from(n)):Array.isArray(n)?this.append(...n):t.appendChild(n))}),this):this}function a9(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.prepend(...dt.parseHTML(n)):n.toString()==="[object Object]"?this.prepend(...Array.from(n)):Array.isArray(n)?this.prepend(...n):t.insertBefore(n,t.firstChild))}),this):this}function l9(e){return dt(e).append(this),this}function c9(e){return dt(e).prepend(this),this}const oL={};["width","height","top","bottom","left","right","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight"].forEach(e=>{oL[e]=!0});function u9(e,t,n){typeof n=="number"&&oL[JO(t)]&&(n+="px"),e.style[t]=n}function d9(e,t){let n;if(typeof e=="string")if(t===void 0){const[i]=this;return i?i.style[e]:null}else n={[e]:t};else if(e)n=e;else throw new Error("no styles provided");for(let i in n)if(n.hasOwnProperty(i))for(let r=0;r<this.length;r++)u9(this[r],i,n[i]);return this}function h9(e,t){if(arguments.length<2){const[n]=this;return n?e===void 0?n.dataset:n.dataset[e]:null}for(let n=0;n<this.length;n++)this[n].dataset[e]=t;return this}function Q1(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];We.prototype[e].apply({node:r},n)}}function f9(){return Q1("removeClass",this,arguments),this}function p9(){return Q1("addClass",this,arguments),this}function g9(){return Q1("toggleClass",this,arguments),this}function m9(){const[e]=this;return e?We.prototype.hasClass.apply({node:e},arguments):!1}function y9(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];let r=Array.from(i.children);typeof e=="string"&&(r=r.filter(o=>o.matches(e))),t.push(...r)}return this.pushStack(t)}function v9(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];if(typeof e=="string"){const r=i.closest(e);r&&t.push(r)}else{const[r]=dt(e);r&&r.contains(i)&&t.push(r)}}return this.pushStack(t)}function b9(e,t,n,i){return dt.event.on(this,e,t,n,i),this}function _9(e,t,n,i){return dt.event.on(this,e,t,n,i,1),this}function x9(e,t,n){if(e&&e.preventDefault&&e.handleObj){const i=e.handleObj;return dt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(let i in e)this.off(i,t,e[i]);return this}(t===!1||typeof t=="function")&&(n=t,t=void 0);for(let i=0;i<this.length;i++)dt.event.remove(this[i],e,n,t);return this}function w9(){const[e]=this;if(e===window)return e.document.documentElement.clientWidth;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetWidth,i=parseFloat(t.borderTopWidth),r=parseFloat(t.borderBottomWidth),o=parseFloat(t.paddingTop),s=parseFloat(t.paddingBottom);return n-r-i-o-s}function C9(){const[e]=this;if(e===window)return e.document.documentElement.clientHeight;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetHeight,i=parseFloat(t.borderLeftWidth),r=parseFloat(t.borderRightWidth),o=parseFloat(t.paddingLeft),s=parseFloat(t.paddingRight);return n-i-r-o-s}function T9(){const[e]=this;if(!e)return;let t=dt(e),n,i,r,o={top:0,left:0};if(t.css("position")==="fixed")i=e.getBoundingClientRect();else{i=t.offset(),r=e.ownerDocument,n=e.offsetParent||r.documentElement;const l=dt(n),u=l.css("position")||"static";for(;n&&(n===r.body||n===r.documentElement)&&u==="static";)n=n.parentNode;if(n&&n!==e&&n.nodeType===1){const f=window.getComputedStyle(n),d=parseFloat(f.borderTopWidth)||0,m=parseFloat(f.borderLeftWidth)||0;o=l.offset(),o.top+=d,o.left+=m}}const s=parseFloat(window.getComputedStyle(e).marginTop)||0,a=parseFloat(window.getComputedStyle(e).marginLeft)||0;return{top:i.top-o.top-s,left:i.left-o.left-a}}function S9(e){const[t]=this;if(e===void 0){if(!t)return null;if(!t.getClientRects().length)return{top:0,left:0};const s=t.getBoundingClientRect();return{top:s.top+window.scrollY,left:s.left+window.scrollX}}if(!t)return this;const n=window.getComputedStyle(t);n.position==="static"&&this.css("position","relative");const i=this.offset(),r=e.top-i.top,o=e.left-i.left;return this.css({top:(parseFloat(n.top)||0)+r+"px",left:(parseFloat(n.left)||0)+o+"px"}),this}const E9=Object.freeze(Object.defineProperty({__proto__:null,addClass:p9,append:s9,appendTo:l9,children:y9,clone:r9,closest:v9,css:d9,data:h9,detach:n9,empty:i9,hasClass:m9,height:C9,html:o9,off:x9,offset:S9,on:b9,one:_9,position:T9,prepend:a9,prependTo:c9,remove:t9,removeClass:f9,toggleClass:g9,width:w9},Symbol.toStringTag,{value:"Module"})),gv="animationFrameId",Xs={};Xs["transition-property"]=Xs["transition-duration"]=Xs["transition-delay"]=Xs["transition-timing-function"]=Xs["animation-name"]=Xs["animation-duration"]=Xs["animation-delay"]=Xs["animation-timing-function"]="";function A9(e,t={}){this.stop();for(let n=0;n<this.length;n++)k9(this[n],e,t);return this}function k9(e,t,n={}){let{duration:i=400,easing:r="ease-in-out",delay:o=0,complete:s}=n;const a=setTimeout(function(){const l=dt(e);let u=!1,f="transitionend";i=i/1e3,o=o/1e3;const d={};if(typeof t=="string")d["animation-name"]=t,d["animation-duration"]=i+"s",d["animation-delay"]=o+"s",d["animation-timing-function"]=r,f="animationend";else{const x=[];for(var m in t)t.hasOwnProperty(m)&&(d[m]=t[m],x.push(m));i>0&&(d["transition-property"]=x.join(", "),d["transition-duration"]=i+"s",d["transition-delay"]=o+"s",d["transition-timing-function"]=r)}const b=function(x){if(x){if(x.target!==x.currentTarget)return;x.target.removeEventListener(f,b)}else e.removeEventListener(f,b);u=!0,l.css(Xs),s&&s.call(e)};if(i>0){e.addEventListener(f,b);const x=setTimeout(function(){u||b(null)},(i+o)*1e3+25);Yo.set(e,gv,{id:x,stop:()=>{clearTimeout(x),e.removeEventListener(f,b)}})}l.css(d),i<=0&&b(null)});Yo.set(e,gv,{stop:()=>clearTimeout(a)})}function I9(){for(let e=0;e<this.length;e++){const t=this[e],n=Yo.get(t,gv);n&&(n.stop(),Yo.remove(t,gv))}return this.css(Xs),this}const P9=Object.freeze(Object.defineProperty({__proto__:null,animate:A9,stop:I9},Symbol.toStringTag,{value:"Module"})),OA={outerWidth:"offsetWidth",outerHeight:"offsetHeight",innerWidth:"clientWidth",innerHeight:"clientHeight",scrollLeft:"scrollLeft",scrollTop:"scrollTop",val:"value",text:"textContent"},LA={disabled:"disabled",value:"value",text:"textContent"};function O9(e,t){if(!e)throw new Error("no property provided");if(arguments.length===1){const[n]=this;return n?n[e]:null}if(t===void 0)return this;for(let n=0;n<this.length;n++)this[n][e]=t;return this}function L9(e,t){let n;if(typeof e=="string")if(t===void 0){const[i]=this;return i?i.getAttribute(e):null}else n={[e]:t};else if(e)n=e;else throw new Error("no attributes provided");for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];if(LA[i]){this.prop(LA[i],r);continue}for(let o=0;o<this.length;o++)r===null?this[o].removeAttribute(i):this[o].setAttribute(i,r)}return this}const sL={prop:O9,attr:L9};Object.keys(OA).forEach(e=>{sL[e]=function(...t){return this.prop(OA[e],...t)}});const D9=sL,kd={useCSSSelectors:!1,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},E0=Object.create(null),N9=E0;E0.load={noBubble:!0};[["mouseenter","mouseover"],["mouseleave","mouseout"],["pointerenter","pointerover"],["pointerleave","pointerout"]].forEach(([e,t])=>{E0[e]={delegateType:t,bindType:t,handle:function(n){const i=this,r=n.relatedTarget,o=n.handleObj;let s;return(!r||!i.contains(r))&&(n.type=o.origType,s=o.handler.apply(i,arguments),n.type=t),s}}});const M9=kd.doubleTapInterval,F9=30;E0.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(e,...t){const{handleObj:n,target:i}=e,r=dt.data.create(i),o=new Date().getTime(),s="lastTouch"in r?o-r.lastTouch:0;s<M9&&s>F9?(r.lastTouch=null,e.type=n.origType,n.handler.call(this,e,...t)):r.lastTouch=o}};Object.assign(dt.fn,E9);Object.assign(dt.fn,P9);Object.assign(dt.fn,D9);Object.assign(dt.event.special,N9);const ja=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,kd.classNamePrefix.length)!==kd.classNamePrefix&&(t=kd.classNamePrefix+t),t}).join(" ")},mv=function(e,t){const n={},i={},r=We.namespace.svg,o=t||r,s=document.createDocumentFragment(),a=function(l,u,f){for(let d=0;d<l.length;d++){const m=l[d];if(typeof m=="string"){const F=document.createTextNode(m);u.appendChild(F);continue}if(!m.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const b=m.tagName;let x;m.hasOwnProperty("namespaceURI")&&(f=m.namespaceURI),x=document.createElementNS(f,b);const C=f===r,k=C?We(x):dt(x),T=m.attributes;T&&k.attr(T);const A=m.style;if(A&&dt(x).css(A),m.hasOwnProperty("className")){const F=m.className;C?x.className.baseVal=F:x.className=F}if(m.hasOwnProperty("textContent")&&(x.textContent=m.textContent),m.hasOwnProperty("selector")){const F=m.selector;if(n[F])throw new Error("json-dom-parser: selector must be unique");n[F]=x,k.attr("joint-selector",F)}if(m.hasOwnProperty("groupSelector")){let F=m.groupSelector;Array.isArray(F)||(F=[F]);for(let Z=0;Z<F.length;Z++){const ee=F[Z];let g=i[ee];g||(g=i[ee]=[]),g.push(x)}}u.appendChild(x);const R=m.children;Array.isArray(R)&&a(R,x,f)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:i}},fy=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t<<5)-t+i,t=t&t}return t},Nh=function(e,t,n){for(var i=Array.isArray(t)?t:t.split(n||"/"),r,o=0,s=i.length;o<s;)if(r=i[o++],Object(e)===e&&r in e)e=e[r];else return;return e},aL=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},DA=function(e,t,n,i){const r=Array.isArray(t)?t:t.split(i||"/"),o=r.length-1;let s=e,a=0;for(;a<o;a++){const l=r[a];if(!aL(s,l))return e;s=s[l]||(s[l]={})}return s[r[o]]=n,e},NA=function(e,t,n){const i=Array.isArray(t)?t:t.split(n||"/"),r=i.length-1;let o=e,s=0;for(;s<r;s++){const a=i[s];if(!aL(o,a))return e;const l=o[a];if(!l)return e;o=l}return delete o[i[r]],e},R9=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},gd=function(e){return gd.id=gd.id||1,e===void 0?"j_"+gd.id++:(e.id=e.id===void 0?"j_"+gd.id++:e.id,e.id)},Kn=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,i=t&&t.changedTouches&&t.changedTouches[0];if(i)for(let r in i)e[r]===void 0&&(e[r]=i[r]);if(n){const r=n.correspondingUseElement;r&&(e.target=r)}return e.normalized=!0,e},B9=function(e){let r=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=o,o=0),s="deltaX"in e?e.deltaX:r*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,r=o,o=0),s&&!r&&(r=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:r,spinY:o,deltaX:s,deltaY:a}},$9=function(e,t){return e>t?t:e<-t?-t:e},yw=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var i=new Date().getTime(),r=Math.max(0,16-(i-t)),o=setTimeout(function(){n(i+r)},r);return t=i+r,o}}return function(n,i,...r){return e(i!==void 0?n.bind(i,...r):n)}}(),Hy=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),rr=function(e){return Wi(e)&&e.slice(-1)==="%"},q9=function(e,t){function n(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var i=parseFloat(e);if(Number.isNaN(i))return null;var r={};r.value=i;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else Wi(t)&&(o=t);var s=n(o);return s===null?null:(r.unit=s,r)},Jf=0;function z9(e,t){const n=e.split(t);let i=1;for(let r=0,o=n.length-1;r<o;r++){const s=[];(r>0||n[0]!=="")&&s.push(Jf),s.push(t),(r<o-1||n[o]!=="")&&s.push(Jf),n.splice(i,0,...s),i+=s.length+1}return n.filter(r=>r!=="")}function MA(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const yv=function(e,t,n={},i={}){var r=t.width,o=t.height,s=i.svgDocument||We("svg").node,a=We("tspan").node,l=We("text").attr(n).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),i.svgDocument||document.body.appendChild(s);const f=i.preserveSpaces,d=" ",m=i.separator||i.separator===""?i.separator:d,b=typeof m=="string"?m:d;var x=i.eol||`
`,C=i.hyphen?new RegExp(i.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,k=i.maxLineCount;to(k)||(k=1/0);var T=e.split(m),A=[],R=[],F,Z,ee;f&&We(a).attr("xml:space","preserve");for(var g=0,L=0,M=T.length;g<M;g++){var z=T[g];if(!(!z&&!f)&&typeof z=="string"){var Q=!1;if(x&&z.indexOf(x)>=0)if(z.length>1){const le=z9(T[g],x);T.splice(g,1,...le),g--,M=T.length;continue}else{if(f&&typeof T[g-1]=="string"){T.splice(g,Jf,"",Jf),M+=2,g--;continue}R[++L]=!f||typeof T[g+1]=="string"?"":void 0,Q=!0}if(!Q){let le;if(f?le=R[L]!==void 0?R[L]+b+z:z:le=R[L]?R[L]+b+z:z,u.data=le,a.getComputedTextLength()<=r)R[L]=le,(F||Z)&&(A[L++]=!0,F=0,Z=0);else{if(!R[L]||F){var de=!!F;if(F=z.length-1,de||!F){if(!F){if(!R[L]){R=[];break}T.splice(g,2,z+T[g+1]),M--,A[L++]=!0,g--;continue}T[g]=z.substring(0,F);const Ae=T[g+1];T[g+1]=z.substring(F)+(Ae===void 0||Ae===Jf?"":Ae)}else{if(Z)T.splice(g,2,T[g]+T[g+1]),Z=0;else{var ce=z.search(C);ce>-1&&ce!==z.length-1&&ce!==0&&(Z=ce+1,F=0),T.splice(g,1,z.substring(0,Z||F),z.substring(Z||F)),M++}L&&!A[L-1]&&L--}(!f||R[L]!=="")&&g--;continue}L++,g--}}var pe=null;if(R.length>k)pe=k-1;else if(o!==void 0){if(ee===void 0&&u.data!=="")if(n.lineHeight==="auto")ee=MA({value:1.5,unit:"em"},l);else{const le=q9(n.lineHeight,["em","px",""]);ee=MA(le,l)}ee*R.length>o&&(pe=Math.floor(o/ee)-1)}if(pe!==null){R.splice(pe+1);var ae=i.ellipsis;if(!ae||pe<0)break;typeof ae!="string"&&(ae="…");var q=R[pe];if(!q&&!Q)break;var G=q.length,j,te;do{if(te=q[G],j=q.substring(0,G),te?te.match(m)&&(j+=te):j+=b,j+=ae,u.data=j,a.getComputedTextLength()<=r){R[pe]=j;break}G--}while(G>=0);break}}}return i.svgDocument?s.removeChild(l):document.body.removeChild(s),R.join(x)},U9=function(e,t){e=dt(e).toArray();var n=e.map(function(r){var o=r.parentNode,s=o.insertBefore(document.createTextNode(""),r.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});e.sort(t);for(var i=0;i<n.length;i++)n[i].call(e[i]);return e},nl=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,i,r,o;return n=i=r=o=0,isFinite(e.vertical)&&(n=r=+e.vertical),isFinite(e.horizontal)&&(i=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(i=+e.right),isFinite(e.bottom)&&(r=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:i,bottom:r,left:o}},H9={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var i=(11-6*t-11*e)/4;return-i*i+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(i){var r=e(i);return r<t?t:r>n?n:r}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},lL={number:function(e,t){var n=t-e;return function(i){return e+n*i}},object:function(e,t){var n=Object.keys(e);return function(i){var r,o,s={};for(r=n.length-1;r!=-1;r--)o=n[r],s[o]=e[o]+(t[o]-e[o])*i;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),i=parseInt(t.slice(1),16),r=n&255,o=(i&255)-r,s=n&65280,a=(i&65280)-s,l=n&16711680,u=(i&16711680)-l;return function(f){var d=r+o*f&255,m=s+a*f&65280,b=l+u*f&16711680;return"#"+(1<<24|d|m|b).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(e),r=n.exec(t),o=r[1].indexOf("."),s=o>0?r[1].length-o-1:0;e=+i[1];var a=+r[1]-e,l=i[2];return function(u){return(e+a*u).toFixed(s)+l}}},V9={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,i=Number.isFinite(e.width)?e.width:1;return ps(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+i,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return ps(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return ps('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ps(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ps('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ps('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ps('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return ps('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ps('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return ps('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ps('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},ps=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(i){for(var r=Array.from(arguments),o=r.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=n[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}},FA=function(e){var t=window.top.document;e=e||t.body;function n(i,r){for(var o=["webkit","moz","ms","o",""],s=0;s<o.length;s++){var a=o[s],l=a?a+r:r.substr(0,1).toLowerCase()+r.substr(1);if(i[l]!==void 0)return Vn(i[l])?i[l]():i[l]}}n(t,"FullscreenElement")||n(t,"FullScreenElement")?n(t,"ExitFullscreen")||n(t,"CancelFullScreen"):n(e,"RequestFullscreen")||n(e,"RequestFullScreen")};var Fr={},RA=/\s+/,ql,Pu=function(e,t,n,i,r){var o=0,s;if(n&&typeof n=="object")for(i!==void 0&&("context"in r)&&r.context===void 0&&(r.context=i),s=Object.keys(n);o<s.length;o++)t=Pu(e,t,s[o],n[s[o]],r);else if(n&&RA.test(n))for(s=n.split(RA);o<s.length;o++)t=e(t,s[o],i,r);else t=e(t,n,i,r);return t};Fr.on=function(e,t,n){if(this._events=Pu(G9,this._events||{},e,t,{context:n,ctx:this,listening:ql}),ql){var i=this._listeners||(this._listeners={});i[ql.id]=ql,ql.interop=!1}return this};Fr.listenTo=function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=yp("l")),r=this._listeningTo||(this._listeningTo={}),o=ql=r[i];o||(this._listenId||(this._listenId=yp("l")),o=ql=r[i]=new A0(this,e));var s=W9(e,t,n,this);if(ql=void 0,s)throw s;return o.interop&&o.on(t,n),this};var G9=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return e},W9=function(e,t,n,i){try{e.on(t,n,i)}catch(r){return r}};Fr.off=function(e,t,n){return this._events?(this._events=Pu(cL,this._events,e,t,{context:n,listeners:this._listeners}),this):this};Fr.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:Object.keys(i),o=0;o<r.length;o++){var s=i[r[o]];if(!s)break;s.obj.off(t,n,this),s.interop&&s.off(t,n)}return jo(i)&&(this._listeningTo=void 0),this};var cL=function(e,t,n,i){if(e){var r=i.context,o=i.listeners,s=0,a;if(!t&&!r&&!n){if(o!=null)for(a=Object.keys(o);s<a.length;s++)o[a[s]].cleanup();return}for(a=t?[t]:Object.keys(e);s<a.length;s++){t=a[s];var l=e[t];if(!l)break;for(var u=[],f=0;f<l.length;f++){var d=l[f];if(n&&n!==d.callback&&n!==d.callback._callback||r&&r!==d.context)u.push(d);else{var m=d.listening;m&&m.off(t,n)}}u.length?e[t]=u:delete e[t]}return e}};Fr.once=function(e,t,n){var i=Pu(uL,{},e,t,this.off.bind(this));return typeof e=="string"&&n==null&&(t=void 0),this.on(i,t,n)};Fr.listenToOnce=function(e,t,n){var i=Pu(uL,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,i)};var uL=function(e,t,n,i){if(n){var r=e[t]=j9(function(){i(t,r),n.apply(this,arguments)});r._callback=n}return e},j9=function(e){var t;if(typeof e!="function")throw new TypeError("Expected a function");var n=2;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}};Fr.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return Pu(K9,this._events,e,void 0,n),this};var K9=function(e,t,n,i){if(e){var r=e[t],o=e.all;r&&o&&(o=o.slice()),r&&BA(r,i),o&&BA(o,[t].concat(i))}return e},BA=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},A0=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};A0.prototype.on=Fr.on;A0.prototype.off=function(e,t){var n;this.interop?(this._events=Pu(cL,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=this.count===0),n&&this.cleanup()};A0.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]};Fr.bind=Fr.on;Fr.unbind=Fr.off;var Z1=function(e,t){var n=this,i;return e&&ia(e,"constructor")?i=e.constructor:i=function(){return n.apply(this,arguments)},xt(i,n,t),i.prototype=Object.assign(Object.create(n.prototype),e),i.prototype.constructor=i,i.__super__=n.prototype,i},Y9=function(e,t,n,i){switch(t){case 1:return function(){return e[n](this[i])};case 2:return function(r){return e[n](this[i],r)};case 3:return function(r,o){return e[n](this[i],$A(r,this),o)};case 4:return function(r,o,s){return e[n](this[i],$A(r,this),o,s)};default:return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(this[i]),e[n].apply(e,r)}}},X9=function(e,t,n,i){Eo(n,function(r,o){t[o]&&(e.prototype[o]=Y9(t,r,o,i))})},$A=function(e,t){return Vn(e)?e:Ln(e)&&!t._isModel(e)?J9(e):Wi(e)?function(n){return n.get(e)}:e},J9=function(e){var t=BV(e);return function(n){return t(n.attributes)}},Vo=function(e,t){var n=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=yp(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection);var i=ei(this,"defaults");n=Ao(xt({},i,n),i),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};xt(Vo.prototype,Fr,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return Ji(this.attributes)},get:function(e){return this.attributes[e]},has:function(e){return this.get(e)!=null},set:function(e,t,n){if(e==null)return this;var i;if(typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;var r=n.unset,o=n.silent,s=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=Ji(this.attributes),this.changed={});var l=this.attributes,u=this.changed,f=this._previousAttributes;for(var d in i)t=i[d],Wa(l[d],t)||s.push(d),Wa(f[d],t)?delete u[d]:u[d]=t,r?delete l[d]:l[d]=t;if(this.idAttribute in i){var m=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,m,n)}if(!o){s.length&&(this._pending=n);for(var b=0;b<s.length;b++)this.trigger("change:"+s[b],this,l[s[b]],n)}if(a)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,xt({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,xt({},e,{unset:!0}))},hasChanged:function(e){return e==null?!jo(this.changed):ia(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?Ji(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,n={},i;for(var r in e){var o=e[r];Wa(t[r],o)||(n[r]=o,i=!0)}return i?n:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return Ji(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isValid:function(e){return this._validate({},xt({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=xt({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,xt(t,{validationError:n})),!1):!0}});Vo.extend=Z1;function dL(e){e=Kh(e);const t=In(e).reduce(function(n,i){return n[i.id]=i.clone(),n},{});return In(e).forEach(function(n){const i=t[n.id];if(i.isLink()){const s=i.source(),a=i.target();s.id&&t[s.id]&&i.prop("source/id",t[s.id].id),a.id&&t[a.id]&&i.prop("target/id",t[a.id].id)}const r=n.get("parent");r&&t[r]&&i.set("parent",t[r].id);const o=In(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);jo(o)||i.set("embeds",o)}),t}const Q9=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],Z9=Q9.reduce((e,t)=>(e[t]=!0,e),{}),eG={qualify:function(e){return Pi(e)},set:function(e,t,n){Object.keys(e).forEach(function(i){if(Z9[i]&&i in n){const r=e[i];n.tagName==="SELECT"&&Array.isArray(r)?Array.from(n.options).forEach(function(o,s){o.selected=r.includes(o.value)}):n[i]=r}})}},tG=eG;function py(e,t,n){return function(i,r){var o=rr(i);i=parseFloat(i),o&&(i/=100);var s;if(isFinite(i)){var a=r[n]();o||i>0&&i<1?s=a[e]+r[t]*i:s=a[e]+i}var l=ge();return l[e]=s||0,l}}function Pl(e,t){return function(n,i){var r=rr(n);n=parseFloat(n),r&&(n/=100);var o={};if(isFinite(n)){var s=r||n>=0&&n<=1?n*i[t]:Math.max(n+i[t],0);o[e]=s}return o}}const Rr={"ref-x":{position:py("x","width","origin")},"ref-y":{position:py("y","height","origin")},"ref-dx":{position:py("x","width","corner")},"ref-dy":{position:py("y","height","corner")},"ref-width":{set:Pl("width","width")},"ref-height":{set:Pl("height","height")},"ref-rx":{set:Pl("rx","width")},"ref-ry":{set:Pl("ry","height")},"ref-cx":{set:Pl("cx","width")},"ref-cy":{set:Pl("cy","height")},"ref-r-inscribed":{set:function(e){var t=Pl(e,"width"),n=Pl(e,"height");return function(i,r){var o=r.height>r.width?t:n;return o(i,r)}}("r")},"ref-r-circumscribed":{set:function(e,t){var n=rr(e);e=parseFloat(e),n&&(e/=100);var i=Math.sqrt(t.height*t.height+t.width*t.width),r;return isFinite(e)&&(n||e>=0&&e<=1?r=e*i:r=Math.max(e+i,0)),{r}}}};Rr.refX=Rr["ref-x"];Rr.refY=Rr["ref-y"];Rr["ref-x2"]=Rr["ref-x"];Rr["ref-y2"]=Rr["ref-y"];Rr["ref-width2"]=Rr["ref-width"];Rr["ref-height2"]=Rr["ref-height"];Rr["ref-r"]=Rr["ref-r-inscribed"];const nG=Rr,za={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},iG=Object.keys(za).map(e=>za[e]).join(""),ux="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",rG=/\s/g,qA=new RegExp(`^(${ux}\\*)?([${iG}])(/${ux})?([-+]{1,2}${ux})?$`,"g");function hL(e){throw new Error(`Invalid calc() expression: ${e}`)}function oG(e,t){const n=qA.exec(e.replace(rG,""));n||hL(e),qA.lastIndex=0;const[,i,r,o,s]=n,{x:a,y:l,width:u,height:f}=t;let d=0;switch(r){case za.width:{d=u;break}case za.height:{d=f;break}case za.x:{d=a;break}case za.y:{d=l;break}case za.minimum:{d=Math.min(f,u);break}case za.maximum:{d=Math.max(f,u);break}case za.diagonal:{d=Math.sqrt(f*f+u*u);break}}return i&&(d*=parseFloat(i)),o&&(d/=parseFloat(o.slice(1))),s&&(d+=sG(s)),d}function sG(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function sc(e){return typeof e=="string"&&e.includes("calc")}const fL="calc(",zA=fL.length;function ac(e,t){let n=e,i=0;do{let r=n.indexOf(fL,i);if(r===-1)return n;let o=r+zA,s=1;e:do{switch(n[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:hL(n)}o++}while(!0);let a=n.slice(r+zA,o);sc(a)&&(a=ac(a,t));const l=String(oG(a,t));n=n.slice(0,r)+l+n.slice(o+1),i=r+l.length}while(!0)}function td(e,t,n){return n.text!==void 0}const pL={"line-height":{qualify:td},"text-vertical-anchor":{qualify:td},"text-path":{qualify:td},annotations:{qualify:td},eol:{qualify:td},"display-empty":{qualify:td},text:{qualify:function(e,t,n){const i=n["text-wrap"];return!i||!Pi(i)},set:function(e,t,n,i){const r="joint-text",o=dt.data.get(n,r),s=i["line-height"],a=i["text-vertical-anchor"],l=i["display-empty"],u=i["font-size"],f=i.annotations,d=i.eol,m=i.x;let b=i["text-path"];const x=JSON.stringify([e,s,f,a,d,l,b,m,u]);if(o===void 0||o!==x){if(u&&n.setAttribute("font-size",u),Ln(b)){const C=b.selector;if(typeof C=="string"){const k=this.findNode(C);k instanceof SVGPathElement&&(b=xt({"xlink:href":"#"+k.id},b))}}We(n).text(""+e,{lineHeight:s,annotations:f,textPath:b,x:m,textVerticalAnchor:a,eol:d,displayEmpty:l}),dt.data.set(n,r,x)}}},"text-wrap":{qualify:Pi,set:function(e,t,n,i){var r={},o=e.width||0;rr(o)?r.width=t.width*parseFloat(o)/100:sc(o)?r.width=Number(ac(o,t)):e.width===null?r.width=1/0:o<=0?r.width=t.width+o:r.width=o;var s=e.height||0;rr(s)?r.height=t.height*parseFloat(s)/100:sc(s)?r.height=Number(ac(s,t)):e.height===null||(s<=0?r.height=t.height+s:r.height=s);var a,l=e.text;if(l===void 0&&(l=i.text),l!==void 0){const u=e.breakText||yv,f=getComputedStyle(n);a=u(""+l,r,{"font-weight":f.fontWeight,"font-family":f.fontFamily,"text-transform":f.textTransform,"font-size":f.fontSize,"letter-spacing":f.letterSpacing,lineHeight:i["line-height"]},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";pL.text.set.call(this,a,t,n,i)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var i="joint-title",r=dt.data.get(n,i);if(r===void 0||r!==e){if(dt.data.set(n,i,e),n.tagName==="title"){n.textContent=e;return}var o=n.firstElementChild;if(o&&o.tagName==="title")o.textContent=e;else{var s=document.createElementNS(n.namespaceURI,"title");s.textContent=e,n.insertBefore(s,o)}}}}},aG=pL;function gy(e,t){var n=new ge(1,0);return function(i){var r,o,s=this[e](i);return s?(o=t.rotate?s.vector().vectorAngle(n):0,r=s.start):(r=this.path.start,o=0),o===0?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+o+")"}}}function Ef(){return this.model.isLink()}const vp={connection:{qualify:Ef,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;const i=this.getConnection(),r=this.getConnectionSubdivisions(),o=i.divideAtLength(n,{segmentSubdivisions:r}),s=i.divideAtLength(-n,{segmentSubdivisions:r});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},"at-connection-length-keep-gradient":{qualify:Ef,set:gy("getTangentAtLength",{rotate:!0})},"at-connection-length-ignore-gradient":{qualify:Ef,set:gy("getTangentAtLength",{rotate:!1})},"at-connection-ratio-keep-gradient":{qualify:Ef,set:gy("getTangentAtRatio",{rotate:!0})},"at-connection-ratio-ignore-gradient":{qualify:Ef,set:gy("getTangentAtRatio",{rotate:!1})}};vp["at-connection-length"]=vp["at-connection-length-keep-gradient"];vp["at-connection-ratio"]=vp["at-connection-ratio-keep-gradient"];const lG=vp;function gL(e,t){var n="joint-shape",i=t&&t.resetOffset;return function(r,o,s){var a=dt.data.get(s,n);if(!a||a.value!==r){var l=e(r);a={value:r,shape:l,shapeBBox:l.bbox()},dt.data.set(s,n,a)}var u=a.shape.clone(),f=a.shapeBBox.clone(),d=f.origin(),m=o.origin();f.x=m.x,f.y=m.y;var b=o.maxRectScaleToFit(f,m),x=f.width===0||o.width===0?1:b.sx,C=f.height===0||o.height===0?1:b.sy;return u.scale(x,C,d),i&&u.translate(-d.x,-d.y),u}}function UA(e){function t(i){return new Dt(We.normalizePathData(i))}var n=gL(t,e);return function(i,r,o){var s=n(i,r,o);return{d:s.serialize()}}}function HA(e){var t=gL(ri,e);return function(n,i,r){var o=t(n,i,r);return{points:o.serialize()}}}const bp={"ref-d-reset-offset":{set:UA({resetOffset:!0})},"ref-d-keep-offset":{set:UA({resetOffset:!1})},"ref-points-reset-offset":{set:HA({resetOffset:!0})},"ref-points-keep-offset":{set:HA({resetOffset:!1})}};bp["ref-d"]=bp["ref-d-reset-offset"];bp["ref-points"]=bp["ref-points-reset-offset"];const cG=bp;function dx(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var i=e["stroke-opacity"];return i===void 0&&(i=e.opacity),i!==void 0&&(t["stroke-opacity"]=i,t["fill-opacity"]=i),t}function VA(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const uG={"source-marker":{qualify:Pi,set:function(e,t,n,i){return e=xt(dx(i),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},"target-marker":{qualify:Pi,set:function(e,t,n,i){return e=xt(dx(i),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},"vertex-marker":{qualify:Pi,set:function(e,t,n,i){return e=xt(dx(i),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},fill:{qualify:Pi,set:VA},stroke:{qualify:Pi,set:VA},filter:{qualify:Pi,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}}},dG=uG;function GA(e,t,n){return function(i,r){var o;i==="middle"?o=r[t]/2:i===n?o=r[t]:isFinite(i)?o=i>-1&&i<1?-r[t]*i:-i:rr(i)?o=r[t]*parseFloat(i)/100:o=0;var s=new ge;return s[e]=-(r[e]+o),s}}const hG={"x-alignment":{offset:GA("x","width","right")},"y-alignment":{offset:GA("y","height","bottom")},"reset-offset":{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}}},fG=hG;function WA(e){return function(n,i,r){const o=We(r);o.attr(e)!==n&&o.attr(e,n)}}const Ou={ref:{},href:{set:WA("href")},"xlink:href":{set:WA("xlink:href")},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Pi,set:function(e,t,n){dt(n).css(e)}},html:{set:function(e,t,n){dt(n).html(e+"")}},props:tG};xt(Ou,nG);xt(Ou,aG);xt(Ou,lG);xt(Ou,cG);xt(Ou,dG);xt(Ou,fG);const mL=Ou,pG=function(e,t){if(Array.isArray(e))return t},sa=Vo.extend({constructor:function(e,t){var n,i=e||{};if(typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=yp("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{}),n=ei(this,"defaults")){const r=t&&t.mergeArrays===!0?!1:pG;i=Vi({},n,i,r)}this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const t=ei(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,i={};Eo(n,function(o,s){const a=t[s];Eo(o,function(l,u){Ln(l)&&!Array.isArray(l)?Eo(l,function(f,d){(!a||!a[u]||!Wa(a[u][d],f))&&(i[s]=i[s]||{},(i[s][u]||(i[s][u]={}))[d]=f)}):(!a||!Wa(a[u],l))&&(i[s]=i[s]||{},i[s][u]=l)})});const r=Or(im(this.attributes,"attrs"));return r.attrs=i,r},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return R9()},processPorts:function(){var e=this.ports,t={};Eo(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};if(Eo(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!jo(n)){var i=this.graph.getConnectedLinks(this,{inbound:!0});i.forEach(function(o){n[o.get("target").port]&&o.remove()});var r=this.graph.getConnectedLinks(this,{outbound:!0});r.forEach(function(o){n[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const i=this.getParentCell();i&&i.unembed(this,e);const r=this.getEmbeddedCells();for(let o=0,s=r.length;o<s;o++){const a=r[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Ao(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:qy(n,l=>l.z());let o=t.maxZIndex()-n.length+1;const s=t.get("cells");let a=s.toArray().indexOf(i[0])!==s.length-n.length;a||(a=i.some(function(l,u){return l.z()!==o+u})),a&&(this.startBatch("to-front"),o=o+n.length,i.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Ao(e||{},{foregroundEmbeds:!0});let i;e.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),i.unshift(this)):i=[this];const r=e.foregroundEmbeds?i:qy(i,a=>a.z());let o=t.minZIndex();var n=t.get("cells");let s=n.toArray().indexOf(r[0])!==0;s||(s=r.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=i.length,r.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(i=>i.isEmbedded()&&this.id!==i.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const i=xt([],this.get("embeds"));e.forEach(r=>{i[r.isLink()?"unshift":"push"](r.id),r.parent(this.id,t)}),this.set("embeds",Kh(i),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach(i=>i.unset("parent",t)),this.set("embeds",PA(this.get("embeds"),...e.map(i=>i.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(jo(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=qy(n,i=>i.z())),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const i=n.shift();t.push(i);const r=i.getEmbeddedCells({sortSiblings:e});n.push(...r)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const i=n.pop();t.push(i);const r=i.getEmbeddedCells({sortSiblings:e});for(let o=r.length-1;o>=0;--o)n.push(r[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Wi(e)?e:e.id,i=this.parent();if(t=xt({deep:!0},t),this.graph&&t.deep){for(;i;){if(i===n)return!0;i=this.graph.getCell(i).parent()}return!1}else return i===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return In(dL([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Vo.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var i="/",r=Wi(e);if(r||Array.isArray(e))if(arguments.length>1){var o,s;r?(o=e,s=o.split("/")):(o=e.join(i),s=e.slice());var a=s[0],l=s.length;const R=n||{};R.propertyPath=o,R.propertyValue=t,R.propertyPathArray=s,"rewrite"in R||(R.rewrite=!1);for(var u={},f=u,d=a,m=1;m<l;m++){var b=s[m],x=Number.isFinite(r?Number(b):b);f=f[d]=x?[]:{},d=b}u=DA(u,s,t,"/");var C=Vi({},this.attributes);R.rewrite&&NA(C,o,"/");var k=Vi(C,u);return this.set(a,k[a],R)}else return Nh(this.attributes,e,i);const T=t||{};T.propertyPath=null,T.propertyValue=e,T.propertyPathArray=[],"rewrite"in T||(T.rewrite=!1);const A={};for(const R in e){const{changedValue:F}=Vi({},{changedValue:this.attributes[R]},{changedValue:e[R]});A[R]=F}return this.set(A,T)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),i=n[0];if(i==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var r=n.slice(1),o=this.get(i);return o==null?this:(o=Or(o),NA(o,r,"/"),this.set(i,o,t))},attr:function(e,t,n){var i=Array.from(arguments);return i.length===0?this.get("attrs"):(Array.isArray(e)?i[0]=["attrs"].concat(e):Wi(e)?i[0]="attrs/"+e:i[0]={attrs:e},this.prop.apply(this,i))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,i){i=i||"/";var r={duration:100,delay:10,timingFunction:H9.linear,valueFunction:lL.number};n=xt(r,n);var o=0,s,a=(function(d){var m,b,x;o=o||d,d-=o,b=d/n.duration,b<1?this._transitionIds[e]=m=yw(a):(b=1,delete this._transitionIds[e]),x=s(n.timingFunction(b)),n.transitionId=m,this.prop(e,x,n),m||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=d=>{l[e]&&(l[e]=PA(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,i),s=n.valueFunction(Nh(this.attributes,e,i),t),this._transitionIds[e]=yw(d),this.trigger("transition:start",this,e)};return u=setTimeout(f,n.delay,a),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return mw(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:n={}}=this;let i=Object.keys(n);if(e){const r=e.split(t);i=i.filter(o=>Wa(r,o.split(t).slice(0,r.length)))}return i.forEach(r=>{n[r].forEach(s=>clearTimeout(s)),delete n[r]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:n={}}=this;let i=Object.keys(n);if(e){const r=e.split(t);i=i.filter(o=>Wa(r,o.split(t).slice(0,r.length)))}i.forEach(r=>{const o=n[r];Hy(o),delete n[r],this.trigger("transition:end",this,r)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,xt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,xt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new ge(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ge},getBBox:function(){return new pt(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const i=new ge(t,n);return e&&i.rotate(this.getBBox().center(),e),i},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=mL;return t&&t[e]||n[e]},define:function(e,t,n,i){n=xt({defaults:X1({type:e},t,this.prototype.defaults)},n);var r=this.extend(n,i);return typeof joint<"u"&&ia(joint,"shapes")&&DA(joint.shapes,e,r,"."),r}}),gG=function(e,t,n){if(Wi(n)){if(!vw[n])throw new Error('Unknown wrapper: "'+n+'"');n=vw[n]}if(!Vn(n))throw new Error("Wrapper must be a function.");In(t).forEach(function(i){e[i]=n(e[i])})},vw={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,i=n>0&&t[0]||[],r=n>1&&t[n-1]||{};return Array.isArray(i)||(r instanceof sa?i=t:i instanceof sa&&(t.length>1&&t.pop(),i=t)),r instanceof sa&&(r={}),e.call(this,i,r)}}},Ci={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function yL(e,t){const n=new pt(e);switch(t){case void 0:throw new Error("Position required");case Ci.LEFT:case"leftMiddle":return n.leftMiddle();case Ci.RIGHT:case"rightMiddle":return n.rightMiddle();case Ci.TOP:case"topMiddle":return n.topMiddle();case Ci.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Ci.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Ci.TOP_RIGHT:case"topRight":return n.topRight();case Ci.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Ci.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Ci.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function vL(e,t,n){var i=e.toJSON();return i.angle=t||0,Ao({},n,i)}function rm(e,t,n,i){return e.map(function(r,o,s){var a=this.pointAt((o+.5)/s.length);return(r.dx||r.dy)&&a.offset(r.dx||0,r.dy||0),vL(a.round(),0,eC(i,r))},mu(t,n))}function bL(e,t,n,i){var r=t.center(),o=t.width/t.height,s=t.topMiddle(),a=Dr.fromRect(t);return e.map(function(l,u,f){var d=n+i(u,f.length),m=s.clone().rotate(r,-d).scale(o,1,r),b=l.compensateRotation?-a.tangentTheta(m):0;return(l.dx||l.dy)&&m.offset(l.dx||0,l.dy||0),l.dr&&m.move(r,l.dr),vL(m.round(),b,eC(t,l))})}function eC(e,t){let{x:n,y:i,angle:r}=t;return rr(n)?n=parseFloat(n)/100*e.width:sc(n)&&(n=Number(ac(n,e))),rr(i)?i=parseFloat(i)/100*e.height:sc(i)&&(i=Number(ac(i,e))),{x:n,y:i,angle:r}}function bw(e,t){const{x:n,y:i}=eC(e,t);return new ge(n||0,i||0)}const mG=function(e,t){return e.map(n=>{const i=bw(t,n).round().toJSON();return i.angle=n.angle||0,i})},yG=function(e,t,n){return n.fn(e,t,n)},vG=function(e,t,n){var i=bw(t,n.start||t.origin()),r=bw(t,n.end||t.corner());return rm(e,i,r,t)},bG=function(e,t,n){return rm(e,t.origin(),t.bottomLeft(),t)},_G=function(e,t,n){return rm(e,t.topRight(),t.corner(),t)},xG=function(e,t,n){return rm(e,t.origin(),t.topRight(),t)},wG=function(e,t,n){return rm(e,t.bottomLeft(),t.corner(),t)},CG=function(e,t,n){var i=n.startAngle||0,r=n.step||360/e.length;return bL(e,t,i,function(o){return o*r})},TG=function(e,t,n){var i=n.startAngle||0,r=n.step||20;return bL(e,t,i,function(o,s){return(o+.5-s/2)*r})},SG=Object.freeze(Object.defineProperty({__proto__:null,absolute:mG,bottom:wG,ellipse:TG,ellipseSpread:CG,fn:yG,left:bG,line:vG,right:_G,top:xG},Symbol.toStringTag,{value:"Module"}));function gc(e,t){return X1({},e,t,{x:0,y:0,angle:0,attrs:{}})}function _L(e){var t=e.center(),n=t.theta(e.origin()),i=t.theta(e.bottomLeft()),r=t.theta(e.corner()),o=t.theta(e.topRight());return[n,o,r,i]}function xL(e,t,n,i){i=Ao({},i,{offset:15});var r=t.center().theta(e),o,s,a,l,u=i.offset,f=0;const[d,m,b,x]=_L(t);r<m||r>b?(a=".3em",o=u,s=0,l="start"):r<d?(o=0,s=-u,n?(f=-90,l="start",a=".3em"):(l="middle",a="0")):r<x?(a=".3em",o=-u,s=0,l="end"):(o=0,s=u,n?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var C=Math.round;return gc(i,{x:C(o),y:C(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function wL(e,t,n,i){i=Ao({},i,{offset:15});var r=t.center().theta(e),o,s,a,l,u=i.offset,f=0;const[d,m,b,x]=_L(t);r<m||r>b?(a=".3em",o=-u,s=0,l="end"):r<d?(o=0,s=u,n?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):r<x?(a=".3em",o=u,s=0,l="start"):(o=0,s=-u,n?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var C=Math.round;return gc(i,{x:C(o),y:C(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function CL(e,t,n){n=Ao({},n,{offset:20});var i=fv(0,0),r=-e.theta(i),o=r,s=e.clone().move(i,n.offset).difference(e).round(),a=".3em",l;(r+90)%180===0?(l=t?"end":"middle",!t&&r===-270&&(a="0em")):r>-270&&r<-90?(l="start",o=r-180):l="end";var u=Math.round;return gc(n,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}const EG=function(e,t,n){return gc(n)},AG=function(e,t,n){return gc(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},kG=function(e,t,n){return gc(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},IG=function(e,t,n){return gc(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},PG=function(e,t,n){return gc(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},OG=function(e,t,n){return xL(e,t,!0,n)},LG=function(e,t,n){return xL(e,t,!1,n)},DG=function(e,t,n){return wL(e,t,!0,n)},NG=function(e,t,n){return wL(e,t,!1,n)},MG=function(e,t,n){return CL(e.difference(t.center()),!1,n)},FG=function(e,t,n){return CL(e.difference(t.center()),!0,n)},RG=Object.freeze(Object.defineProperty({__proto__:null,bottom:PG,inside:NG,insideOriented:DG,left:AG,manual:EG,outside:LG,outsideOriented:OG,radial:MG,radialOriented:FG,right:kG,top:IG},Symbol.toStringTag,{value:"Module"}));var TL=function(e){var t=Or(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=SG,this.portLabelLayoutNamespace=RG,this._init(t)};TL.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),i=this.getPortsByGroup(e),r=n.position||{},o=r.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=r.args||{},l=i.map(function(d){return d&&d.position&&d.position.args}),u=s[o](l,t,a),f={ports:i,result:[]};return In(u).reduce((function(d,m,b){var x=d.ports[b];return d.result.push({portId:x.id,portTransformation:m,labelTransformation:this._getPortLabelLayout(x,ge(m),t),portAttrs:x.attrs,portSize:x.size,labelSize:x.label.size}),d}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,n){var i=this.portLabelLayoutNamespace,r=e.label.position.name||"left";return i[r]?i[r](t,n,e.label.position.args):null},_init:function(e){if(Ln(e.groups))for(var t=Object.keys(e.groups),n=0,i=t.length;n<i;n++){var r=t[n];this.groups[r]=this._evaluateGroup(e.groups[r])}for(var o=In(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Vi(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=xt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=Vi({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=Vi({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=xt({},n.size,t.size),t},_getZIndex:function(e,t){return to(t.z)?t.z:to(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return Vi({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},i;Vn(e)?(i="fn",n.fn=e):Wi(e)?i=e:e===void 0?i=t?"left":null:Array.isArray(e)?(i="absolute",n.x=e[0],n.y=e[1]):Ln(e)&&(i=e.name,xt(n,e.args));var r={args:n};return i&&(r.name=i),r},_getLabel:function(e,t){var n=e.label||{},i=n;return i.position=this._getPosition(n.position,t),i}};const BG={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};In(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},i={};In(n.items).forEach(function(a){t[a.id]||(i[a.id]=!0)});var r=this.graph;if(r&&!jo(i)){var o=r.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){i[a.get("target").port]&&a.remove()});var s=r.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){i[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Or(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=In(this.prop(["ports","items"])).filter(n=>n.group===e);return Or(t)},getPort:function(e){return Or(In(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,pt(this.size()));return t.reduce(function(n,i){var r=i.portTransformation;return n[i.portId]={x:r.x,y:r.y,angle:r.angle},n},{})},getPortIndex:function(e){var t=Ln(e)?e.id:e;return this._isValidPortId(t)?In(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!Ln(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=xt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const i=typeof e=="number"?e:this.getPortIndex(e);if(!Ln(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const r=xt([],this.prop("ports/items"));return r.splice(i,0,t),this.prop("ports/items",r,n),this},portProp:function(e,t,n,i){var r=this.getPortIndex(e);if(r===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",r].concat(t):Wi(t)?o[0]=["ports/items/",r,"/",t].join(""):(o=["ports/items/"+r],Pi(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=In(e.items);return n.forEach(function(i){typeof i!="object"&&t.push("Element: invalid port ",i),this._isValidPortId(i.id)||(i.id=this.generatePortId())},this),Kh(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Ln(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",xt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},i=this.getPortIndex(e);if(i!==-1){const r=xt([],this.prop(["ports","items"]));r.splice(i,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],r,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,i;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;i=xt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Ln(s)?s.id:s;return o.id===a})})}else n=e||{},i=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],i,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new TL(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var i=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),r=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});r.length>0&&this.trigger("ports:remove",this,r),i.length>0&&this.trigger("ports:add",this,i)}}},$G={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,i=t.node.childNodes.length;n<i;n++)e.push(t.node.childNodes[n]);var r=VV(this.model._portSettingsData.getPorts(),"z"),o="auto";In(r[o]).forEach(function(f){var d=this._getPortElement(f);t.append(d),e.push(d)},this);for(var s=Object.keys(r),a=0;a<s.length;a++){var l=s[a];if(l!==o){var u=parseInt(l,10);this._appendPorts(r[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var i=this._getContainerElement(),r=In(e).map(this._getPortElement,this);n[t]||t<0?We(n[Math.max(t,0)]).before(r):i.append(r)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNodes:function(e,t){const n=this._portElementsCache[e];if(!n)return[];if(!t)return[n.portContentElement.node];const i=n.portElement.node,r=n.portSelectors;return this.findBySelector(t,i,r)},findPortNode:function(e,t){const[n=null]=this.findPortNodes(e,t);return n},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){na(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,i,r;var o=We(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=We("g").append(l):t=We(l.firstChild),r=a.selectors}else t=We(s),Array.isArray(t)&&(t=We("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:C,selectors:k}=this.parseDOMJSON(u,o.node),T=C.childNodes.length;T>0&&(i=k,n=T===1?We(C.firstChild):We("g").append(C))}else n=We(u),Array.isArray(n)&&(n=We("g").append(n));var f;if(r&&i){for(var d in i)if(r[d]&&d!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=xt({},r,i)}else f=r||i||{};const m="portRoot",b="labelRoot",x="labelText";if(m in f||(f[m]=t.node),n){const C=n.node;if(b in f||(f[b]=C),!(x in f)){const k=n.tagName()==="TEXT"?C:Array.from(C.querySelectorAll("text"));f[x]=k,i||(i={}),i[x]=k}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:f,portLabelSelectors:i,portContentElement:t,portContentSelectors:r},o},_updatePortGroup:function(e){for(var t=pt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),i=0,r=n.length;i<r;i++){var o=n[i],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new pt(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new pt(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,n){var i=We.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(i,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},mi=sa.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),sa.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const i=to(t);n=(i?n:e)||{};const{parentRelative:r,deep:o,restrictedArea:s}=n;let a;if(r){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(i){if(a&&(e+=a.x,t+=a.y),o||s){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,n)}else this.set("position",{x:e,y:t},n);return this}else{const l=ge(this.get("position"));return r?l.difference(a):l}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var i=this.get("position")||{x:0,y:0},r=n.restrictedArea;if(r&&n.translateBy===this.id)if(typeof r=="function"){var o=r.call(this,i.x+e,i.y+t,n);e=o.x-i.x,t=o.y-i.y}else{var s=this.getBBox({deep:!0}),a=i.x-s.x,l=i.y-s.y,u=Math.max(r.x+a,Math.min(r.x+r.width+a-s.width,i.x+e)),f=Math.max(r.y+l,Math.min(r.y+r.height+l-s.height,i.y+t));e=u-i.x,t=f-i.y}var d={x:i.x+e,y:i.y+t};return n.tx=e,n.ty=t,n.transition?(Ln(n.transition)||(n.transition={}),this.transition("position",d,xt({},n.transition,{valueFunction:lL.object})),na(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",d,n),na(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var i=this.get("size");return e===void 0?{width:i.width,height:i.height}:(Ln(e)&&(n=t,t=to(e.height)?e.height:i.height,e=to(e.width)?e.width:i.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var i=this.get("size");switch(n.direction){case"left":case"right":t=i.height;break;case"top":case"bottom":e=i.width;break}var r=Es(this.get("angle")||0),o=this.getBBox(),s;if(r){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((r+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),u=ge(l).rotate(o.center(),-r),f=Math.sqrt(e*e+t*t)/2,d=a*Math.PI/2;d+=Math.atan(a%2==0?t/e:e/t),d-=ao(r);var m=ge.fromPolar(f,d,u);s=ge(m).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,i){var r=this.getBBox().scale(e,t,n);return this.startBatch("scale",i),this.position(r.x,r.y,i),this.resize(r.width,r.height,i),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&na(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const i=n.getEmbeddedCells().filter(r=>r.isElement());return i.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:i},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:i}=e;if(n&&i)return;let{x:r,y:o,width:s,height:a}=t;const{left:l,right:u,top:f,bottom:d}=nl(e.padding);r-=l,o-=f,s+=l+u,a+=d+f;let m=new pt(r,o,s,a);if(n)m=this.getBBox().union(m);else if(i){const b=this.getBBox().intersect(m);if(!b)return;m=b}this.set({position:{x:m.x,y:m.y},size:{width:m.width,height:m.height}},e)},rotate:function(e,t,n,i){if(n){var r=this.getBBox().center(),o=this.get("size"),s=this.get("position");r.rotate(n,this.get("angle")-e);var a=r.x-o.width/2-s.x,l=r.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+l,i),this.rotate(e,t,null,i),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,i);return this},angle:function(){return Es(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:n}=this,{deep:i,rotate:r}=e;if(i&&t){const d=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return d.push(this),t.getCellsBBox(d,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:u}}=n,f=new pt(s,a,l,u);return r&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),i=n.center(),r=e.get(t);if(!r)return i;var o=r.port;if(!o||!this.hasPort(o))return i;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new ge(a[o]).offset(n.origin()),u=this.angle();return u&&l.rotate(i,-u),l}});xt(mi.prototype,BG);const om=sa.extend({defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,x:"calc(x)",y:"calc(y)",width:"calc(w)",height:"calc(h)"}},position:{distance:.5}}},defaults:{source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return Ji(this.get("source"));var i,r,o=e instanceof sa;if(o)return i=Ji(t)||{},i.id=e.id,r=n,this.set("source",i,r);var s=!Pi(e);return s?(i=Ji(t)||{},i.x=e.x,i.y=e.y,r=n,this.set("source",i,r)):(i=e,r=t,this.set("source",i,r))},target:function(e,t,n){if(e===void 0)return Ji(this.get("target"));var i,r,o=e instanceof sa;if(o)return i=Ji(t)||{},i.id=e.id,r=n,this.set("target",i,r);var s=!Pi(e);return s?(i=Ji(t)||{},i.x=e.x,i.y=e.y,r=n,this.set("target",i,r)):(i=e,r=t,this.set("target",i,r))},router:function(e,t,n){if(e===void 0){var i=this.get("router");return i?typeof i=="object"?Ji(i):i:null}var r=typeof e=="object"||typeof e=="function",o=r?e:{name:e,args:t},s=r?t:n;return this.set("router",o,s)},connector:function(e,t,n){if(e===void 0){var i=this.get("connector");return i?typeof i=="object"?Ji(i):i:null}var r=typeof e=="object"||typeof e=="function",o=r?e:{name:e,args:t},s=r?t:n;return this.set("connector",o,s)},label:function(e,t,n){var i=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=i.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var i=this.labels(),r=i.length;return e=isFinite(e)&&e!==null?e|0:r,e<0&&(e=r+e+1),i.splice(e,0,t),this.labels(i,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var i=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=i.length+e),arguments.length<=1)return this.prop(["vertices",e]);var r=this._normalizeVertex(t);return this.prop(["vertices",e],r,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],i=0;i<e.length;i++){var r=e[i],o=this._normalizeVertex(r);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var i=this.vertices(),r=i.length;e=isFinite(e)&&e!==null?e|0:r,e<0&&(e=r+e+1);var o=this._normalizeVertex(t);return i.splice(e,0,o),this.vertices(i,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!Pi(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(i){return{x:(i.x||0)+e,y:(i.y||0)+t}},n)},scale:function(e,t,n,i){return this.applyToPoints(function(r){return ge(r).scale(e,t,n).toJSON()},i)},applyToPoints:function(e,t){if(!Vn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:i,target:r}=this.attributes;i.id||(n.source=e(i)),r.id||(n.target=e(r));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ge(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ge(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ge),this.getTargetPoint()];return new ri(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),i=this.getTargetElement(),r=this.getParentCell();n&&i&&(n===i||n.isEmbeddedIn(i)?t=i:i.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,i)),r&&(!t||t.id!==r.id)&&r.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,i=t.id,r=n.id;if(!i||!r)return!1;var o=i===r;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Wi(e)||to(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}}),qG={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}},zG=mi.define("standard.Rectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),tC=mi.define("standard.Circle",{attrs:{root:{cursor:"move"},body:{cx:"calc(s/2)",cy:"calc(s/2)",r:"calc(s/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),UG=mi.define("standard.Ellipse",{attrs:{root:{cursor:"move"},body:{cx:"calc(w/2)",cy:"calc(h/2)",rx:"calc(w/2)",ry:"calc(h/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),HG=mi.define("standard.Path",{attrs:{root:{cursor:"move"},body:{d:"M 0 0 H calc(w) V calc(h) H 0 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),VG=mi.define("standard.Polygon",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),GG=mi.define("standard.Polyline",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),WG=mi.define("standard.Image",{attrs:{root:{cursor:"move"},image:{width:"calc(w)",height:"calc(h)"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),jG=mi.define("standard.BorderedImage",{attrs:{root:{cursor:"move"},border:{width:"calc(w)",height:"calc(h)",stroke:"#333333",strokeWidth:2},background:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5,fill:"#FFFFFF"},image:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),KG=mi.define("standard.EmbeddedImage",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{width:"calc(0.3*w)",height:"calc(h-20)",x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",x:"calc(0.3*w+20)",y:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),YG=mi.define("standard.InscribedImage",{attrs:{root:{cursor:"move"},border:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",stroke:"#333333",strokeWidth:2},background:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",fill:"#FFFFFF"},image:{width:"calc(0.68*w)",height:"calc(0.68*h)",x:"calc(0.16*w)",y:"calc(0.16*h)",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),XG=mi.define("standard.HeaderedRectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{width:"calc(w)",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var hx=10;const SL=mi.define("standard.Cylinder",{attrs:{root:{cursor:"move"},body:{lateralArea:hx,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{cx:"calc(w/2)",cy:hx,rx:"calc(w/2)",ry:hx,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n={lateralArea:e},i=rr(e),r=i?`calc(${parseFloat(e)/100}*h)`:e,o={cy:r,ry:r};return this.attr({body:n,top:o},t)}},{attributes:{"lateral-area":{set:function(e,t){var n=rr(e);n&&(e=parseFloat(e)/100);var i=t.x,r=t.y,o=t.width,s=t.height,a=o/2,l=n?s*e:e,u=We.KAPPA,f=u*a,d=u*(n?s*e:e),m=i,b=i+o/2,x=i+o,C=r+l,k=C-l,T=r+s-l,A=r+s,R=["M",m,C,"L",m,T,"C",i,T+d,b-f,A,b,A,"C",b+f,A,x,T+d,x,T,"L",x,C,"C",x,C-d,b+f,k,b,k,"C",b-f,k,m,C-d,m,C,"Z"];return{d:R.join(" ")}}}}});var JG={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},QG={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},ZG=qG.test("svgforeignobject")?JG:QG;const eW=mi.define("standard.TextBlock",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{width:"calc(w)",height:"calc(h)"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},ZG]},{attributes:{text:{set:function(e,t,n,i){if(n instanceof HTMLElement)n.textContent=e;else{var r=i.style||{},o={text:e,width:-5,height:"100%"},s=xt({"text-vertical-anchor":"middle"},r);return mL["text-wrap"].set.call(this,o,t,n,s),{fill:r.color||null}}},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),k0=om.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),tW=om.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),nW=om.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,transform:"translate(3,6)",stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),iW=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:jG,Circle:tC,Cylinder:SL,DoubleLink:tW,Ellipse:UG,EmbeddedImage:KG,HeaderedRectangle:XG,Image:WG,InscribedImage:YG,Link:k0,Path:HG,Polygon:VG,Polyline:GG,Rectangle:zG,ShadowLink:nW,TextBlock:eW},Symbol.toStringTag,{value:"Module"})),EL=Object.freeze(Object.defineProperty({__proto__:null,standard:iW},Symbol.toStringTag,{value:"Module"})),dd={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},rW=Object.values(dd),oW=10,sW=1,nC=function(e,t,n=[],i={}){const{cornerType:r=dd.POINT,cornerRadius:o=oW,cornerPreserveAspectRatio:s=!1,precision:a=sW,raw:l=!1}=i;if(rW.indexOf(r)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(r===dd.POINT||!o){const f=[e].concat(n).concat([t]),d=new ri(f);u=new Dt(d)}else{u=new Dt,u.appendSegment(Dt.createSegment("M",e));let f;const d=n.length;for(let m=0;m<d;m++){const b=new ge(n[m]),x=n[m-1]||e,C=n[m+1]||t,k=f||b.distance(x)/2;f=b.distance(C)/2;let T,A;s?T=A=-Math.min(o,k,f):(T=-Math.min(o,k),A=-Math.min(o,f));const R=b.clone().move(x,T).round(a),F=b.clone().move(C,A).round(a);switch(u.appendSegment(Dt.createSegment("L",R)),r){case dd.CUBIC:{const Z=.3333333333333333,ee=2/3,g=new ge(Z*R.x+ee*b.x,ee*b.y+Z*R.y),L=new ge(Z*F.x+ee*b.x,ee*b.y+Z*F.y);u.appendSegment(Dt.createSegment("C",g,L,F));break}case dd.LINE:{u.appendSegment(Dt.createSegment("L",F));break}case dd.GAP:{u.appendSegment(Dt.createSegment("M",F));break}}}u.appendSegment(Dt.createSegment("L",t))}return l?u:u.serialize()};var aW=5,jA=["arc","gap","cubic"],lW=0,KA=1,cW=["smooth"],my=1/3,yy=2/3;function YA(e,t){let{x:n,y:i}=e,{x:r,y:o}=t;if(n>r){let s=n;n=r,r=s,s=i,i=o,o=s}if(i>o){let s=n;n=r,r=s,s=i,i=o,o=s}return[new ge(n,i),new ge(r,o)]}function uW(e,t){const[{x:n,y:i},{x:r,y:o}]=YA(e.start,e.end),[{x:s,y:a},{x:l,y:u}]=YA(t.start,t.end),f=n<=l&&s<=r,d=i<=u&&a<=o;return f&&d}function fx(e,t,n){var i=[].concat(e,n,t);return i.reduce(function(r,o,s){var a=i[s+1];return a!=null&&(r[s]=mu(o,a)),r},[])}function dW(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var i=t.model;i.on("batch:stop",function(){this.hasActiveBatch()||hW(t)}),i.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function hW(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const i=t[n],r=i.getFlag(i.constructor.Flags.CONNECTOR);i.requestUpdate(r)}}function fW(e,t){return In(t).reduce(function(n,i){var r=e.intersection(i);return r&&n.push(r),n},[])}function XA(e,t){return mu(e,t).squaredLength()}function pW(e,t,n){return t.reduce(function(i,r,o){if(r.skip===!0)return i;var s=i.pop()||e,a=fv(r).move(s.start,-n),l=fv(r).move(s.start,+n),u=t[o+1];if(u!=null){var f=l.distance(u);f<=n&&(l=u.move(s.start,f),u.skip=!0)}else{var d=a.distance(s.end);if(d<n*2+KA)return i.push(s),i}var m=l.distance(s.start);if(m<n*2+KA)return i.push(s),i;var b=mu(a,l);return b.isJump=!0,i.push(mu(s.start,a),b,mu(l,s.end)),i},[])}function JA(e,t,n,i){var r=new Dt,o;return o=Dt.createSegment("M",e[0].start),r.appendSegment(o),In(e).forEach(function(s,a){if(s.isJump){var l,u,f,d;if(n==="arc"){l=-90,u=s.start.difference(s.end);var m=+(u.x<0||u.x===0&&u.y<0);m&&(l+=180);var b=s.midpoint(),x=new _t(b,s.end).rotate(b,l),C;C=new _t(s.start,b),f=C.pointAt(2/3).rotate(s.start,l),d=x.pointAt(1/3).rotate(x.end,-l),o=Dt.createSegment("C",f,d,x.end),r.appendSegment(o),C=new _t(b,s.end),f=x.pointAt(1/3).rotate(x.end,l),d=C.pointAt(1/3).rotate(s.end,-l),o=Dt.createSegment("C",f,d,s.end),r.appendSegment(o)}else if(n==="gap")o=Dt.createSegment("M",s.end),r.appendSegment(o);else if(n==="cubic"){l=s.start.theta(s.end);var k=t*.6,T=t*1.35;u=s.start.difference(s.end),m=+(u.x<0||u.x===0&&u.y<0),m&&(T*=-1),f=ge(s.start.x+k,s.start.y+T).rotate(s.start,l),d=ge(s.end.x-k,s.end.y+T).rotate(s.end,l),o=Dt.createSegment("C",f,d,s.end),r.appendSegment(o)}}else{var A=e[a+1];i==0||!A||A.isJump?(o=Dt.createSegment("L",s.end),r.appendSegment(o)):gW(i,r,s.end,s.start,A.end)}}),r}function gW(e,t,n,i,r){var o=n.distance(i)/2,s=n.distance(r)/2,a=-Math.min(e,o),l=-Math.min(e,s),u=n.clone().move(i,a).round(),f=n.clone().move(r,l).round(),d=new ge(my*u.x+yy*n.x,yy*n.y+my*u.y),m=new ge(my*f.x+yy*n.x,yy*n.y+my*f.y),b;b=Dt.createSegment("L",u),t.appendSegment(b),b=Dt.createSegment("C",d,m,f),t.appendSegment(b)}const mW=function(e,t,n,i){dW(this);var r=i.raw,o=i.size||aW,s=i.jump&&(""+i.jump).toLowerCase(),a=i.radius||lW,l=i.ignoreConnectors||cW;jA.indexOf(s)===-1&&(s=jA[0]);var u=this.paper,f=u.model,d=f.getLinks();if(d.length===1)return JA(fx(e,t,n),o,s,a);var m=this.model,b=d.indexOf(m),x=u.options.defaultConnector||{},C=d.filter(function(Z,ee){var g=Z.get("connector")||x;return In(l).includes(g.name)?!1:ee>b?g.name!=="jumpover":!0}),k=C.map(function(Z){return u.findViewByModel(Z)}),T=fx(e,t,n),A=k.map(function(Z){return Z==null?[]:Z===this?T:fx(Z.sourcePoint,Z.targetPoint,Z.route)},this),R=T.reduce(function(Z,ee){var g=C.reduce(function(L,M,z){if(M!==m){const Q=A[z].slice(),de=Q.findIndex(pe=>uW(ee,pe));de>-1&&ee.containsPoint(Q[de].end)&&Q.splice(de+1,1);const ce=fW(ee,Q);L.push.apply(L,ce)}return L},[]).sort(function(L,M){return XA(ee.start,L)-XA(ee.start,M)});return g.length>0?Z.push.apply(Z,pW(ee,g,o)):Z.push(ee),Z},[]),F=JA(R,o,s,a);return r?F:F.serialize()},yW=function(e,t,n=[],i={}){const{raw:r}=i;return nC(e,t,n,{cornerType:"point",raw:r})},vW=10,bW=0,_W=function(e,t,n=[],i={}){const{radius:r=vW,raw:o}=i;return nC(e,t,n,{cornerType:"cubic",cornerRadius:r,precision:bW,raw:o})},xW=function(e,t,n,i){var r=i&&i.raw,o;if(n&&n.length!==0){var s=[e].concat(n).concat([t]),a=zn.throughPoints(s);o=new Dt(a)}else{o=new Dt;var l;if(l=Dt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Dt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Dt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return r?o:o.serialize()},Go={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Pr={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},iC=function(e,t,n=[],i={},r){const o=!!i.raw,{direction:s=Go.AUTO,precision:a=3}=i,l={coeff:i.distanceCoefficient||.6,angleTangentCoefficient:i.angleTangentCoefficient||80,tau:i.tension||.5,sourceTangent:i.sourceTangent?new ge(i.sourceTangent):null,targetTangent:i.targetTangent?new ge(i.targetTangent):null,rotate:!!i.rotate};typeof i.sourceDirection=="string"?l.sourceDirection=i.sourceDirection:typeof i.sourceDirection=="number"?l.sourceDirection=new ge(1,0).rotate(null,i.sourceDirection):l.sourceDirection=i.sourceDirection?new ge(i.sourceDirection).normalize():null,typeof i.targetDirection=="string"?l.targetDirection=i.targetDirection:typeof i.targetDirection=="number"?l.targetDirection=new ge(1,0).rotate(null,i.targetDirection):l.targetDirection=i.targetDirection?new ge(i.targetDirection).normalize():null;const u=[e,...n,t].map(C=>new ge(C));let f;if(l.sourceTangent)f=l.sourceTangent;else{const C=EW(r,u,s,l),k=u[0].distance(u[1])*l.coeff,T=u[1].difference(u[0]).normalize(),A=_w(C,T);if(A>Math.PI/4){const R=k+(A-Math.PI/4)*l.angleTangentCoefficient;f=C.clone().scale(R,R)}else f=C.clone().scale(k,k)}let d;if(l.targetTangent)d=l.targetTangent;else{const C=AW(r,u,s,l),k=u.length-1,T=u[k-1].distance(u[k])*l.coeff,A=u[k-1].difference(u[k]).normalize(),R=_w(C,A);if(R>Math.PI/4){const F=T+(R-Math.PI/4)*l.angleTangentCoefficient;d=C.clone().scale(F,F)}else d=C.clone().scale(T,T)}const b=IW(u,f,d,l).map(C=>PW(C,l)),x=new Dt(b).round(a);return o?x:x.serialize()};iC.Directions=Go;iC.TangentDirections=Pr;function wW(e,t,n){const{sourceBBox:i}=e;let r,o;if(!e.sourceView)i.x>t[1].x?r="right":r="left";else if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let s;switch(r){case"left":s=new ge(-1,0);break;case"right":default:s=new ge(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function CW(e,t,n){const{targetBBox:i}=e;let r,o;if(!e.targetView)i.x>t[t.length-2].x?r="left":r="right";else if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let s;switch(r){case"left":s=new ge(-1,0);break;case"right":default:s=new ge(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function TW(e,t,n){const{sourceBBox:i}=e;let r,o;if(!e.sourceView)i.y>t[1].y?r="bottom":r="top";else if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let s;switch(r){case"top":s=new ge(0,-1);break;case"bottom":default:s=new ge(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function SW(e,t,n){const{targetBBox:i}=e;let r,o;if(!e.targetView)i.y>t[t.length-2].y?r="top":r="bottom";else if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let s;switch(r){case"top":s=new ge(0,-1);break;case"bottom":default:s=new ge(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function QA(e,t,n){const{sourceBBox:i}=e;let r,o;if(!e.sourceView)r=i.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),n.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let s;switch(r){case"top":s=new ge(0,-1);break;case"bottom":s=new ge(0,1);break;case"right":s=new ge(1,0);break;case"left":s=new ge(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function ZA(e,t,n){const{targetBBox:i}=e;let r,o;if(!e.targetView)r=i.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),n.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),o),r=a.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let s;switch(r){case"top":s=new ge(0,-1);break;case"bottom":s=new ge(0,1);break;case"right":s=new ge(1,0);break;case"left":s=new ge(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function ek(e,t,n){return t[1].difference(t[0]).normalize()}function tk(e,t,n){const i=t.length-1;return t[i-1].difference(t[i]).normalize()}function nk(e,t,n){const{sourceBBox:i}=e,r=i.center();return t[0].difference(r).normalize()}function ik(e,t,n){const{targetBBox:i}=e,r=i.center();return t[t.length-1].difference(r).normalize()}function EW(e,t,n,i){if(i.sourceDirection)switch(i.sourceDirection){case Pr.UP:return new ge(0,-1);case Pr.DOWN:return new ge(0,1);case Pr.LEFT:return new ge(-1,0);case Pr.RIGHT:return new ge(1,0);case Pr.AUTO:return QA(e,t,i);case Pr.CLOSEST_POINT:return ek(e,t);case Pr.OUTWARDS:return nk(e,t);default:return i.sourceDirection}switch(n){case Go.HORIZONTAL:return wW(e,t,i);case Go.VERTICAL:return TW(e,t,i);case Go.CLOSEST_POINT:return ek(e,t);case Go.OUTWARDS:return nk(e,t);case Go.AUTO:default:return QA(e,t,i)}}function AW(e,t,n,i){if(i.targetDirection)switch(i.targetDirection){case Pr.UP:return new ge(0,-1);case Pr.DOWN:return new ge(0,1);case Pr.LEFT:return new ge(-1,0);case Pr.RIGHT:return new ge(1,0);case Pr.AUTO:return ZA(e,t,i);case Pr.CLOSEST_POINT:return tk(e,t);case Pr.OUTWARDS:return ik(e,t);default:return i.targetDirection}switch(n){case Go.HORIZONTAL:return CW(e,t,i);case Go.VERTICAL:return SW(e,t,i);case Go.CLOSEST_POINT:return tk(e,t);case Go.OUTWARDS:return ik(e,t);case Go.AUTO:default:return ZA(e,t,i)}}function kW(e,t){const n=Math.cos(t),i=Math.sin(t),r=n*e.x-i*e.y,o=i*e.x+n*e.y;e.x=r,e.y=o}function _w(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function rk(e,t){return e.x*t.y-e.y*t.x}function IW(e,t,n,i){const{tau:r,coeff:o}=i,s=[],a=[],l=[],u=e.length-1;for(let f=0;f<u;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[u]=n;for(let f=1;f<u;f++){let d,m;f===1?d=e[f-1].clone().offset(a[f-1].x,a[f-1].y):d=e[f-1].clone(),f===u-1?m=e[f+1].clone().offset(a[f+1].x,a[f+1].y):m=e[f+1].clone();const b=d.difference(e[f]).normalize(),x=m.difference(e[f]).normalize(),C=_w(b,x);let k=(Math.PI-C)/2,T;const A=rk(b,x);let R;R=rk(e[f].difference(e[f+1]),e[f].difference(e[f-1])),A<0&&(k=-k),C<Math.PI/2&&(k<0&&R<0||k>0&&R>0)&&(k=k-Math.PI),T=x.clone(),kW(T,k);const F=T.clone(),Z=T.clone(),ee=s[f-1]*o,g=s[f]*o;F.scale(ee,ee),Z.scale(g,g),a[f]=[F,Z]}for(let f=0;f<u;f++){let d,m;f===0?d=e[f+1].difference(a[f].x/r,a[f].y/r):d=e[f+1].difference(a[f][1].x/r,a[f][1].y/r),f===u-1?m=e[f].clone().offset(a[f+1].x/r,a[f+1].y/r):m=e[f].difference(a[f+1][0].x/r,a[f+1][0].y/r),l[f]=[d,e[f],e[f+1],m]}return l}function PW(e,t){const{tau:n}=t,i=new ge;i.x=e[1].x+(e[2].x-e[0].x)/(6*n),i.y=e[1].y+(e[2].y-e[0].y)/(6*n);const r=new ge;return r.x=e[2].x+(e[3].x-e[1].x)/(6*n),r.y=e[2].y+(e[3].y-e[1].y)/(6*n),new zn(e[1],i,r,e[2])}const OW=Object.freeze(Object.defineProperty({__proto__:null,curve:iC,jumpover:mW,normal:yW,rounded:_W,smooth:xW,straight:nC},Symbol.toStringTag,{value:"Module"}));var Yc=function(e){this.cid=yp("view"),this.preinitialize.apply(this,arguments),xt(this,jV(e,DW)),this._ensureElement(),this.initialize.apply(this,arguments)},LW=/^(\S+)\s*(.*)$/,DW=["model","collection","el","id","attributes","className","tagName","events"];xt(Yc.prototype,Fr,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof dt?e:dt(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=ei(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(Vn(n)||(n=this[n]),!!n){var i=t.match(LW);this.delegate(i[1],i[2],n.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(ei(this,"el"));else{var e=xt({},ei(this,"attributes"));this.id&&(e.id=ei(this,"id")),this.className&&(e.class=ei(this,"className")),this.setElement(this._createElement(ei(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});Yc.extend=Z1;const Vc={},aa=Yc.extend({options:{},theme:null,themeClassNamePrefix:ja("theme-"),requireSetThemeOverride:!1,defaultTheme:kd.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=xt({},this.options,e),Yc.call(this,e)},initialize:function(){Vc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=ei(this,"children")),e){var t=this.svgElement,n=We.namespace[t?"svg":"xhtml"],i=mv(e,n);(t?this.vel:this.$el).empty().append(i.fragment),this.childNodes=i.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&n.nodeType===1;){var i=n.getAttribute(e);if(i)return i;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(ei(this,"el"));else{var e=ei(this,"tagName"),t=xt({},ei(this,"attributes")),n=xt({},ei(this,"style"));this.id&&(t.id=ei(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(We.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof dt?e:dt(e),this.el=this.$el[0],this.svgElement&&(this.vel=We(this.el))},_ensureElClassName:function(){var e=ei(this,"className");if(e){var t=ja(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Vc[this.cid]=null,Yc.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var i=this.getEventNamespace();for(var r in t){var o=t[r];typeof o!="function"&&(o=this[o]),o&&dt(e).on(r+i,n,o.bind(this))}return this},undelegateElementEvents:function(e){return dt(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=ei(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,i="__"+this.cid+"__";return t===void 0?n?n[i]||{}:{}:(n||(n=e.data={}),n[i]||(n[i]={}),xt(n[i],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&xt({},e[0])||{},n=e[1]&&xt({},e[1])||{},i=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof i=="function"&&i.apply(this,arguments),this.render.__render__===i&&this.onRender(),this},t.render.__render__=i,Yc.extend.call(this,t,n)}});var Mh=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,xt({silent:!0},t))},NW={add:!0,remove:!0,merge:!0},MW={add:!0,remove:!1},ok=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i=Array(e.length-n),r=t.length,o;for(o=0;o<i.length;o++)i[o]=e[o+n];for(o=0;o<r;o++)e[o+n]=t[o];for(o=0;o<i.length;o++)e[o+r+n]=i[o]};xt(Mh.prototype,Fr,{model:Vo,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){return this.set(e,xt({merge:!1},t,MW))},remove:function(e,t){t=xt({},t);var n=!Array.isArray(e);e=n?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),n?i[0]:i},set:function(e,t){if(e!=null){t=xt({},NW,t);var n=!Array.isArray(e);e=n?[e]:e.slice();var i=t.at;i!=null&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r=[],o=[],s=[],a=[],l={},u=t.add,f=t.merge,d=t.remove,m=!1,b=this.comparator&&i==null&&t.sort!==!1,x=Wi(this.comparator)?this.comparator:null,C,k;for(k=0;k<e.length;k++){C=e[k];var T=this.get(C);if(T){if(f&&C!==T){var A=this._isModel(C)?C.attributes:C;T.set(A,t),s.push(T),b&&!m&&(m=T.hasChanged(x))}l[T.cid]||(l[T.cid]=!0,r.push(T)),e[k]=T}else u&&(C=e[k]=this._prepareModel(C,t),C&&(o.push(C),this._addReference(C,t),l[C.cid]=!0,r.push(C)))}if(d){for(k=0;k<this.length;k++)C=this.models[k],l[C.cid]||a.push(C);a.length&&this._removeModels(a,t)}var R=!1,F=!b&&u&&d;if(r.length&&F?(R=this.length!==r.length||this.models.some(function(Z,ee){return Z!==r[ee]}),this.models.length=0,ok(this.models,r,0),this.length=this.models.length):o.length&&(b&&(m=!0),ok(this.models,o,i??this.length),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(k=0;k<o.length;k++)i!=null&&(t.index=i+k),C=o[k],C.trigger("add",C,this,t);(m||R)&&this.trigger("sort",this,t),(o.length||a.length||s.length)&&(t.changes={added:o,removed:a,merged:s},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?Ji(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,xt({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,xt({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,xt({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return Array.prototype.slice.apply(this.models,arguments)},get:function(e){if(e!=null)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){return e<0&&(e+=this.length),this.models[e]},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return Vn(t)&&(t=t.bind(this)),n===1||Wi(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new Qf(this,AL)},keys:function(){return new Qf(this,kL)},entries:function(){return new Qf(this,FW)},each:function(e,t){this.models.forEach(e,t)},filter:function(e,t){return this.models.filter(e,t)},find:function(e,t){return this.models.find(e,t)},findIndex:function(e,t){return this.models.findIndex(e,t)},first:function(){return this.models[0]},includes:function(e){return this.models.includes(e)},last:function(){return this.models[this.models.length-1]},isEmpty:function(){return!this.models.length},map:function(e,t){return this.models.map(e,t)},reduce:function(e,t=this.first()){return this.models.reduce(e,t)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?Ji(t):{},t.collection=this;var n;return this.model.prototype?n=new this.model(e,t):n=this.model(e,t),n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var o=this.models.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes,r.idAttribute);s!=null&&delete this._byId[s],t.silent||(t.index=o,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return e.length>0&&!t.silent&&delete t.index,n},_isModel:function(e){return e instanceof Vo},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="changeId"){var r=this.modelId(t.previousAttributes(),t.idAttribute),o=this.modelId(t.attributes,t.idAttribute);r!=null&&delete this._byId[r],o!=null&&(this._byId[o]=t)}}this.trigger.apply(this,arguments)}});var vv=typeof Symbol=="function"&&Symbol.iterator;vv&&(Mh.prototype[vv]=Mh.prototype.values);var Qf=function(e,t){this._collection=e,this._kind=t,this._index=0},AL=1,kL=2,FW=3;vv&&(Qf.prototype[vv]=function(){return this});Qf.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e=this._collection.at(this._index);this._index++;var t;if(this._kind===AL)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);this._kind===kL?t=n:t=[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var RW={toArray:1,sortBy:3},BW=[Mh,RW,"models"];function $W(e){var t=e[0],n=e[1],i=e[2];X9(t,{sortBy:qy,toArray:In},n,i)}$W(BW);Mh.extend=Z1;function Af(e){return e?Array.isArray(e)?e:[e]:[]}const bs=aa.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if(typeof t=="string")n=e.findNode(t);else if(Pi(t)){const i=e.model.isLink(),{label:r=null,port:o,selector:s}=t;i&&r!==null?n=e.findLabelNode(r,s):!i&&o?n=e.findPortNode(o,s):n=e.findNode(s)}else t&&(n=We.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){const{options:n}=this,{layer:i}=n,{rotatableNode:r}=e,o=e.getNodeMatrix(t);return r?i?r.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:i,transformGroup:r,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||r)return;if(s){this.update(t,a),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=i;if(f){let d;o?(d=o,this.detachedTransformGroup=null):d=We("g").addClass("highlight-transform").append(n),this.transformGroup=d,u.getLayerView(f).insertSortedNode(d.node,i.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const i=t.getRootTranslateMatrix(),r=t.getRootRotateMatrix(),o=i.multiply(r);e.attr("transform",We.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:i,id:r}=this;if(i)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",r,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:i}=this;e&&this.unhighlight(t,e),this.unmount(),i._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=ei(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;ei(this,"UPDATE_ATTRIBUTES").some(r=>t.hasChanged(r))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const i=this.uniqueId(t,n);this.add(e,t,i,n)},unhighlight:function(e,t,n){const i=this.uniqueId(t,n);this.remove(e,i)},get(e,t=null){const{cid:n}=e,{_views:i}=this,r=i[n];if(t===null){const o=[];if(!r)return o;for(let s in r){const a=r[s];a instanceof this&&o.push(a)}return o}else{if(!r)return null;if(t in r){const o=r[t];if(o instanceof this)return o}return null}},add(e,t,n,i={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const r=bs.get(e,n);r&&r.remove();const o=new this(i);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){const{cid:i}=e,{_views:r}=this;let o=r[i];o||(o=r[i]={}),o[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:i}=this,r=i[n];if(r){t&&delete r[t];for(let o in r)return;delete i[n]}},remove(e,t=null){Af(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){const{_views:n}=this;for(let i in n)for(let r in n[i]){const o=n[i][r];o.cellView.paper===e&&o instanceof this&&(t===null||r===t)&&o.remove()}},update(e,t=null,n=!1){Af(this.get(e,t)).forEach(i=>{(n||i.UPDATABLE)&&i.update()})},transform(e,t=null){Af(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){Af(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){Af(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return We.ensureId(e)+JSON.stringify(t)}}),Ka=bs.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:i}=n;let r;try{const o=We(t);if(r=o.convertToPathData().trim(),o.tagName()==="PATH"&&i){const s=r.search(/.M/i)+1;s>0&&(r=r.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);r=We.rectToPath(xt({},n,s.toJSON()))}return r},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:i}=this,{padding:r,layer:o}=i;let s=this.getNodeMatrix(e,t);if(r){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,u=a.y+a.height/2;a=We.transformRect(a,s);const f=Math.max(a.width,1),d=Math.max(a.height,1),m=(f+r)/f,b=(d+r)/d,x=We.createSVGMatrix({a:m,b:0,c:0,d:b,e:l-m*l,f:u-b*u});s=s.multiply(x)}n.attr({d:this.getPathData(e,t),transform:We.matrixToTransformString(s)})},highlight(e,t){const{vel:n,options:i}=this;n.attr(i.attrs),i.nonScalingStroke&&n.attr("vector-effect","non-scaling-stroke"),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),sk=20;function qW(e,t){const n=e.children();for(;n.length>0;){const i=n.shift();t(i)&&n.push(...i.children())}}const zW=bs.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:sk,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:i,MASK_REMOVE_TAGS:r}=this,o=t.tagName();if(!We.isSVGGraphicsElement(t)||r.includes(o))return t.remove(),!1;if(i.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=We.transformRect(l,e.getNodeMatrix(a)));const u=We("rect",l.toJSON()),{x:f,y:d}=l.center(),{angle:m,cx:b=f,cy:x=d}=s.rotate();m&&u.rotate(m,b,x),t.parent().append(u)}return t.remove(),!1}return n.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(i=>{t.removeAttr(i)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:i}=this,{deep:r}=n,o=t.tagName();let s;if(o==="G"){if(!r)return null;s=t.clone(),qW(s,a=>this.transformMaskChild(e,a))}else{if(i.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:i,options:r}=this,{padding:o,attrs:s}=r,a=parseFloat(We("g").attr(s).attr("stroke-width")),l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,d=f+a*2;let m=this.getMaskShape(e,t);if(!m){const b=e.getNodeBoundingRect(t.node);b.inflate(b.width?0:.5,b.height?0:.5),m=We("rect",b.toJSON())}return m.attr(s),We("mask",{id:this.getMaskId()}).append([m.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":d}),m.clone().attr({fill:l?i:"none",stroke:i,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:i}=this,{padding:r,attrs:o,maskClip:s=sk,layer:a}=n,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&i.remove();const u=e.getNodeBoundingRect(t).inflate(r+s),f=this.getNodeMatrix(e,t),d=this.getMask(e,We(t));this.addMask(e.paper,d),i.attr(u.toJSON()),i.attr({transform:We.matrixToTransformString(f),mask:`url(#${d.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),UW=bs.extend({UPDATABLE:!1,MOUNTABLE:!1,highlight:function(e,t){const{alphaValue:n=.3}=this.options;t.style.opacity=n},unhighlight:function(e,t){t.style.opacity=""}}),ak=ja("highlighted"),HW=bs.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:ak},highlight:function(e,t){We(t).addClass(this.options.className)},unhighlight:function(e,t){We(t).removeClass(this.options.className)}},{className:ak}),px={ROW:"row",COLUMN:"column"},VW=bs.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:i,size:r=20,gap:o=5,direction:s=px.ROW}=this.options;if(!i)throw new Error("List: attribute is required");const a=typeof r=="number"?{width:r,height:r}:r,l=s===px.ROW,u=l?a.width:a.height;let f=n.get(i);Array.isArray(f)||(f=[]);const d=this._prevItems||[],m=f.map((k,T)=>Wa(d[T],f[T]));if(d.length!==f.length||m.some(k=>!k)){const k=this.vel.children(),T=f.map((A,R)=>{const F=R in k?k[R].node:null;if(m[R])return F;const Z=this.createListItem(A,a,F);if(!Z)return null;if(!(Z instanceof SVGElement))throw new Error("List: item must be an SVGElement");Z.dataset.index=R,Z.dataset.attribute=i;const ee=R*(u+o);return Z.setAttribute("transform",l?`translate(${ee}, 0)`:`translate(0, ${ee})`),Z});this.vel.empty().append(T),this._prevItems=f}const b=f.length,x=b===0?0:b*u+(b-1)*o,C=l?{width:x,height:a.height}:{width:a.width,height:x};this.position(n,C)},position(e,t){const{vel:n,options:i}=this,{margin:r=5,position:o="top-left"}=i,{width:s,height:a}=e.size(),{left:l,right:u,top:f,bottom:d}=nl(r),m=new pt(l,f,s-(l+u),a-(f+d));let{x:b,y:x}=yL(m,o);switch(o){case Ci.CENTER:case Ci.TOP:case Ci.BOTTOM:{b-=t.width/2;break}case Ci.RIGHT:case Ci.BOTTOM_RIGHT:case Ci.TOP_RIGHT:{b-=t.width;break}}switch(o){case Ci.CENTER:case Ci.RIGHT:case Ci.LEFT:{x-=t.height/2;break}case Ci.BOTTOM:case Ci.BOTTOM_RIGHT:case Ci.BOTTOM_LEFT:{x-=t.height;break}}n.attr("transform",`translate(${b}, ${x})`)}},{Directions:px,Positions:Ci}),GW=Object.freeze(Object.defineProperty({__proto__:null,addClass:HW,list:VW,mask:zW,opacity:UW,stroke:Ka},Symbol.toStringTag,{value:"Module"}));function I0(e,t,n){if(Pi(n)){const{x:r,y:o}=n;if(isFinite(o)){const s=new _t(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}n=r}if(!isFinite(n))return e;var i=e.distance(t);return n===0&&i>0?e:e.move(t,-Math.min(n,i-1))}function rC(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function WW(e,t,n=0){let i,r,o,s;const{start:a,end:l}=e;switch(t){case"left":i="x",r=l,o=a,s=-1;break;case"right":i="x",r=a,o=l,s=1;break;case"top":i="y",r=l,o=a,s=-1;break;case"bottom":i="y",r=a,o=l,s=1;break;default:return}a[i]<l[i]?r[i]=o[i]:o[i]=r[i],isFinite(n)&&(r[i]+=s*n,o[i]+=s*n)}function jW(e,t,n,i){let{offset:r,alignOffset:o,align:s}=i;return s&&WW(e,s,o),I0(e.end,e.start,r)}function IL(e,t,n,i){var r=t.getNodeBBox(n);i.stroke&&r.inflate(rC(n)/2);var o=e.intersect(r),s=o?e.start.chooseClosest(o):e.end;return I0(s,e.start,i.offset)}function KW(e,t,n,i){var r=t.model.angle();if(r===0)return IL(e,t,n,i);var o=t.getNodeUnrotatedBBox(n);i.stroke&&o.inflate(rC(n)/2);var s=o.center(),a=e.clone().rotate(s,r),l=a.setLength(1e6).intersect(o),u=l?a.start.chooseClosest(l).rotate(s,-r):e.end;return I0(u,e.start,i.offset)}function YW(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var gx="segmentSubdivisons",mx="shapeBBox";function XW(e,t,n,i){var r,o,s=i.selector,a=e.end;if(typeof s=="string"?r=t.findNode(s):s===!1?r=n:Array.isArray(s)?r=Nh(n,s):r=YW(n),!We.isSVGGraphicsElement(r)){if(r===n||!We.isSVGGraphicsElement(n))return a;r=n}var l=t.getNodeShape(r),u=t.getNodeMatrix(r),f=t.getRootTranslateMatrix(),d=t.getRootRotateMatrix(),m=f.multiply(d).multiply(u),b=m.inverse(),x=We.transformLine(e,b),C=x.start.clone(),k=t.getNodeData(r);if(i.insideout===!1){k[mx]||(k[mx]=l.bbox());var T=k[mx];if(T.containsPoint(C))return a}var A;if(l instanceof Dt){var R=i.precision||2;k[gx]||(k[gx]=l.getSegmentSubdivisions({precision:R})),A={precision:R,segmentSubdivisions:k[gx]}}i.extrapolate===!0&&x.setLength(1e6),o=x.intersect(l,A),o?We.isArray(o)&&(o=C.chooseClosest(o)):i.sticky===!0&&(l instanceof pt?o=l.pointNearestToPoint(C):l instanceof Dr?o=l.intersectionWithLineFromCenterToPoint(C):o=l.closestPoint(C,A));var F=o?We.transformPoint(o,m):a,Z=i.offset||0;return i.stroke&&(Z+=rC(r)/2),I0(F,e.start,Z)}const JW=jW,QW=IL,ZW=KW,e8=XW,t8=Object.freeze(Object.defineProperty({__proto__:null,anchor:JW,bbox:QW,boundary:e8,rectangle:ZW},Symbol.toStringTag,{value:"Module"}));function lk(e,t){if(t===0)return"0%";const n=1e3;return`${Math.round(e/t*100*n)/n}%`}function n8(e){return function(t,n,i,r){var o=n.isNodeConnection(i)?r8:i8;return o(e,t,n,i,r)}}function i8(e,t,n,i,r){var o=n.model.angle(),s=n.getNodeUnrotatedBBox(i),a=n.model.getBBox().center();r.rotate(a,o);var l=r.x-s.x,u=r.y-s.y;return e&&(l=lk(l,s.width),u=lk(u,s.height)),t.anchor={name:"topLeft",args:{dx:l,dy:u,rotate:!0}},t}function r8(e,t,n,i,r){var o=n.getConnection();if(!o)return t;var s=o.closestPointLength(r);if(e){var a=o.length();t.anchor={name:"connectionRatio",args:{ratio:s/a}}}else t.anchor={name:"connectionLength",args:{length:s}};return t}const o8=n8(!0),s8=function(e,t,n){return e},a8=function(e,t,n){var i=t.side||"bottom",r=nl(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),l=s.center(),u,f,d;switch(i){case"bottom":d=1,u="y",f="height";break;case"top":d=-1,u="y",f="height";break;case"left":d=-1,u="x",f="width";break;case"right":d=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return a[u]+=d*(o[f]/2+r[i]),l[u]+=d*(s[f]/2+r[i]),d*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(e,l)};var l8={N:"S",S:"N",E:"W",W:"E"},c8={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function bv(e,t,n){var i=new ge(e.x,t.y);return n.containsPoint(i)&&(i=new ge(t.x,e.y)),i}function xw(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Nr(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function vy(e){return new pt(e.x,e.y,0,0)}function _v(e){var t=nl(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function PL(e,t){return e.sourceBBox.clone().moveAndExpand(_v(t))}function OL(e,t){return e.targetBBox.clone().moveAndExpand(_v(t))}function u8(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=PL(e,t);return n.center()}function d8(e,t){if(e.targetAnchor)return e.targetAnchor;var n=OL(e,t);return n.center()}function LL(e,t,n){var i=new ge(e.x,t.y),r=new ge(t.x,e.y),o=Nr(e,i),s=Nr(e,r),a=l8[n],l=o===n||o!==a&&(s===a||s!==n)?i:r;return{points:[l],direction:Nr(l,t)}}function Vy(e,t,n){var i=bv(e,t,n);return{points:[i],direction:Nr(i,t)}}function h8(e,t,n,i){var r={},o=[new ge(e.x,t.y),new ge(t.x,e.y)],s=o.filter(function(d){return!n.containsPoint(d)}),a=s.filter(function(d){return Nr(d,e)!==i}),l;if(a.length>0)l=a.filter(function(d){return Nr(e,d)===i}).pop(),l=l||a[0],r.points=[l],r.direction=Nr(l,t);else{l=WV(o,s)[0];var u=new ge(t).move(l,-xw(n,i)/2),f=bv(u,e,n);r.points=[f,u],r.direction=Nr(u,t)}return r}function f8(e,t,n,i){var r=Vy(t,e,i),o=r.points[0];if(n.containsPoint(o)){r=Vy(e,t,n);var s=r.points[0];if(i.containsPoint(s)){var a=new ge(e).move(s,-xw(n,Nr(e,s))/2),l=new ge(t).move(o,-xw(i,Nr(t,o))/2),u=new _t(a,l).midpoint(),f=Vy(e,u,n),d=LL(u,t,f.direction);r.points=[f.points[0],d.points[0]],r.direction=d.direction}}return r}function yx(e,t,n,i,r){var o={},s=n.union(i).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,u=a?e:t,f,d,m;return r?(f=ge.fromPolar(s.width+s.height,c8[r],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),d=bv(f,u,s),f.round().equals(d.round())?(d=ge.fromPolar(s.width+s.height,ao(f.theta(l))+Math.PI/2,u),d=s.pointNearestToPoint(d).move(u,1).round(),m=bv(f,d,s),o.points=a?[d,m,f]:[f,m,d]):o.points=a?[d,f]:[f,d],o.direction=Nr(a?f:d,t),o}function ww(e,t,n){var i=PL(n,t),r=OL(n,t),o=u8(n,t),s=d8(n,t);i=i.union(vy(o)),r=r.union(vy(s)),e=In(e).map(ge),e.unshift(o),e.push(s);for(var a,l=[],u=0,f=e.length-1;u<f;u++){var d=null,m=e[u],b=e[u+1],x=!!Nr(m,b);if(u===0)u+1===f?i.intersect(r.clone().inflate(1))?d=yx(m,b,i,r):x||(d=f8(m,b,i,r)):i.containsPoint(b)?d=yx(m,b,i,vy(b).moveAndExpand(_v(t))):x||(d=Vy(m,b,i));else if(u+1===f){var C=x&&Nr(b,m)===a;r.containsPoint(m)||C?d=yx(m,b,vy(m).moveAndExpand(_v(t)),r,a):x||(d=h8(m,b,r,a))}else x||(d=LL(m,b,a));d?(Array.prototype.push.apply(l,d.points),a=d.direction):a=Nr(m,b),u+1<f&&l.push(b)}return l}var DL={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!Vn(ww))throw new Error("Manhattan requires the orthogonal router as default fallback.");return ww(e,xt({},DL,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function oC(e){this.map={},this.options=e,this.mapGridSize=100}oC.prototype.build=function(e,t){var n=this.options,i=In(n.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var d=e.getCell(f.id);d&&l.push(d)}return l},[]),r=[],o=e.getCell(t.get("source").id);o&&(r=mw(r,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(r=mw(r,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=In(n.excludeTypes).includes(u.get("type")),d=i.find(function(F){return F.id===u.id}),m=r.includes(u.id),b=f||d||m;if(!b)for(var x=u.getBBox().moveAndExpand(n.paddingBox),C=x.origin().snapToGrid(a),k=x.corner().snapToGrid(a),T=C.x;T<=k.x;T+=a)for(var A=C.y;A<=k.y;A+=a){var R=T+"@"+A;l[R]=l[R]||[],l[R].push(x)}return l},this.map),this};oC.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return In(this.map[t]).every(function(n){return!n.containsPoint(e)})};function Lu(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Lu.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=XO(this.items,e,(function(i){return this.values[i]}).bind(this));this.items.splice(n,0,e)};Lu.prototype.remove=function(e){this.hash[e]=this.CLOSE};Lu.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Lu.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Lu.prototype.isEmpty=function(){return this.items.length===0};Lu.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function NL(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function ML(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function FL(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=NL(e,t);return n.center()}function p8(e,t){if(e.targetAnchor)return e.targetAnchor;var n=ML(e,t);return n.center()}function vx(e,t,n,i,r){var o=360/n,s=e.theta(g8(e,t,i,r)),a=Es(s+o/2);return o*Math.floor(a/o)}function g8(e,t,n,i){var r=i.step,o=t.x-e.x,s=t.y-e.y,a=o/n.x,l=s/n.y,u=a*r,f=l*r;return new ge(e.x+u,e.y+f)}function ck(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function m8(e,t,n){var i=n.step;In(n.directions).forEach(function(r){r.gridOffsetX=r.offsetX/i*t.x,r.gridOffsetY=r.offsetY/i*t.y})}function y8(e,t,n){return{source:t.clone(),x:uk(n.x-t.x,e),y:uk(n.y-t.y,e)}}function uk(e,t){if(!e)return t;var n=Math.abs(e),i=Math.round(n/t);if(!i)return n;var r=i*t,o=n-r,s=o/i;return t+s}function v8(e,t){var n=t.source,i=Cu(e.x-n.x,t.x)+n.x,r=Cu(e.y-n.y,t.y)+n.y;return new ge(i,r)}function Nf(e,t){return e.round(t)}function Gy(e,t,n){return Nf(v8(e.clone(),t),n)}function Zf(e){return e.clone().toString()}function bx(e){return new ge(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function b8(e,t,n,i,r,o,s){for(var a=[],l=bx(r.difference(n)),u=Zf(n),f=e[u],d;f;){d=t[u];var m=bx(d.difference(f));m.equals(l)||(a.unshift(d),l=m),u=Zf(f),f=e[u]}var b=t[u],x=bx(b.difference(i));return x.equals(l)||a.unshift(b),a}function dk(e,t){for(var n=1/0,i=0,r=t.length;i<r;i++){var o=e.manhattanDistance(t[i]);o<n&&(n=o)}return n}function hk(e,t,n,i,r){var o=r.precision,s=r.directionMap,a=e.difference(t.center()),l=Ln(s)?Object.keys(s):[],u=In(n),f=l.reduce(function(d,m){if(u.includes(m)){for(var b=s[m],x=new ge(e.x+b.x*(Math.abs(a.x)+t.width),e.y+b.y*(Math.abs(a.y)+t.height)),C=new _t(e,x),k=C.intersect(t)||[],T=k.length,A,R=null,F=0;F<T;F++){var Z=k[F],ee=e.squaredDistance(Z);(A===void 0||ee>A)&&(A=ee,R=Z)}if(R){var g=Gy(R,i,o);t.containsPoint(g)&&(g=Gy(g.offset(b.x*i.x,b.y*i.y),i,o)),d.push(g)}}return d},[]);return t.containsPoint(e)||f.push(Gy(e,i,o)),f}function _8(e,t,n,i){var r=i.precision,o,s;e instanceof pt?o=Nf(FL(this,i).clone(),r):o=Nf(e.clone(),r),t instanceof pt?s=Nf(p8(this,i).clone(),r):s=Nf(t.clone(),r);var a=y8(i.step,o,s),l,u,f,d;if(e instanceof pt?(l=o,f=hk(l,e,i.startDirections,a,i)):(l=o,f=[l]),t instanceof pt?(u=s,d=hk(s,t,i.endDirections,a,i)):(u=s,d=[u]),f=f.filter(xe=>!n(xe)),d=d.filter(xe=>!n(xe)),f.length>0&&d.length>0){for(var m=new Lu,b={},x={},C={},k=0,T=f.length;k<T;k++){var A=f[k],R=Zf(A);m.add(R,dk(A,d)),b[R]=A,C[R]=0}var F=i.previousDirectionAngle,Z=F===void 0,ee,g,L=i.directions;m8(L,a,i);for(var M=L.length,z=In(d).reduce(function(xe,Ie){var U=Zf(Ie);return xe.push(U),xe},[]),Q=i.maximumLoops;!m.isEmpty()&&Q>0;){var de=m.pop(),ce=b[de],pe=x[de],ae=C[de],q=pe===void 0,G=ce.equals(l),j;q?Z?G?j=null:j=vx(l,ce,M,a,i):j=F:j=vx(pe,ce,M,a,i);var te=f.length===d.length;if(te){for(var le=0;le<f.length;le++)if(!f[le].equals(d[le])){te=!1;break}}var Ae=q&&te;if(!Ae&&z.indexOf(de)>=0)return i.previousDirectionAngle=j,b8(x,b,ce,l,u);for(k=0;k<M;k++){ee=L[k];var ke=ee.angle;if(g=ck(j,ke),!(!(Z&&G)&&g>i.maxAllowedDirectionChange)){var rt=Gy(ce.clone().offset(ee.gridOffsetX,ee.gridOffsetY),a,r),Be=Zf(rt);if(!(m.isClose(Be)||n(rt))){if(z.indexOf(Be)>=0){var st=rt.equals(u);if(!st){var lt=vx(rt,u,M,a,i),Se=ck(ke,lt);if(Se>i.maxAllowedDirectionChange)continue}}var $e=ee.cost,qe=G?0:i.penalties[g],Fe=ae+$e+qe;(!m.isOpen(Be)||Fe<C[Be])&&(b[Be]=rt,x[Be]=ce,C[Be]=Fe,m.add(Be,Fe+dk(rt,d)))}}}Q--}}return i.fallbackRoute.call(this,l,u,i)}function x8(e){if(e.directions=ei(e,"directions"),e.penalties=ei(e,"penalties"),e.paddingBox=ei(e,"paddingBox"),e.padding=ei(e,"padding"),e.padding){var t=nl(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}In(e.directions).forEach(function(n){var i=new ge(0,0),r=new ge(n.offsetX,n.offsetY);n.angle=Es(i.theta(r))})}function w8(e,t,n){x8(t),n.options.perpendicular=!!t.perpendicular;var i=NL(n,t),r=ML(n,t),o=FL(n,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{const R=new oC(t);R.build(n.paper.model,n.model),s=F=>!R.isPointAccessible(F)}for(var a=In(e).map(ge),l=[],u=o,f,d,m=0,b=a.length;m<=b;m++){var x=null;if(d=f||i,f=a[m],!f){f=r;var C=!n.model.get("source").id||!n.model.get("target").id;if(C&&Vn(t.draggingRoute)){var k=d===i?o:d,T=f.origin();x=t.draggingRoute.call(n,k,T,t)}}if(x=x||_8.call(n,d,f,s,t),x===null)return t.fallbackRouter(e,t,n);var A=x[0];A&&A.equals(u)&&x.shift(),u=x[x.length-1]||u,Array.prototype.push.apply(l,x)}return l}const Cw=function(e,t,n){return w8(e,xt({},DL,t),n)};var C8={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var i=e.theta(t),r=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(i%180>90){var a=o;o=s,s=a}var l=i%90<45?o:s,u=new _t(e,l),f=90*Math.ceil(i/90),d=ge.fromPolar(u.squaredLength(),ao(f+135),l),m=new _t(t,d),b=u.intersection(m),x=b||t,C=b?x:e,k=360/n.directions.length,T=C.theta(t),A=Es(T+k/2),R=k*Math.floor(A/k);return n.previousDirectionAngle=R,x&&r.push(x.round()),r.push(t),r}};const T8=function(e,t,n){if(!Vn(Cw))throw new Error("Metro requires the manhattan router.");return Cw(e,xt({},C8,t),n)},it={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},fk=[it.LEFT,it.RIGHT,it.TOP,it.BOTTOM],md={[it.LEFT]:it.RIGHT,[it.RIGHT]:it.LEFT,[it.TOP]:it.BOTTOM,[it.BOTTOM]:it.TOP},S8=[it.TOP,it.BOTTOM],by={0:it.RIGHT,180:it.LEFT,270:it.TOP,90:it.BOTTOM};function Mf(e){return e.angle()}function _y(e){return new ri(e).simplify({threshold:1}).points}function xv(e,t){const{point:n,x0:i,y0:r,view:o,bbox:s,direction:a}=e,{point:l,x0:u,y0:f,view:d,bbox:m,direction:b}=t;let x;if(o)o.model.isLink()?x=pk(l,n,o):a===it.ANCHOR_SIDE?x=s.sideNearestToPoint(n):a===it.MAGNET_SIDE?x=o.model.getBBox().sideNearestToPoint(n):x=a;else{const k=new pt(i,r,0,0);x=fk.includes(a)?a:k.sideNearestToPoint(l)}let C;if(d)d.model.isLink()?C=pk(n,l,d):b===it.ANCHOR_SIDE?C=m.sideNearestToPoint(l):b===it.MAGNET_SIDE?C=d.model.getBBox().sideNearestToPoint(l):C=b;else{const k=new pt(u,f,0,0);C=fk.includes(b)?b:k.sideNearestToPoint(n)}return[x,C]}function E8(e,t,n){const{x0:i,y0:r,width:o,height:s,point:a,margin:l}=e,u=i+o,f=r+s,d=i-l,m=u+l,b=r-l,{x}=a,{x0:C,y0:k}=t;return C===x&&k<r?it.BOTTOM:C<x&&k<b?n.point.x===x?it.BOTTOM:it.RIGHT:C>x&&k<b?n.point.x===x?it.BOTTOM:it.LEFT:C<d&&k>=r||C>m&&k>=r?it.TOP:C>=d&&C<=x&&k>f||C<=m&&C>=x&&k>f?n.point.x<C?it.RIGHT:it.LEFT:it.TOP}function A8(e,t,n){const{x0:i,y0:r,width:o,height:s,point:a,margin:l}=e,u=i+o,f=r+s,d=i-l,m=u+l,b=f+l,{x}=a,{x0:C,y0:k}=t;return C===x&&k>f?it.TOP:C<x&&k>b?n.point.x===x?it.TOP:it.RIGHT:C>x&&k>b?n.point.x===x?it.TOP:it.LEFT:C<d&&k<=f||C>m&&k<=f?it.BOTTOM:C>=d&&C<=x&&k<r||C<=m&&C>=x&&k<r?n.point.x<C?it.RIGHT:it.LEFT:it.BOTTOM}function k8(e,t,n){const{y0:i,x0:r,width:o,height:s,point:a,margin:l}=e,u=r+o,f=i+s,d=r-l,m=i-l,b=f+l,{x,y:C}=a,{x0:k,y0:T}=t;return k<x&&T===C?it.RIGHT:k<=d&&T<C?it.BOTTOM:k<=d&&T>C?it.TOP:k>=r&&T<=m||k>=r&&T>=b?it.LEFT:k>u&&T>=m&&T<=C||k>u&&T<=b&&T>=C?n.point.y<T?it.BOTTOM:it.TOP:it.LEFT}function I8(e,t,n){const{y0:i,x0:r,width:o,height:s,point:a,margin:l}=e,u=r+o,f=i+s,d=u+l,m=i-l,b=f+l,{x,y:C}=a,{x0:k,y0:T}=t;return k>x&&T===C?it.LEFT:k>=d&&T<C?it.BOTTOM:k>=d&&T>C?it.TOP:k<=u&&T<=m||k<=u&&T>=b?it.RIGHT:k<r&&T>=m&&T<=C||k<r&&T<=b&&T>=C?n.point.y<T?it.BOTTOM:it.TOP:it.RIGHT}function P8(e,t,n){const[i]=xv(e,t);switch(i){case it.TOP:return E8(e,t,n);case it.RIGHT:return I8(e,t,n);case it.BOTTOM:return A8(e,t,n);case it.LEFT:return k8(e,t,n)}}function pk(e,t,n){const i=n.getTangentAtLength(n.getClosestPointLength(t)),r=Math.round(Mf(i)/90)*90;if(r%180===0&&e.y===t.y)return e.x<t.x?it.LEFT:it.RIGHT;if(e.x===t.x)return e.y<t.y?it.TOP:it.BOTTOM;switch(r){case 0:case 180:case 360:return e.y<t.y?it.TOP:it.BOTTOM;case 90:case 270:return e.x<t.x?it.LEFT:it.RIGHT}}function gk(e,t,n,i,r,o,s){i===it.AUTO&&(i=r?it.MAGNET_SIDE:it.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:d=0}=a?pt.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:n,width:f,height:d,direction:i,margin:a?s:0}}function _x({x:e,y:t}){const n=new ge(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new pt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function mk(e,t,n){const i=t.point.clone(),{x0:r,y0:o,width:s,height:a}=t;switch(e){case"left":i.x=r-n;break;case"right":i.x=r+s+n;break;case"top":i.y=o-n;break;case"bottom":i.y=o+a+n;break}return i}function Ol(e,t,n={}){const{point:i,x0:r,y0:o,width:s,height:a,margin:l}=e,{point:u,x0:f,y0:d,width:m,height:b,margin:x}=t,{targetInSourceBBox:C=!1}=n,k=f+m,T=d+b,A=r+s,R=o+a,F=r-l,Z=A+l,ee=o-l,g=R+l,L=f-x,M=k+x,z=d-x,Q=T+x,[de,ce]=xv(e,t),pe=mk(de,{point:i,x0:r,y0:o,width:s,height:a},l),ae=mk(ce,{point:u,x0:f,y0:d,width:m,height:b},x),{x:q,y:G}=pe,{x:j,y:te}=ae,le=(f+k)/2,Ae=(d+T)/2,ke=(r+A)/2,rt=(o+R)/2,Be=(ke<le?A+f:k+r)/2,st=(rt<Ae?R+d:T+o)/2,lt=new pt(r,o,s,a),Se=new pt(f,d,m,b),$e=lt.clone().inflate(l),qe=Se.clone().inflate(x);if(de==="left"&&ce==="right"){if(F<=M){let xe=st;return q<=L&&(T>=ee&&te<G?xe=Math.min(z,ee):d<=g&&te>=G&&(xe=Math.max(Q,g))),[{x:q,y:G},{x:q,y:xe},{x:j,y:xe},{x:j,y:te}]}const Fe=(q+j)/2;return[{x:Fe,y:G},{x:Fe,y:te}]}else if(de==="right"&&ce==="left"){if(q>=L){let xe=st;return q>k&&(T>=ee&&te<G?xe=Math.min(z,ee):d<=g&&te>=G&&(xe=Math.max(Q,g))),[{x:q,y:G},{x:q,y:xe},{x:j,y:xe},{x:j,y:te}]}const Fe=(q+j)/2;return[{x:Fe,y:G},{x:Fe,y:te}]}else if(de==="top"&&ce==="bottom"){const Fe=Rc.rectWithRect($e,Se);if(G<te){let Ie=Be,U=G;return Fe&&(U=Math.min(U,z)),k>=F&&j<q?Ie=Math.min(L,F):f<=Z&&j>=q&&(Ie=Math.max(M,Z)),[{x:q,y:U},{x:Ie,y:U},{x:Ie,y:te},{x:j,y:te}]}const xe=(G+te)/2;return[{x:q,y:xe},{x:j,y:xe}]}else if(de==="bottom"&&ce==="top"){const Fe=Rc.rectWithRect($e,Se);if(G>te){let Ie=Be,U=G;return Fe&&(U=Math.max(U,Q)),k>=F&&j<q?Ie=Math.min(L,F):f<=Z&&j>=q&&(Ie=Math.max(M,Z)),[{x:q,y:U},{x:Ie,y:U},{x:Ie,y:te},{x:j,y:te}]}const xe=(G+te)/2;return[{x:q,y:xe},{x:j,y:xe}]}else if(de==="top"&&ce==="top"){if(C||Rc.rectWithRect($e,Se)||G<=d&&($e.bottomRight().x<=j||$e.bottomLeft().x>=j)||G>=d&&(qe.bottomRight().x<=q||qe.bottomLeft().x>=q))return[{x:q,y:Math.min(G,te)},{x:j,y:Math.min(G,te)}];let xe,Ie=Math.min((R+d)/2,te),U=Math.min((o+T)/2,G);return te<G?j>q?xe=Math.min(q,L):xe=Math.max(q,M):j>=q?xe=Math.max(j,Z):xe=Math.min(j,F),[{x:q,y:U},{x:xe,y:U},{x:xe,y:Ie},{x:j,y:Ie}]}else if(de==="bottom"&&ce==="bottom"){if(C||Rc.rectWithRect($e,Se)||G>=te&&($e.topRight().x<=j||$e.topLeft().x>=j)||G<=te&&(qe.topRight().x<=q||qe.topLeft().x>=q))return[{x:q,y:Math.max(G,te)},{x:j,y:Math.max(G,te)}];let xe,Ie=Math.max((o+T)/2,te),U=Math.max((R+d)/2,G);return te>G?j>q?xe=Math.min(q,L):xe=Math.max(q,M):j>=q?xe=Math.max(j,Z):xe=Math.min(j,F),[{x:q,y:U},{x:xe,y:U},{x:xe,y:Ie},{x:j,y:Ie}]}else if(de==="left"&&ce==="left"){if(C||Rc.rectWithRect($e,Se)||q<=j&&($e.bottomRight().y<=te||$e.topRight().y>=te)||q>=j&&(qe.bottomRight().y<=G||qe.topRight().y>=G))return[{x:Math.min(q,j),y:G},{x:Math.min(q,j),y:te}];let xe,Ie=Math.min((A+f)/2,j),U=Math.min((r+k)/2,q);return j>q?te<=G?xe=Math.min(ee,te):xe=Math.max(g,te):te>=G?xe=Math.min(z,G):xe=Math.max(Q,G),[{x:U,y:G},{x:U,y:xe},{x:Ie,y:xe},{x:Ie,y:te}]}else if(de==="right"&&ce==="right"){if(C||Rc.rectWithRect($e,Se)||q>=j&&($e.bottomLeft().y<=te||$e.topLeft().y>=te)||q<=j&&(qe.bottomLeft().y<=G||qe.topLeft().y>=G))return[{x:Math.max(q,j),y:G},{x:Math.max(q,j),y:te}];let xe,Ie=Math.max((r+k)/2,j),U=Math.max((A+f)/2,q);return j<=q?te<=G?xe=Math.min(ee,te):xe=Math.max(g,te):te>=G?xe=Math.min(z,G):xe=Math.max(Q,G),[{x:U,y:G},{x:U,y:xe},{x:Ie,y:xe},{x:Ie,y:te}]}else if(de==="top"&&ce==="right"){if($e.containsPoint(u)){if(q<=M){const U=Math.max(q+l,j),K=Math.min(ee,z);return[{x:q,y:K},{x:U,y:K},{x:U,y:te}]}const Ie=(q-l+j)/2;return[{x:q,y:G},{x:Ie,y:G},{x:Ie,y:te}]}if(ee>te){if(q<j){let Ie=z;return Q<=ee&&M>=q&&(Ie=st),[{x:q,y:Ie},{x:j,y:Ie},{x:j,y:te}]}return[{x:q,y:te}]}const xe=Math.max(Be,M);if(q>j&&R>=te)return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}];if(xe>F&&G<T){const Ie=Math.min(ee,z),U=Math.max(Z,M);return[{x:q,y:Ie},{x:U,y:Ie},{x:U,y:te}]}return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}]}else if(de==="top"&&ce==="left"){if($e.containsPoint(u)){if(q>=L){const U=Math.min(q-l,j),K=Math.min(ee,z);return[{x:q,y:K},{x:U,y:K},{x:U,y:te}]}const Ie=(q+l+j)/2;return[{x:q,y:G},{x:Ie,y:G},{x:Ie,y:te}]}if(ee>te){if(q>j){let Ie=z;return Q<=ee&&L<=q&&(Ie=st),[{x:q,y:Ie},{x:j,y:Ie},{x:j,y:te}]}return[{x:q,y:te}]}const xe=Math.min(L,Be);if(q<j&&R>=te)return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}];if(xe<Z&&G<T){const Ie=Math.min(ee,z),U=Math.min(F,L);return[{x:q,y:Ie},{x:U,y:Ie},{x:U,y:te}]}return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}]}else if(de==="bottom"&&ce==="right"){if($e.containsPoint(u)){if(q<=M){const U=Math.max(q+l,j),K=Math.max(g,Q);return[{x:q,y:K},{x:U,y:K},{x:U,y:te}]}const Ie=(q-l+j)/2;return[{x:q,y:G},{x:Ie,y:G},{x:Ie,y:te}]}if(g<te){if(q<j){let Ie=Q;return z>=g&&M>=q&&(Ie=st),[{x:q,y:Ie},{x:j,y:Ie},{x:j,y:te}]}return[{x:q,y:te}]}const xe=Math.max(Be,M);if(q>j&&o<=te)return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}];if(xe>F&&G>d){const Ie=Math.max(g,Q),U=Math.max(Z,M);return[{x:q,y:Ie},{x:U,y:Ie},{x:U,y:te}]}return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}]}else if(de==="bottom"&&ce==="left"){if($e.containsPoint(u)){if(q>=L){const U=Math.min(q-l,j),K=Math.max(g,Q);return[{x:q,y:K},{x:U,y:K},{x:U,y:te}]}const Ie=(q+l+j)/2;return[{x:q,y:G},{x:Ie,y:G},{x:Ie,y:te}]}if(g<te){if(q>j){let Ie=Q;return z>=g&&L<=q&&(Ie=st),[{x:q,y:Ie},{x:j,y:Ie},{x:j,y:te}]}return[{x:q,y:te}]}const xe=Math.min(L,Be);if(q<j&&o<=te)return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}];if(xe<Z&&G>d){const Ie=Math.max(g,Q),U=Math.min(F,L);return[{x:q,y:Ie},{x:U,y:Ie},{x:U,y:te}]}return[{x:q,y:G},{x:xe,y:G},{x:xe,y:te}]}else if(de==="left"&&ce==="bottom"){if($e.containsPoint(u)){if(G<=Q){const U=Math.min(F,L),K=Math.max(G+l,te);return[{x:U,y:G},{x:U,y:K},{x:j,y:K}]}const Ie=(G-l+te)/2;return[{x:q,y:G},{x:q,y:Ie},{x:j,y:Ie}]}if(F>j){if(G<te){let Ie=L;return M<=F&&Q>=G&&(Ie=Be),[{x:Ie,y:G},{x:Ie,y:te},{x:j,y:te}]}return[{x:j,y:G}]}const xe=Math.max(Q,st);if(G>te&&A>=j)return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}];if(xe>ee&&q<k){const Ie=Math.min(F,L),U=Math.max(g,Q);return[{x:Ie,y:G},{x:Ie,y:U},{x:j,y:U}]}return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}]}else if(de==="left"&&ce==="top"){if($e.containsPoint(u)){if(G>=z){const U=Math.min(G-l,te),K=Math.min(F,L);return[{x:K,y:G},{x:K,y:U},{x:j,y:U}]}const Ie=(G+l+te)/2;return[{x:q,y:G},{x:q,y:Ie},{x:j,y:Ie}]}if(F>j){if(G>te){let Ie=L;return M<=F&&z<=G&&(Ie=Be),[{x:Ie,y:G},{x:Ie,y:te},{x:j,y:te}]}return[{x:j,y:G}]}const xe=Math.min(z,st);if(G<te&&A>=j)return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}];if(xe<g&&q<k){const Ie=Math.min(F,L),U=Math.min(ee,z);return[{x:Ie,y:G},{x:Ie,y:U},{x:j,y:U}]}return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}]}else if(de==="right"&&ce==="top"){if($e.containsPoint(u)){if(G>=z){const U=Math.max(Z,M),K=Math.min(G-l,te);return[{x:U,y:G},{x:U,y:K},{x:j,y:K}]}const Ie=(G+l+te)/2;return[{x:q,y:G},{x:q,y:Ie},{x:j,y:Ie}]}if(Z<j){if(G>te){let Ie=M;return L>=Z&&z<=G&&(Ie=Be),[{x:Ie,y:G},{x:Ie,y:te},{x:j,y:te}]}return[{x:j,y:G}]}const xe=Math.min(z,st);if(G<te&&r<=j)return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}];if(xe<g&&q>f){const Ie=Math.max(Z,M),U=Math.min(ee,z);return[{x:Ie,y:G},{x:Ie,y:U},{x:j,y:U}]}return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}]}else if(de==="right"&&ce==="bottom"){if($e.containsPoint(u)){if(G<=Q){const U=Math.max(Z,M),K=Math.max(G+l,te);return[{x:U,y:G},{x:U,y:K},{x:j,y:K}]}const Ie=(G-l+te)/2;return[{x:q,y:G},{x:q,y:Ie},{x:j,y:Ie}]}if(Z<j){if(G<te){let Ie=M;return L>=Z&&Q>=G&&(Ie=Be),[{x:Ie,y:G},{x:Ie,y:te},{x:j,y:te}]}return[{x:j,y:G}]}const xe=Math.max(Q,st);if(G>te&&r<=j)return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}];if(xe>ee&&q>f){const Ie=Math.max(Z,M),U=Math.max(g,Q);return[{x:Ie,y:G},{x:Ie,y:U},{x:j,y:U}]}return[{x:q,y:G},{x:q,y:xe},{x:j,y:xe}]}}function RL(e,t,n){const{sourceDirection:i=it.AUTO,targetDirection:r=it.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,l=gk(n.sourceView,n.sourceAnchor,n.sourceBBox,i,a,n.sourceAnchor,o),u=!!n.model.target().port,f=gk(n.targetView,n.targetAnchor,n.targetBBox,r,u,n.targetAnchor,o);let d=[];if(!s||e.length===0)return _y(Ol(l,f));const m=e.map(C=>_x(C)),[b]=m;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(b.point)){const[C]=xv(l,b),k=C,T=_x(l.point);T.margin=o,T.direction=C,b.direction=k,d.push(...Ol(T,b,{targetInSourceBBox:!0}),b.point)}else{const C=m[1]||f,k=P8(l,b,C);b.direction=k,d.push(...Ol(l,b),b.point)}for(let C=0;C<m.length-1;C++){const k=m[C],T=m[C+1],A=new _t(k.point,T.point),R=Mf(A);if(R%90===0){const ee=by[R],g=md[ee];if(ee!==k.direction)d.push(k.point,T.point),T.direction=g;else{const L=Es(R-90);let M=0,z=0;L===90?z=-o:L===180?M=-o:L===270?z=o:L===0&&(M=o);const Q={x:k.point.x+M,y:k.point.y+z},de={x:T.point.x+M,y:T.point.y+z},ce=new _t(T.point,de);T.direction=by[Mf(ce)],d.push(k.point,Q,de,T.point)}continue}const[F,Z]=xx(k,T);k.direction=F,T.direction=Z,d.push(...Ol(k,T),T.point)}const x=m[m.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(x.point)){const[C]=xx(x,f),k=_x(f.point),[,T]=xv(x,f);k.margin=o,k.direction=T,x.direction=C,d.push(...Ol(x,k))}else{const C=_y(d),k=new _t(C[C.length-2],x.point),T=by[Math.round(Mf(k))];x.direction=T;let A=Ol(x,f);const[R,F]=_y([...A,f.point]),Z=new _t(R,F),ee=Math.round(Mf(Z)),g=by[ee];g!==T&&T===md[g]&&(x.margin=o,A=Ol(x,f)),d.push(...A)}else{const[C]=xx(x,f);x.direction=C,d.push(...Ol(x,f))}return _y(d)}function xx(e,t){const n=e.direction,i=S8.includes(n);let r=e.direction,o=t.direction;if(i){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===it.BOTTOM?(r=s?md[n]:a>=0?it.RIGHT:it.LEFT,a>0?o=s?it.LEFT:it.TOP:a<0&&(o=s?it.RIGHT:it.TOP)):(r=s?a>=0?it.RIGHT:it.LEFT:md[n],a>0?o=s?it.BOTTOM:it.LEFT:a<0&&(o=s?it.BOTTOM:it.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===it.RIGHT?(r=s?md[n]:a>=0?it.BOTTOM:it.TOP,a>0?o=s?it.TOP:it.LEFT:a<0&&(o=s?it.BOTTOM:it.LEFT)):(r=s?a>=0?it.BOTTOM:it.TOP:md[n],a>0?o=s?it.RIGHT:it.TOP:a<0&&(o=s?it.RIGHT:it.BOTTOM))}return[r,o]}RL.Directions=it;const O8=RL,BL=Object.freeze(Object.defineProperty({__proto__:null,manhattan:Cw,metro:T8,normal:s8,oneSide:a8,orthogonal:ww,rightAngle:O8},Symbol.toStringTag,{value:"Module"}));function L8(e,t,n,i){var r="ratio"in i?i.ratio:.5;return e.getPointAtRatio(r)}function D8(e,t,n,i){var r="length"in i?i.length:20;return e.getPointAtLength(r)}function N8(e,t,n,i){var r=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new _t(n.clone().offset(0,r),n.clone().offset(0,-r)),l=new _t(n.clone().offset(r,0),n.clone().offset(-r,0)),u=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),d=[];return u&&Array.prototype.push.apply(d,u),f&&Array.prototype.push.apply(d,f),d.length>0?n.chooseClosest(d):"fallbackAt"in i?$L(e,i.fallbackAt):qL(e,t,n,i)}function M8(e,t,n,i){var r=e.getClosestPoint(n);return r||new ge}function sm(e){return function(t,n,i,r){if(i instanceof Element){var o=this.paper.findView(i),s;if(o)if(o.isNodeConnection(i)){var a="fixedAt"in r?r.fixedAt:"50%";s=$L(o,a)}else s=o.getNodeBBox(i).center();else s=new ge;return e.call(this,t,n,s,r)}return e.apply(this,arguments)}}function $L(e,t){var n=parseFloat(t);return rr(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const F8=sm(N8),qL=sm(M8),R8=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:qL,connectionLength:D8,connectionPerpendicular:F8,connectionRatio:L8,resolveRef:sm},Symbol.toStringTag,{value:"Module"}));function sl(e){return function(t,n,i,r){var o=!!r.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),l=r.dx;if(l){var u=rr(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var f=r.dy;if(f){var d=rr(f);f=parseFloat(f),isFinite(f)&&(d&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function B8(e,t,n,i){var r=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=i.padding;if(isFinite(u)||(u=0),a.y+u<=n.y&&n.y<=l.y-u){var f=n.y-s.y;s.x+=r===0||r===180?0:f*1/Math.tan(ao(r)),s.y+=f}else if(a.x+u<=n.x&&n.x<=l.x-u){var d=n.x-s.x;s.y+=r===90||r===270?0:d*Math.tan(ao(r)),s.x+=d}return s}function $8(e,t,n,i){var r=!!i.rotate,o,s,a;r?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=i.padding;isFinite(l)&&o.inflate(l),r&&n.rotate(a,s);var u=o.sideNearestToPoint(n),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return r?f.rotate(a,-s):f}function q8(e,t,n,i,r){return e.model.getPointFromConnectedLink(this.model,r).offset(i.dx,i.dy)}const z8=sl("center"),U8=sl("topMiddle"),H8=sl("bottomMiddle"),V8=sl("leftMiddle"),G8=sl("rightMiddle"),W8=sl("origin"),j8=sl("topRight"),K8=sl("bottomLeft"),Y8=sl("corner"),X8=sm(B8),J8=sm($8),Q8=q8,Z8=Object.freeze(Object.defineProperty({__proto__:null,bottom:H8,bottomLeft:K8,bottomRight:Y8,center:z8,left:V8,midSide:J8,modelCenter:Q8,perpendicular:X8,right:G8,top:U8,topLeft:W8,topRight:j8},Symbol.toStringTag,{value:"Module"})),ej=Mh.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&ia(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){const n=t.collection,i=n.cellNamespace,{type:r}=e,o=Nh(i,r,".");if(!o)throw new Error(`dia.Graph: Could not find cell constructor for type: '${r}'. Make sure to add the constructor to 'cellNamespace'.`);const s=new o(e,t);return t.dry||(s.graph=n.graph),s},comparator:function(e){return e.get("z")||0}}),Du=Vo.extend({initialize:function(e,t){t=t||{};var n=new ej([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Vo.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Vo.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var i;return typeof e=="object"?(i=e,n=t):(i={})[e]=t,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,n),i=im(i,"cells")),Vo.prototype.set.call(this,i,n)},clear:function(e){e=xt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(i){return i.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof Vo?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!Wi(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Vo?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=GV(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=In(e).map(function(i){return this._prepareCell(i,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),na(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").toArray().filter(e=>e.isElement())},getLinks:function(){return this.get("cells").toArray().filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,i=t.inbound,r=t.outbound;i===void 0&&r===void 0&&(i=r=!0);var o=[],s={};r&&a(this,e),i&&l(this,e);function a(d,m){if(Eo(d.getOutboundEdges(m.id),(function(x,C){if(!s[C]){var k=d.getCell(C);o.push(k),s[C]=!0,n&&(i&&l(d,k),r&&a(d,k))}}).bind(d)),n&&m.isLink()){var b=m.getTargetCell();b&&b.isLink()&&(s[b.id]||(o.push(b),a(d,b)))}}function l(d,m){if(Eo(d.getInboundEdges(m.id),(function(x,C){if(!s[C]){var k=d.getCell(C);o.push(k),s[C]=!0,n&&(i&&l(d,k),r&&a(d,k))}}).bind(d)),n&&m.isLink()){var b=m.getSourceCell();b&&b.isLink()&&(s[b.id]||(o.push(b),l(d,b)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(d){d.isElement()&&(f[d.id]=!0)}),u.forEach(function(d){d.isLink()||(r&&Eo(this.getOutboundEdges(d.id),(function(m,b){if(!s[b]){var x=this.getCell(b),{source:C,target:k}=x.attributes,T=C.id,A=k.id;if(!t.includeEnclosed&&T&&f[T]&&A&&f[A])return;o.push(this.getCell(b)),s[b]=!0}}).bind(this)),i&&Eo(this.getInboundEdges(d.id),(function(m,b){if(!s[b]){var x=this.getCell(b),{source:C,target:k}=x.attributes,T=C.id,A=k.id;if(!t.includeEnclosed&&T&&f[T]&&A&&f[A])return;o.push(this.getCell(b)),s[b]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var r=this.getConnectedLinks(e,t).reduce((function(a,l){var{source:u,target:f}=l.attributes,d=l.hasLoop(t);if(n&&ia(u,"id")&&!a[u.id]){var m=this.getCell(u.id);m.isElement()&&(d||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(a[u.id]=m)}if(i&&ia(f,"id")&&!a[f.id]){var b=this.getCell(f.id);b.isElement()&&(d||b&&b!==e&&(!t.deep||!b.isEmbeddedIn(e)))&&(a[f.id]=b)}return a}).bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!r[o.id]&&(r[o.id]=o)}if(i){var s=e.getTargetCell();s&&s.isElement()&&!r[s.id]&&(r[s.id]=s)}}return In(r)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var i=[],r=n.get("parent");r;)i.push(r),r=this.getCell(r).get("parent");return i},this);e=e.sort(function(n,i){return n.length-i.length});var t=In(e.shift()).find(function(n){return e.every(function(i){return i.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(i){i!==e&&n.push(i)},xt({},t,{outbound:!0})),n},cloneCells:dL,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],i={},r=[],o=[];return In(e).forEach(function(s){if(i[s.id]||(n.push(s),i[s.id]=s,s.isLink()?o.push(s):r.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){i[l.id]||(n.push(l),i[l.id]=l,l.isLink()?o.push(l):r.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!i[a.id]){var u=this.getCell(a.id);n.push(u),i[u.id]=u,r.push(u)}if(l.id&&!i[l.id]){var f=this.getCell(l.id);n.push(this.getCell(l.id)),i[f.id]=f,r.push(f)}},this),r.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:u,target:f}=l.attributes;!i[l.id]&&u.id&&i[u.id]&&f.id&&i[f.id]&&(n.push(l),i[l.id]=l)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(i){i!==e&&n.push(i)},xt({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const i={},r={},o=[];for(o.push(e),r[e.id]=0;o.length>0;){var s=o.shift();if(i[s.id]||(i[s.id]=!0,t.call(this,s,r[s.id])===!1))continue;const a=this.getNeighbors(s,n);for(let l=0,u=a.length;l<u;l++){const f=a[l];r[f.id]=r[s.id]+1,o.push(f)}}},dfs:function(e,t,n={}){const i={},r={},o=[];for(o.push(e),r[e.id]=0;o.length>0;){const s=o.pop();if(i[s.id]||(i[s.id]=!0,t.call(this,s,r[s.id])===!1))continue;const a=this.getNeighbors(s,n),l=o.length;for(let u=0,f=a.length;u<f;u++){const d=a[u];r[d.id]=r[s.id]+1,o.splice(l,0,d)}}},getSources:function(){var e=[];return Eo(this._nodes,(function(t,n){(!this._in[n]||jo(this._in[n]))&&e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return Eo(this._nodes,(function(t,n){(!this._out[n]||jo(this._out[n]))&&e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||jo(this._in[e.id])},isSink:function(e){return!this._out[e.id]||jo(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(i){if(i===t&&i!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(i){if(i===t&&i!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var i=n.inbound,r=n.outbound;i===void 0&&r===void 0&&(i=r=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:l}=s.attributes;if(i&&ia(a,"id")&&a.id===t.id||r&&ia(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){na(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const n=new pt(e),{strict:i=!1}=t,r=i?"containsRect":"intersect";return this.getElements().filter(o=>n[r](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:n="bbox"}=t,i=e.getBBox().rotateAroundCenter(e.angle());return(n==="bbox"?this.findModelsInArea(i):this.findModelsFromPoint(yL(i,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:n=!0}=t;return In(e).reduce(function(i,r){const o=r.getBBox({rotate:n});return o?i?i.union(o):o:i},null)},translate:function(e,t,n){var i=this.getCells().filter(function(r){return!r.isEmbedded()});return na(i,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,i){var r=this.getCellsBBox(n);if(r){var o=Math.max(e/r.width,0),s=Math.max(t/r.height,0);na(n,"scale",o,s,r.origin(),i)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",xt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",xt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(i=>t[i]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:i}=t.attributes;if(n.id&&i.id){var r=t.getSourceCell();if(r){var o=e.getConnectedLinks(r,{outbound:!0}),s=o.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&u&&u.id===i.id&&(!u.port||u.port===i.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:i}=t.attributes;return n.id&&i.id}}});gG(Du.prototype,["resetCells","addCells","removeCells"],vw.cells);const gr={GRID:"grid",CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Tw=aa.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ja(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let i=n[e];if(i)return i;i=n[e]=document.createComment("z-index:"+(e+1));let r=-1/0;for(let o in n)o=+o,o<e&&o>r&&(r=o,e-1);if(r!==-1/0){const o=n[r];t.insertBefore(i,o.nextSibling)}else t.insertBefore(i,t.firstChild);return i},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),tj=["transform","x","y","cx","cy","dx","dy","x1","y1","x2","y2","points","d","r","rx","ry","width","height","stroke-width","font-size"],nj=["r","rx","ry","width","height","stroke-width","font-size"],ij=tj.reduce((e,t)=>(e[t]=!0,e),{}),rj=nj.reduce((e,t)=>(e[t]=!0,e),{});function yk(e,t){const n={};for(let i in e)e.hasOwnProperty(i)&&(n[i]=zL(i,e[i],t));return n}function zL(e,t,n){if(e in ij&&sc(t)){let i=ac(t,n);return e in rj&&(i=Math.max(0,i)),i}return t}const nd={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},oj={TOOLS:"TOOLS"},un=aa.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,i,r){e.push("type-"+r.slice(0,i+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,i,r,o,s=ei(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),i=0,r=l.length;i<r;i++){o=l[i];var u=e[o];u||(u=e[o]=1<<n++),t[a]|=u}}var f=ei(this,"initFlag");for(Array.isArray(f)||(f=[f]),i=0,r=f.length;i<r;i++)o=f[i],e[o]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var i=0,r=e.length;i<r;i++)n|=t[e[i]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||gd(this),aa.call(this,e)},initialize:function(){this.setFlags(),aa.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=mv(e),i=n.selectors,r=n.groupSelectors;for(var o in r){if(i[o])throw new Error("dia.CellView: ambiguous group selector");i[o]=r[o]}if(t){var s=this.selector;if(i[s])throw new Error("dia.CellView: ambiguous root selector.");i[s]=t}return{fragment:n.fragment,selectors:i}},can:function(e){var t=Vn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Ln(t)&&t[e]!==!1||$V(t)&&t!==!1},findBySelector:function(e,t,n){if(!e||e===".")return[t];if(n){var i=n[e];if(i)return Array.isArray(i)?i:[i]}return this.useCSSSelectors?dt(t).find(e).toArray():[]},findNodes:function(e){return this.findBySelector(e,this.el,this.selectors)},findNode:function(e){const[t=null]=this.findNodes(e);return t},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),i=this.getNodeMatrix(e);return We.transformRect(t,n.multiply(i))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():We.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),i=this.getRootTranslateMatrix();return We.transformRect(t,i.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=We.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=We.createSVGMatrix(),t=this.model,n=t.angle();if(n){var i=t.getBBox(),r=i.width/2,o=i.height/2;e=e.translate(r,o).rotate(n).translate(-r,-o)}return e},_notifyHighlight:function(e,t,n={}){const{el:i}=this;let r;if(typeof t=="string"?r=this.findNode(t)||i:[r=i]=this.$(t),n.partial=r!==i,n.type===void 0){let o;switch(!0){case n.embedding:o=nd.EMBEDDING;break;case n.connecting:o=nd.CONNECTING;break;case n.magnetAvailability:o=nd.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=nd.ELEMENT_AVAILABILITY;break;default:o=nd.DEFAULT;break}n.type=o}return this.notify(e,r,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const i=n.getAttribute("magnet"),r=n===t;if((i||r)&&i!=="false")return n;if(r)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const i=this.findNode(n);if(i)return i}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n=":scope > "+t),n;if(e){var i=We(e).index()+1;n=e.tagName+":nth-child("+i+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var i=this.paper,r=i.model,o=i.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(r,{async:!1,ui:!0}),o.findView(i)},getLinkEnd:function(e,...t){var n=this.model,i=n.id,r=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:i};return o!=null&&(s.magnet=o),r!=null?(s.port=r,!n.hasPort(r)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,i,r,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new ge(n,i),r,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=e.port,n=e.magnet,i=this.model,r;return t!=null&&i.isElement()&&i.hasPort(t)?r=this.findPortNode(t,n)||this.el:(n||(n=e.selector),!n&&t!=null&&(n='[port="'+t+'"]'),r=this.findNode(n)),this.findProxyNode(r,"magnet")},dragLinkStart:function(e,t,n,i){this.model.startBatch("add-link");const r=this.addLinkFromMagnet(t,n,i);r.notifyPointerdown(e,n,i),r.eventData(e,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:r})},dragLink:function(e,t,n){var i=this.eventData(e),r=i.linkView;if(r)r.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=i.targetMagnet;if(s==="onleave"){if(l===a||We(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e),r=i.linkView;r&&(r.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){jo(t)||(e instanceof SVGElement?We(e).attr(t):dt(e).attr(t))},processNodeAttributes:function(e,t){var n,i,r,o,s,a,l,u,f,d=[];const m={};for(n in t)t.hasOwnProperty(n)&&(m[We.attributeNames[n]]=t[n]);for(n in m)m.hasOwnProperty(n)&&(i=m[n],r=this.getAttributeDefinition(n),r&&(!Vn(r.qualify)||r.qualify.call(this,i,e,m,this))?(Wi(r.set)&&(a||(a={}),a[r.set]=i),i!==null&&d.push(n,r)):(a||(a={}),a[n]=i));for(o=0,s=d.length;o<s;o+=2)n=d[o],r=d[o+1],i=t[n],Vn(r.set)&&(l||(l={}),l[n]=i),Vn(r.position)&&(u||(u={}),u[n]=i),Vn(r.offset)&&(f||(f={}),f[n]=i);return{raw:m,normal:a,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,n,i){i||(i={});var r,o,s,a=yk(t.raw||{},n),l=t.normal||{};for(const L in l)l[L]=a[L];var u=t.set,f=t.position,d=t.offset;for(r in u){o=a[r],s=this.getAttributeDefinition(r);var m=s.set.call(this,o,n.clone(),e,a,this);Ln(m)?xt(l,m):m!==void 0&&(l[r]=m)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var b=l.transform,x=We.transformStringToMatrix(b),C=ge(x.e,x.f);b&&(l=im(l,"transform"),x.e=x.f=0);var k,T,A;if(f||d){var R=this.getNodeScale(e,i.scalableNode);k=R.sx,T=R.sy}var F=!1;for(r in f)o=a[r],s=this.getAttributeDefinition(r),A=s.position.call(this,o,n.clone(),e,a,this),A&&(C.offset(ge(A).scale(k,T)),F||(F=!0));this.setNodeAttributes(e,l);var Z=!1;if(d){var ee=this.getNodeBoundingRect(e);if(ee.width>0&&ee.height>0){var g=We.transformRect(ee,x).scale(1/k,1/T);for(r in d)o=a[r],s=this.getAttributeDefinition(r),A=s.offset.call(this,o,g,e,a,this),A&&(C.offset(ge(A).scale(k,T)),Z||(Z=!0))}}(b!==void 0||F||Z)&&(C.round(1),x.e=C.x,x.f=C.y,e.setAttribute("transform",We.matrixToTransformString(x)))},getNodeScale:function(e,t){var n,i;if(t&&t.contains(e)){var r=t.scale();n=1/r.sx,i=1/r.sy}else n=1,i=1;return{sx:n,sy:i}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=We.ensureId(e),i=t[n];return i||(i=t[n]={}),i},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=We(e).getBBox()),new pt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:n,el:i}=this;let r;n&&n.contains(e)?r=n:r=i,t.magnetMatrix=We(e).getTransformToElement(r)}return We.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=We(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,i){var r,o,s,a,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!Pi(s))){var d=n[f]=this.findBySelector(f,t,i);for(r=0,o=d.length;r<o;r++){var m=d[r];a=We.ensureId(m);var b=i&&i[f]===m,x=l[a];if(x){x.array||(u.push(a),x.array=!0,x.attributes=[x.attributes],x.selectedLength=[x.selectedLength]);var C=x.attributes,k=x.selectedLength;if(b)C.unshift(s),k.unshift(-1);else{var T=XO(k,o);C.splice(T,0,s),k.splice(T,0,o)}}else l[a]={attributes:s,selectedLength:b?-1:o,node:m,array:!1}}}for(r=0,o=u.length;r<o;r++)a=u[r],s=l[a],s.attributes=Vi({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:n,type:i,clientX:r=0,clientY:o=0}=e;return t.fromPoint||i==="touchmove"||i==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(r,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=pt()),n.selectors||(n.selectors=this.selectors);var i={},r={},o=[],s=[],a,l,u,f,d,m=n.roAttributes,b=this.findNodesAttributes(m||t,e,i,n.selectors),x=m?this.findNodesAttributes(t,e,i,n.selectors):b;for(var C in b)if(f=b[C],u=f.attributes,l=f.node,d=this.processNodeAttributes(l,u),!d.set&&!d.position&&!d.offset&&!d.raw.ref)this.setNodeAttributes(l,yk(d.normal,n.rootBBox));else{var k=x[C]&&x[C].attributes,T=k&&u.ref===void 0?k.ref:u.ref,A;if(T){if(A=(i[T]||this.findBySelector(T,e,n.selectors))[0],!A)throw new Error('dia.CellView: "'+T+'" reference does not exist.')}else A=null;if(a={node:l,refNode:A,processedAttributes:d,allAttributes:k},A){var R=s.findIndex(function(F){return F.refNode===l});R>-1?s.splice(R,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let F=0,Z=o.length;F<Z;F++){a=o[F],l=a.node,A=a.refNode;const ee=A?We.ensureId(A):"";let g=r[ee];g||(g=r[ee]=A?We(A).getBBox({target:sj(l,A)}):n.rootBBox),m?(d=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(d,a.processedAttributes)):d=a.processedAttributes,this.updateRelativeAttributes(l,d,g,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),xt(e.set,t.set),xt(e.position,t.position),xt(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),bs.mount(this))},onDetach(){this.unmountTools(),bs.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){bs.remove(this)},updateHighlighters:function(e=!1){bs.update(this,null,e)},transformHighlighters:function(){bs.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:i}=this,{graph:r}=i;r&&(i.startBatch("pointer"),this.eventData(e,{graph:r})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:i}=this.eventData(e);this.notify("cell:pointerup",e,t,n),i&&i.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,i){this.notify("cell:mousewheel",e,t,n,i)},onevent:function(e,t,n,i){this.notify(t,e,n,i)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const o=n.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=n.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const i=this.getEventTarget(e,{fromPoint:!0}),r=t.findView(i);r!==this&&(this.mouseleave(e),r&&r.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:oj,Highlighting:nd,addPresentationAttributes:function(e){return Vi({},ei(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Kh(t.concat(n))})},evalAttribute:zL});Object.defineProperty(un.prototype,"useCSSSelectors",{get(){const e=this.model.useCSSSelectors;return e!==void 0?e:kd.useCSSSelectors}});function sj(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const En={TOOLS:un.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},id={MOVE:"move",MAGNET:"magnet"},Wy=un.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=un.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){un.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[En.UPDATE],position:[En.TRANSLATE,En.TOOLS],size:[En.RESIZE,En.PORTS,En.TOOLS],angle:[En.ROTATE,En.TOOLS],markup:[En.RENDER],ports:[En.PORTS]},initFlag:[En.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=this;this.hasFlag(e,En.PORTS)&&(this._removePorts(),this._cleanPortsCache());let i=!1;if(this.hasFlag(e,En.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),i=!0,e=this.removeFlag(e,[En.RENDER,En.UPDATE,En.RESIZE,En.TRANSLATE,En.ROTATE,En.PORTS,En.TOOLS]);else{let r=!1;this.hasFlag(e,En.RESIZE)&&(this.resize(t),r=!0,e=this.removeFlag(e,[En.RESIZE,En.UPDATE]),n&&(e=this.removeFlag(e,En.PORTS))),this.hasFlag(e,En.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,En.UPDATE),r=!0,n&&(e=this.removeFlag(e,En.PORTS))),this.hasFlag(e,En.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,En.TRANSLATE),i=!0),this.hasFlag(e,En.ROTATE)&&(this.rotate(),e=this.removeFlag(e,En.ROTATE),i=!0),this.hasFlag(e,En.PORTS)&&(this._renderPorts(),r=!0,e=this.removeFlag(e,En.PORTS)),r&&this.updateHighlighters(!1)}return i&&this.transformHighlighters(),this.hasFlag(e,En.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,En.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=this;n&&this._removePorts();var i=this.model,r=i.attr();this.updateDOMSubtreeAttributes(this.el,r,{rootBBox:new pt(i.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===r?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=We(n[this.rotatableSelector])||null,this.scalableNode=We(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(We(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),i=t.size(),r=this.scalableNode,o=!1;r.node.getElementsByTagName("path").length>0&&(o=!0);var s=r.getBBox({recursive:o}),a=i.width/(s.width||1),l=i.height/(s.height||1);r.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-n+","+i.width/2+","+i.height/2+")");var d=r.getBBox({target:this.paper.cells});t.set("position",{x:d.x,y:d.y},xt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,i=(e.paper||this.paper).model,r=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=i.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>r[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=i.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(i.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,n,i){const r=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=o.options;let f;Vn(a)?f=In(a.call(s,this,t,n,i)):a==="pointer"?f=In(s.findModelsFromPoint({x:n,y:i})):f=s.findModelsUnderElement(r,{searchBy:a}),f=f.filter(b=>b instanceof sa&&r.id!==b.id&&!b.isEmbeddedIn(r)),l&&(f=f.slice(-1));let d=null;const m=e.candidateEmbedView;for(let b=f.length-1;b>=0;b--){const x=f[b];if(m&&m.model.id==x.id){d=m;break}else{const C=x.findView(o);if(!Vn(u)||u.call(o,this,C)){d=C;break}}}d&&d!=m&&(this.clearEmbedding(e),e.candidateEmbedView=d.highlight(d.findProxyNode(null,"container"),{embedding:!0})),!d&&m&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,i=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:r}=i.options,{initialParentId:o}=e;if(o&&typeof r=="function"&&!r.call(i,this)){this._disallowUnembed(e);return}}i.model.getConnectedLinks(n,{deep:!0}).forEach(r=>{r.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,i=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":{i.remove({ui:!0});break}case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){const{x:f,y:d}=a;i.position(f,d,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const d=o.getCell(f);d&&d.set("z",l[f],{ui:!0})});const u=o.getCell(s);u&&u.embed(i,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const i=this.findAttribute("port",e);if(i){const r=this.findPortNode(i,n);if(r)return r}else{const r=this.findNode(n);if(r)return r}}return e},notifyPointerdown(e,t,n){un.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){un.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),un.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){un.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){un.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){un.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const i=this.eventData(e),{targetMagnet:r,action:o,delegatedView:s}=i;switch(r&&this.magnetpointermove(e,r,t,n),o){case id.MAGNET:this.dragMagnet(e,t,n);break;case id.MOVE:(s||this).drag(e,t,n);default:if(i.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,i)},pointerup:function(e,t,n){const i=this.eventData(e),{targetMagnet:r,action:o,delegatedView:s}=i;switch(r&&this.magnetpointerup(e,r,t,n),o){case id.MAGNET:this.dragMagnetEnd(e,t,n);break;case id.MOVE:(s||this).dragEnd(e,t,n);default:if(i.preventPointerEvents)break;this.notifyPointerup(e,t,n)}r&&this.magnetpointerclick(e,r,t,n),this.checkMouseleave(e)},mouseover:function(e){un.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){un.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){un.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){un.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,i){un.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,i)},onmagnet:function(e,t,n){const{currentTarget:i}=e;this.magnetpointerdown(e,i,t,n),this.eventData(e,{targetMagnet:i}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,i){this.notify("element:magnet:pointerdown",e,t,n,i)},magnetpointermove:function(e,t,n,i){this.notify("element:magnet:pointermove",e,t,n,i)},magnetpointerup:function(e,t,n,i){this.notify("element:magnet:pointerup",e,t,n,i)},magnetpointerdblclick:function(e,t,n,i){this.notify("element:magnet:pointerdblclick",e,t,n,i)},magnetcontextmenu:function(e,t,n,i){this.notify("element:magnet:contextmenu",e,t,n,i)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var i=this.getDelegatedView();if(!i||!i.can("elementMove"))return;this.eventData(e,{action:id.MOVE,delegatedView:i});const r=i.model.position();i.eventData(e,{initialPosition:r,pointerOffset:r.difference(t,n),restrictedArea:this.paper.getRestrictedArea(i,t,n)})},dragMagnetStart:function(e,t,n){const{paper:i}=this,r=e.isPropagationStopped();if(r&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!i.options.validateMagnet.call(i,this,o,e)){r?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}i.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:id.MAGNET})},drag:function(e,t,n){var i=this.paper,r=i.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:u}=s,f=Cu(t+a.x,r),d=Cu(n+a.y,r);o.position(f,d,{restrictedArea:l,deep:!0,ui:!0}),i.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var i=this.eventData(e);i.embedding&&this.finalizeEmbedding(i)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,i){var r=this.paper;r.eventData(e).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,i)}},{Flags:En});xt(Wy.prototype,$G);const An={TOOLS:un.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LABELS:"LABELS",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Id=un.extend({className:function(){var e=un.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},_labelCache:null,_labelSelectors:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){un.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[An.RENDER],attrs:[An.UPDATE],router:[An.UPDATE],connector:[An.CONNECTOR],labels:[An.LABELS],labelMarkup:[An.LABELS],vertices:[An.UPDATE],source:[An.SOURCE,An.UPDATE],target:[An.TARGET,An.UPDATE]},initFlag:[An.RENDER,An.SOURCE,An.TARGET,An.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,An.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,An.SOURCE)}if(this.hasFlag(e,An.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,An.TARGET)}const{paper:n,sourceView:i,targetView:r}=this;if(n&&(i&&!n.isViewMounted(i)||r&&!n.isViewMounted(r)))return e;if(this.hasFlag(e,An.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[An.RENDER,An.UPDATE,An.LABELS,An.TOOLS,An.CONNECTOR]),e;let o=!1;const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,An.LABELS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,An.LABELS),o=!0);const u=this.hasFlag(e,An.UPDATE),f=this.hasFlag(e,An.CONNECTOR);return(u||f)&&(u?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[An.UPDATE,An.TOOLS,An.CONNECTOR]),l=!1,o=!0),l&&this.updateLabelPositions(),o&&this.updateHighlighters(),this.hasFlag(e,An.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,An.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(An.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],i=n.length;if(i>1){var r=!!t[n[1]];if(r){if(i===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=We(e);Array.isArray(t)||(t=[t]),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=We(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var i=0,r=t.length;i<r;i++){var o=t[i].node;n.appendChild(o)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,i=t.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?n=We("g").append(t):n=We(i[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},i=this._labelSelectors={},r=this.model,o=r.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=We("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(ja(ei(this,"className"))),t.attr("model-id",r.id)));for(var a=0;a<s;a++){var l=o[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,d;if(u)f=u.node,d=u.selectors;else{var m=r._builtins.defaultLabel,b=this._normalizeLabelMarkup(this._getLabelMarkup(m.markup)),x=r._getDefaultLabel(),C=this._normalizeLabelMarkup(this._getLabelMarkup(x.markup)),k=C||b;f=k.node,d=k.selectors}f.setAttribute("label-idx",a),t.append(f),n[a]=f;var T=this.selector;if(d[T])throw new Error("dia.LinkView: ambiguous label root selector.");d[T]=f,i[a]=d}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:i,options:r}=this,{labels:o}=i;if(!o||!n.hasLabels())return;const{node:s}=o;r.labelsLayer?t.getLayerView(r.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNodes:function(e,t){const n=this._labelCache[e];if(!n)return[];const i=this._labelSelectors[e];return this.findBySelector(t,n,i)},findLabelNode:function(e,t){const[n=null]=this.findLabelNodes(e,t);return n},_mergeLabelAttrs:function(e,t,n,i){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:i:e?n:Vi({},i,n):e?Vi({},n,t):Vi({},i,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:Vi({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel,r=i.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var d=this._labelCache[u];d.setAttribute("cursor",n?"move":"default");var m=this._labelSelectors[u],b=t[u],x=b.markup,C=b.attrs,k=b.size,T=this._mergeLabelAttrs(x||s,C,a,r),A=this._mergeLabelSize(k,l);this.updateDOMSubtreeAttributes(d,T,{rootBBox:new pt(A),selectors:m})}return this},removeRedundantLinearVertices:function(e){const n=this.model,i=n.vertices(),r=[this.sourceAnchor,...i,this.targetAnchor],o=r.length,s=new ri(r);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),l=a.length;return o===l?0:(n.vertices(a.slice(1,l-1),e),o-l)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ge(this.sourceAnchor);case"target":return new ge(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ge(this.sourcePoint);case"target":return new ge(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:i}=this;if(!n||!i)return;const r=new ri(n);r.translate(e,t),this.route=r.points,this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t),i.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateLabelPositions(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),i=this.sourceAnchor=n.source,r=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,i,r);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,i=this.findPath(e,t.clone(),n.clone());this.path=i},findAnchorsOrdered:function(e,t,n,i){var r,o,s,a,l=this.model,u=l.get(e),f=l.get(n),d=this.getEndView(e),m=this.getEndView(n),b=this.getEndMagnet(e),x=this.getEndMagnet(n);d?(t?s=new ge(t):m?s=x:s=new ge(f),r=this.getAnchor(u.anchor,d,b,s,e)):r=new ge(u),m?(a=new ge(i||r),o=this.getAnchor(f.anchor,m,x,a,n)):o=new ge(f);var C={};return C[e]=r,C[n]=o,C},findAnchors:function(e){var t=this.model,n=e[0],i=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",i,"source",n):this.findAnchorsOrdered("source",n,"target",i)},findConnectionPoints:function(e,t,n){var i=e[0],r=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,d,m,b;if(l&&!l.isNodeConnection(this.sourceMagnet)){d=this.sourceMagnet||l.el;var x=s.connectionPoint||f.defaultConnectionPoint,C=i||n,k=new _t(C,t);b=this.getConnectionPoint(x,l,d,k,"source")}else b=t;var T;if(u&&!u.isNodeConnection(this.targetMagnet)){m=this.targetMagnet||u.el;var A=a.connectionPoint||f.defaultConnectionPoint,R=r||t,F=new _t(R,n);T=this.getConnectionPoint(A,u,m,F,"target")}else T=n;return{source:b,target:T}},getAnchor:function(e,t,n,i,r){var o=t.isNodeConnection(n),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,n,i,e.args||{},r,this);return f?f.round(this.decimalsRounding):new ge},getConnectionPoint:function(e,t,n,i,r){var o,s=i.end,a=this.paper.options;if(!e)return s;var l;if(typeof e=="function")l=e;else{var u=e.name;if(l=a.connectionPointNamespace[u],typeof l!="function")throw new Error("Unknown connection point: "+u)}return o=l.call(this,i,t,n,e.args||{},r,this),o?o.round(this.decimalsRounding):s},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,i=e._getDefaultLabel(),r=this._normalizeLabelPosition(i.position);return Vi({},n,r)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:Vi({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var i=this._getDefaultLabelPositionProperty(),r=0,o=n.length;r<o;r++){var s=this._labelCache[r];if(s){var a=n[r],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,i),f=this._getLabelTransformationMatrix(u);s.setAttribute("transform",We.matrixToTransformString(f)),this._cleanLabelMatrices(r)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,i=n[e];if(i)for(let r in i){const{id:o}=i[r];o&&o in t&&delete t[o].magnetMatrix}},updateEndProperties:function(e){const{model:t,paper:n}=this,i=`${e}View`,r=t.get(e),o=r&&r.id;if(!o)return this[i]=null,this.updateEndMagnet(e),!0;const s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(n);return a?(this[i]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let i=n.getMagnetFromLinkEnd(this.model.get(e));i===n.el&&(i=null),this[t]=i}else this[t]=null},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:Vi({},t,e)},addLabel:function(e,t,n,i){var r,o,s=0,a;typeof e!="number"?(r=e.x,o=e.y,typeof t=="number"?(s=t,a=n):a=t):(r=e,o=t,typeof n=="number"?(s=n,a=i):a=n);var l=this._getDefaultLabelPositionArgs(),u=a,f=this._mergeLabelPositionArgs(u,l),d={position:this.getLabelPosition(r,o,s,f)},m=-1;return this.model.insertLabel(m,d,a),m},addVertex:function(e,t,n){var i=typeof e!="number",r=i?e.x:e,o=i?e.y:t,s=i?t:n,a={x:r,y:o},l=this.getVertexIndex(r,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,n){function i(d,m){return function(){d.remove(),typeof m=="function"&&m()}}var r,o,s;Ln(t)?(r=t.duration,o=t.direction==="reverse",s=t.connection):(r=t,o=!1,s=null),r=r||1e3;var a={dur:r+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=We(e),u;if(typeof s=="string")u=this.findNode(s);else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(i(l,n),r)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||BL,n=this.model.router(),i=this.paper.options.defaultRouter;if(!n)if(i)n=i;else return e.map(ge);var r=Vn(n)?n:t[n.name];if(!Vn(r))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var o=n.args||{},s=r.call(this,e,o,this);return s||e.map(ge)},findPath:function(e,t,n){var i=this.paper.options.connectorNamespace||OW,r=this.model.connector(),o=this.paper.options.defaultConnector;r||(r=o||{});var s=Vn(r)?r:i[r.name];if(!Vn(s))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');var a=Ji(r.args||{});a.raw=!0;var l=s.call(this,t,n,e,a,this);return typeof l=="string"&&(l=new Dt(We.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(rr(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,i){var r={},o=0,s;typeof n=="number"?(o=n,s=i):s=n,s&&(r.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},m=new ge(e,t),b=f.closestPointT(m,d),x=f.lengthAtT(b,d);a&&(x=x/this.getConnectionLength()||0),l&&(x=-1*(this.getConnectionLength()-x)||1),r.distance=x;var C;u||(C=f.tangentAtT(b));var k;if(C)k=C.pointOffset(m);else{var T=f.pointAtT(b),A=m.difference(T);k={x:A.x,y:A.y}}return r.offset=k,r.angle=o,r},_getLabelTransformationMatrix:function(e){var t,n=0,i={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")i=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var r=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,u=i.keepGradient,f=i.ensureLegibility,d=this.path,m={segmentSubdivisions:this.getConnectionSubdivisions()},b=r?t*this.getConnectionLength():t,x=d.tangentAtLength(b,m),C,k=n;if(x){if(l)C=x.start.clone(),C.offset(s);else{var T=x.clone();T.rotate(x.start,-90),T.setLength(o),C=T.end}u&&(k=x.angle()+n,f&&(k=Es((k+90)%180-90)))}else C=d.start.clone(),l&&C.offset(s);return We.createSVGMatrix().translate(C.x,C.y).rotate(k)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ge(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,i=n.vertices(),r=this.getClosestPointLength(new ge(e,t)),o=0,s=i.length;o<s;o++){var a=i[o],l=this.getClosestPointLength(a);if(r<l)break}return o},notifyPointerdown(e,t,n){un.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){un.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),un.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){un.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){un.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){un.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){var i=this._dragData;i&&this.eventData(e,i);var r=this.eventData(e);switch(r.action){case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}i&&xt(i,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var i=this._dragData;i&&(this.eventData(e,i),this._dragData=null);var r=this.eventData(e);switch(r.action){case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){un.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){un.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){un.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){un.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,i){un.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,i)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var i=this.eventData(e).stopPropagation;i&&e.stopPropagation()},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var i=e.currentTarget,r=parseInt(i.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(r)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),u=l.x-t,f=l.y-n,d=this._getLabelPositionAngle(r),m=this._getLabelPositionArgs(r),b=this._getDefaultLabelPositionArgs(),x=this._mergeLabelPositionArgs(m,b);this.eventData(e,{action:"label-move",labelIdx:r,dx:u,dy:f,positionAngle:d,positionArgs:x,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target,r=i.getAttribute("end"),o=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var i=this.eventData(e),r={position:this.getLabelPosition(t+i.dx,n+i.dy,i.positionAngle,i.positionArgs)};this.paper.options.snapLabels&&delete r.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(i.labelIdx,r,o)},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var i=this.eventData(e);this.model.translate(t-i.dx,n-i.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragArrowheadEnd:function(e,t,n){var i=this.eventData(e),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(i):this._connectArrowheadEnd(i,t,n),r.linkAllowed(this)?(this._finishEmbedding(i),this._notifyConnectEvent(i,e)):this._disallow(i),this._afterArrowheadMove(i)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,i=e.initialEnd,r=this.model.prop(n),o=r&&!om.endsEqual(i,r);if(o){var s=this.paper;i.id&&this.notify("link:disconnect",t,s.findViewByModel(i.id),e.initialMagnet,n),r.id&&this.notify("link:connect",t,s.findViewByModel(r.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let i=null,r=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<r&&(r=f,i=t[u]);const d=Math.abs(t[u].y-e.y);d<s&&(s=d,o=t[u])}return r<n&&(a=i.x),s<n&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,n){const{paper:i,model:r}=this,{snapLinksSelf:o}=i.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),u=r.vertices(),f=[l,...u],d=this._snapToPoints({x:t,y:n},f,a),m=i.localToClientPoint(d);this._connectArrowhead(document.elementFromPoint(m.x,m.y),d.x,d.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:i}=this,{snapLinks:r,connectionStrategy:o}=i.options,s=this.eventData(e);let a=!1;var l=r.radius||50,u=i.findViewsInArea({x:t-l,y:n-l,width:2*l,height:2*l}),f=s.closestView||null,d=s.closestMagnet||null,m=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var b=Number.MAX_VALUE,x=new ge(t,n);u.forEach(function(Z){const ee=[];Z.el.getAttribute("magnet")!=="false"&&ee.push({bbox:Z.model.getBBox(),magnet:Z.el}),Z.$("[magnet]").toArray().forEach(g=>{ee.push({bbox:Z.getNodeBBox(g),magnet:g})}),ee.forEach(g=>{const{magnet:L,bbox:M}=g,z=M.center().squaredDistance(x);z<b&&(d===L||i.options.validateConnection.apply(i,s.validateConnectionArgs(Z,Z.el===L?null:L)))&&(b=z,s.closestView=Z,s.closestMagnet=L)})},this);var C,k=null,T=s.closestView,A=s.closestMagnet;A&&(k=s.magnetProxy=T.findProxyNode(A,"highlighter"));var R=s.arrowhead,F=d!==A;if(f&&F&&f.unhighlight(m,{connecting:!0,snapping:!0}),T){const{prevEnd:Z,prevX:ee,prevY:g}=s;if(s.prevX=t,s.prevY=n,a=!0,!F&&(typeof o!="function"||ee===t&&g===n)||(C=T.getLinkEnd(A,t,n,this.model,R),!F&&Wa(Z,C)))return a;s.prevEnd=C,F&&T.highlight(k,{connecting:!0,snapping:!0})}else C={x:t,y:n};return this.model.set(R,C||{x:t,y:n},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,d,R),T&&this.notify("link:snap:connect",e,T,A,R),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,i){const{paper:r,model:o}=this;if(i.eventTarget!==e){i.magnetProxy&&i.viewUnderPointer.unhighlight(i.magnetProxy,{connecting:!0});const s=i.viewUnderPointer=r.findView(e);if(s){const a=i.magnetUnderPointer=s.findMagnet(e),l=i.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(r,i.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(i.magnetUnderPointer=null,i.magnetProxy=null)}else i.magnetUnderPointer=null,i.magnetProxy=null}i.eventTarget=e,o.set(i.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:i}=this,{viewUnderPointer:r,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!r)return;r.unhighlight(s,{connecting:!0});const l=r.getLinkEnd(o,t,n,i,a);i.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,i=0,r=0;e==="source"?(i=2,n="target"):(r=2,n="source");var o=this.model.get(n);if(o.id){var s=t[i]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[i+1]=a}function l(u,f){return t[r]=u,t[r+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(d,m){var b=d.paper,x=b.options.validateConnection;return x.apply(b,this.validateConnectionArgs(d,m))}var n=this.paper,i=n.model.getCells();e.marked={};for(var r=0,o=i.length;r<o;r++){var s=i[r].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,f=l.length;u<f;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,i,r=0,o=t.length;r<o;r++){n=t[r],i=e.marked[n];var s=this.paper.findViewByModel(n);if(s){for(var a=0,l=i.length;a<l;a++)s.unhighlight(i[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Ji(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){un.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){un.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){un.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:An});Object.defineProperty(Id.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new pt(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new pt(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(Id.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new pt(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new pt(this.targetAnchor):e.getNodeBBox(n||e.el)}});const aj=Tw.extend({style:{"pointer-events":"none"},_gridCache:null,_gridSettings:null,init(){Tw.prototype.init.apply(this,arguments);const{options:{paper:e}}=this;this._gridCache=null,this._gridSettings=[],this.listenTo(e,"transform resize",this.updateGrid)},setGrid(e){this._gridSettings=this.getGridSettings(e),this.renderGrid()},getGridSettings(e){const t=[];return e&&(Array.isArray(e)?e:[e||{}]).forEach(i=>{t.push(...this._resolveDrawGridOption(i))}),t},removeGrid(){const{_gridCache:e}=this;e&&(e.root.remove(),this._gridCache=null)},renderGrid(){const{options:{paper:e}}=this,{_gridSettings:t}=this;if(this.removeGrid(),t.length===0)return;const n=e.options.drawGridSize||e.options.gridSize;if(n<=1)return;const i=this._getGridRefs();t.forEach((r,o)=>{const s="pattern_"+o,a=Vi({},r),{scaleFactor:l=1}=a;a.width=n*l||1,a.height=n*l||1;let u;i.exist(s)?u=i.get(s):(u=We("pattern",{id:s,patternUnits:"userSpaceOnUse"},We(a.markup)),i.add(s,u)),Vn(a.render)&&a.render(u.node.firstChild,a,e),u.attr({width:a.width,height:a.height})}),i.root.appendTo(this.el),this.updateGrid()},updateGrid(){const{_gridCache:e,_gridSettings:t,options:{paper:n}}=this;if(!e)return;const{root:i,patterns:r}=e,{x:o,y:s,width:a,height:l}=n.getArea();i.attr({x:o,y:s,width:a,height:l});for(const u in r)r[u].attr({x:-o,y:-s});t.forEach((u,f)=>{if(Vn(u.update)){const d=r["pattern_"+f];u.update(d.node.firstChild,u,n)}})},_getGridRefs(){let{_gridCache:e}=this;if(e)return e;const t=We("defs"),n=We("svg",{width:"100%",height:"100%"},[t]);return e=this._gridCache={root:n,patterns:{},add:function(i,r){const o=We("rect",{width:"100%",height:"100%",fill:`url(#${i})`});t.append(r),n.append(o),this.patterns[i]=r},get:function(i){return this.patterns[i]},exist:function(i){return this.patterns[i]!==void 0}},e},_resolveDrawGridOption(e){var t=this.options.patterns;if(Wi(e)&&Array.isArray(t[e]))return t[e].map(function(l){return xt({},l)});var n=e||{args:[{}]},i=Array.isArray(n),r=n.name;if(!i&&!r&&!n.markup&&(r="dot"),r&&Array.isArray(t[r])){var o=t[r].map(function(l){return xt({},l)}),s=Array.isArray(n.args)?n.args:[n.args||{}];Ao(s[0],im(e,"args"));for(var a=0;a<s.length;a++)o[a]&&xt(o[a],s[a]);return o}return i?n:[n]}}),rd={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},lj=50,vk=20,bk=1e3,cj=1/0,xy=9007199254740991,wx=un.Highlighting,_k={[wx.DEFAULT]:{name:"stroke",options:{padding:3}},[wx.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[wx.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},uj=[{name:gr.GRID},{name:gr.BACK},{name:gr.CELLS},{name:gr.LABELS},{name:gr.FRONT},{name:gr.TOOLS}],wv=aa.extend({className:"paper",options:{width:800,height:600,gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,elementView:Wy,linkView:Id,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:_k,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:function(){const{cellNamespace:e}=this.model.get("cells"),t=Nh(e,["standard","Link"]);if(!t)throw new Error("dia.Paper: no default link model found. Use `options.defaultLink` to specify a default link model.");return new t},defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"boundary"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,i,r,o){return(r==="target"?n:e)instanceof Wy},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:rd.APPROX,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,i,r){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||i.mounting||i.isolate||r.requestConnectedLinksUpdate(e,n,i)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:GW,anchorNamespace:Z8,linkAnchorNamespace:R8,connectionPointNamespace:t8,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},stylesheet:`
        .joint-element .scalable * {
            vector-effect: non-scaling-stroke;
        }
    `,svg:null,viewport:null,defs:null,tools:null,layers:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&ia(joint,"shapes")?joint.shapes:null);const t=this.model=e.model||new Du;this._layers={},this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.resetViews(t.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates&&this._updates.id&&Hy(this._updates.id),this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("transform",this.update)},onCellAdded:function(e,t,n){var i=n.position;this.isAsync()||!to(i)?this.renderView(e,n):(n.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(e,n),i===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const i=this.findViewByModel(e);i&&this.requestViewUpdate(i,i.FLAG_REMOVE,i.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===rd.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var i=this.UPDATE_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.updateViews(e)}var r=this.SORT_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:i,defaultAnchor:r,defaultLinkAnchor:o,highlighting:s,cellViewNamespace:a,interactive:l}=e;!a&&typeof joint<"u"&&ia(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),Vn(t)||(e.defaultConnector=Or(t)),Vn(n)||(e.defaultRouter=Or(n)),Vn(i)||(e.defaultConnectionPoint=Or(i)),Vn(r)||(e.defaultAnchor=Or(r)),Vn(o)||(e.defaultLinkAnchor=Or(o)),Pi(l)&&(e.interactive=xt({},l)),Pi(s)&&(e.highlighting=X1({},s,_k))},children:function(){var e=We.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ja("paper-background"),selector:"background",style:{position:"absolute",inset:0}},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",style:{position:"absolute",inset:0},children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ja("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{el:e,childNodes:t,options:n,stylesheet:i}=this,{svg:r,defs:o,layers:s}=t;return e.style.position="relative",r.style.overflow=n.overflow?"visible":"hidden",this.svg=r,this.defs=o,this.layers=s,this.renderLayers(),We.ensureId(r),this.addStylesheet(i),n.background&&this.drawBackground(n.background),n.drawGrid&&this.setGrid(n.drawGrid),this},addStylesheet:function(e){e&&We(this.svg).prepend(We.createSVGStyle(e))},createLayer(e){switch(e){case gr.GRID:return new aj({name:e,paper:this,patterns:this.constructor.gridPatterns});default:return new Tw({name:e})}},renderLayers:function(e=uj){this.removeLayers(),e.forEach(({name:r,sorted:o})=>{const s=this.createLayer(r);this.layers.appendChild(s.el),this._layers[r]=s});const t=this.getLayerView(gr.CELLS),n=this.getLayerView(gr.TOOLS),i=this.getLayerView(gr.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(ja("viewport")),i.vel.addClass(ja("viewport")),t.el.style.webkitUserSelect="none",t.el.style.userSelect="none",i.el.style.webkitUserSelect="none",i.el.style.userSelect="none"},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this._background&&this.updateBackgroundImage(this._background),this},scale:function(e,t,n){const i=this.matrix();return e===void 0?We.matrixToScale(i):(t===void 0&&(t=e),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE),i.a=e,i.d=t,this.matrix(i,n),this)},scaleUniformAtPoint:function(e,t,n){const{a:i,d:r,e:o,f:s}=this.matrix();if(e=Math.max(e||0,this.MIN_SCALE),e===i&&e===r)return this;const a=We.createSVGMatrix().translate(o-t.x*(e-i),s-t.y*(e-r)).scale(e,e);return this.matrix(a,n),this},translate:function(e,t,n){const i=this.matrix();return e===void 0?We.matrixToTranslate(i):(e||(e=0),t||(t=0),i.e===e&&i.f===t?this:(i.e=e,i.f=t,this.matrix(i,n),this))},matrix:function(e,t={}){var n=this.layers;if(e===void 0){var i=n.getAttribute("transform");return(this._viewportTransformString||null)===i?e=this._viewportMatrix:(e=n.getCTM(),this._viewportMatrix=e,this._viewportTransformString=i),We.createSVGMatrix(e)}const r=this.matrix(),o=We.createSVGMatrix(e),s=this._viewportTransformString,a=We.matrixToTransformString(o);if(a===s)return this;if(!s&&We.matrixToTransformString()===a)return this;const{a:l,d:u,e:f,f:d}=o;return n.setAttribute("transform",a),this._viewportMatrix=o,this._viewportTransformString=n.getAttribute("transform"),(l!==r.a||u!==r.d)&&this.trigger("scale",l,u,t),(f!==r.e||d!==r.f)&&this.trigger("translate",f,d,t),this.trigger("transform",o,t),this},clientMatrix:function(){return We.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof un)for(var i=e.model,r=this.model.getConnectedLinks(i),o=0,s=r.length;o<s;o++){var a=r[o],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===i&&u.push("TARGET"),a.getSourceCell()===i&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof un))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var i={silent:!0},r=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(r=this.dumpView(o,i),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,i),e.updateEndMagnet("target")),r===0&&s===0)return!this.dumpView(e,i)}return!1},requestViewUpdate:function(e,t,n,i){i||(i={}),this.scheduleViewUpdate(e,t,n,i);var r=this.isAsync();if(!(this.isFrozen()||r&&i.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(i);r&&this.notifyAfterRender(o,i)}},scheduleViewUpdate:function(e,t,n,i){const{_updates:r,options:o}=this;r.idle&&o.autoFreeze&&(r.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=e;let f=r.priorities[n];if(f||(f=r.priorities[n]={}),n>l)for(let b=n-1;b>=l;b--){const x=r.priorities[b];!x||!(u in x)||(f[u]|=x[u],delete x[u])}let d=f[u]||0;if((d&t)===t)return;d||r.count++,t&s&&d&a?f[u]^=a:t&a&&d&s&&(f[u]^=s),f[u]|=t;const m=o.onViewUpdate;typeof m=="function"&&m.call(this,e,t,n,i||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,i=t.priorities[e.UPDATE_PRIORITY],r=this.registerMountedView(e)|i[n];return delete i[n],r},dumpView:function(e,t={}){const n=this.dumpViewUpdate(e);if(!n)return 0;const i=!t.silent;i&&this.notifyBeforeRender(t);const r=this.updateView(e,n,t);if(i){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return r},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:i,FLAG_INSERT:r,FLAG_INIT:o,model:s}=e;if(e instanceof un){if(t&i)return this.removeView(s),0;if(t&r){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=r}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var i=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],i},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var i=n.unmounted[t]||0;return delete n.unmounted[t],i},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=Ao({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,i=0,r=xy;do i++,t=this.updateViewsBatch(e),n+=t.updated,r=Math.min(t.priority,r);while(!t.empty);const o={updated:n,batches:i,priority:r};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let i in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:xy});const{_updates:n,options:i}=this,r=n.id;if(r){Hy(r),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=Ao({},e,{mountBatchSize:bk-o.mounted,unmountBatchSize:bk-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,u=a.mounted;let f=t.processed;const d=n.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=xy,n.count=0):t.processed=f):n.idle||i.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const m=e.progress;if(d&&typeof m=="function"&&m.call(this,o.empty,f,d,o,this),n.id!==r)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=yw(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||cj,n=this._updates,i=0,r=0,o=0,s=0,a=xy,l=!0,u=this.options,f=n.priorities,d="viewport"in e?e.viewport:u.viewport;typeof d!="function"&&(d=null);var m=u.onViewPostponed;typeof m!="function"&&(m=null);var b=Object.keys(f);e:for(var x=0,C=b.length;x<C;x++){var k=+b[x],T=f[k];for(var A in T){if(i>=t){l=!1;break e}var R=Vc[A];if(!R){delete T[A];continue}var F=T[A];if(!(F&R.FLAG_REMOVE)){var Z=A in n.unmounted;if(R.DETACHABLE&&d&&!d.call(this,R,!Z,this)){Z||(this.registerUnmountedView(R),this.detachView(R)),n.unmounted[A]|=F,delete T[A],o++;continue}Z&&(F|=R.FLAG_INSERT,s++),F|=this.registerMountedView(R)}var ee=this.updateView(R,F,e);if(ee>0&&(T[A]=ee,!m||!m.call(this,R,ee,this)||T[A])){r++,l=!1;continue}a>k&&(a=k),i++,delete T[A]}}return{priority:a,updated:i,postponed:r,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),n=t.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=Vc[t[r]];return i},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),n=t.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=Vc[t[r]];return i},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var i=("mountBatchSize"in t)?t.mountBatchSize:1/0,r=this._updates,o=r.unmountedCids,s=r.unmounted,a=0,l=Math.min(o.length,i);a<l;a++){var u=o[a];if(u in s){var f=Vc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}n++;var d=this.registerMountedView(f);d&&this.scheduleViewUpdate(f,d,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var i=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,r=this._updates,o=r.mountedCids,s=r.mounted,a=0,l=Math.min(o.length,i);a<l;a++){var u=o[a];if(u in s){var f=Vc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}n++;var d=this.registerUnmountedView(f);d&&this.detachView(f)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);const i=this._updates,{mounted:r,unmounted:o}=i,s=!e.DETACHABLE||!n||n.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in r&&!s){this.registerUnmountedView(e)&&this.detachView(e);const d=i.mountedCids.indexOf(e.cid);i.mountedCids.splice(d,1),a=!0}if(!a&&e.cid in o&&s){const f=i.unmountedCids.indexOf(e.cid);i.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Ao({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,i=this.checkMountedViews(n,t);if(i>0){var r=this._updates.unmountedCids;t.mountBatchSize=Math.min(r.length-i,t.mountBatchSize)}var o=this.checkUnmountedViews(n,t);return{mounted:o,unmounted:i}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,i=this.options.frozen,r=t.freezeKey;if(n&&n!==r){if(i&&r)return;t.freezeKey=n,t.keyFrozen=i}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&Hy(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,i=t.freezeKey;n&&i&&n!==i||(t.freezeKey=null,!(n&&n===i&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===rd.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return to(t)||(t=this.el.clientWidth),to(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t,n={}){const{options:i}=this,{width:r,height:o}=i;let s=e===void 0?r:e,a=t===void 0?o:t;if(r===s&&o===a)return;i.width=s,i.height=a,this._setDimensions();const l=this.getComputedSize();this.trigger("resize",l.width,l.height,n)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;to(t)&&(t=`${Math.round(t)}px`),to(n)&&(n=`${Math.round(n)}px`),this.$el.css({width:t===null?"":t,height:n===null?"":n})},fitToContent:function(e,t,n,i){Ln(e)?i=e:i=xt({gridWidth:e,gridHeight:t,padding:n},i);const{x:r,y:o,width:s,height:a}=this.getFitToContentArea(i),{sx:l,sy:u}=this.scale();return this.translate(-r*l,-o*u,i),this.setDimensions(s*l,a*u,i),new pt(r,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,n=e.gridHeight||1,i=nl(e.padding||0),r=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new pt(e.contentArea):this.getContentArea(e),{sx:f,sy:d}=this.scale();u.x*=f,u.y*=d,u.width*=f,u.height*=d;let m=Math.ceil((u.width+u.x)/t),b=Math.ceil((u.height+u.y)/n);e.allowNegativeBottomRight||(m=Math.max(m,1),b=Math.max(b,1)),m*=t,b*=n;let x=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(x=Math.ceil(-u.x/t)*t,x+=i.left,m+=x);let C=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(C=Math.ceil(-u.y/n)*n,C+=i.top,b+=C),m+=i.right,b+=i.bottom,m=Math.max(m,r),b=Math.max(b,o),m=Math.min(m,s),b=Math.min(b,a),new pt(-x/f,-C/d,m/f,b/d)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){const R=e.contentArea;t=this.localToPaperRect(R),n=new ge(R)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Ao(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const i=nl(e.padding),r=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const R=this.translate(),F=this.getComputedSize();l={x:R.tx,y:R.ty,width:F.width,height:F.height}}l=new pt(l).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});const u=this.matrix(),{a:f,d,e:m,f:b}=u;let x=l.width/t.width*f,C=l.height/t.height*d;if(e.preserveAspectRatio&&(x=C=Math.min(x,C)),e.scaleGrid){const R=e.scaleGrid;x=R*Math.floor(x/R),C=R*Math.floor(C/R)}x=Math.min(o,Math.max(r,x)),C=Math.min(a,Math.max(s,C));const k={x:x/f,y:C/d};let T=l.x-n.x*x-m,A=l.y-n.y*C-b;switch(e.verticalAlign){case"middle":A=A+(l.height-t.height*k.y)/2;break;case"bottom":A=A+(l.height-t.height*k.y);break}switch(e.horizontalAlign){case"middle":T=T+(l.width-t.width*k.x)/2;break;case"right":T=T+(l.width-t.width*k.x);break}u.a=x,u.d=C,u.e=T,u.f=A,this.matrix(u,e)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new pt:We(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return Vn(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new pt(t):n=null,n},createViewForModel:function(e){const{options:t}=this;var n,i,r=t.cellViewNamespace,o=e.get("type")+"View",s=Nh(r,o,".");e.isLink()?(n=t.linkView,i=Id):(n=t.elementView,i=Wy);var a=n.prototype instanceof Yc?s||n:n.call(this,e)||s||i;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?gr.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:i}=this,r=n[t];if(r){var{cid:o}=r;const{mounted:s,unmounted:a}=i;r.remove(),delete n[t],delete s[o],delete a[o]}return r},renderView:function(e,t){const{id:n}=e,i=this._views;let r,o,s=!0;return n in i&&(r=i[n],r.model===e?(o=r.FLAG_INSERT,s=!1):this.removeView(e)),s&&(r=i[n]=this.createViewForModel(e),r.paper=this,o=this.registerUnmountedView(r)|this.FLAG_INIT|r.getFlag(ei(r,"initFlag"))),this.requestViewUpdate(r,o,r.UPDATE_PRIORITY,t),r},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var i=0,r=e.length;i<r;i++)this.renderView(e[i],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){na(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Array.from(this.cells.childNodes).filter(n=>n.getAttribute("model-id")),t=this.model.get("cells");U9(e,function(n,i){var r=t.get(n.getAttribute("model-id")),o=t.get(i.getAttribute("model-id")),s=r.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const n=this.getLayerView(gr.CELLS),{el:i,model:r}=e;switch(this.options.sorting){case rd.APPROX:n.insertSortedNode(i,r.get("z"));break;case rd.EXACT:default:n.insertNode(i);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},findView:function(e){var t=Wi(e)?this.cells.querySelector(e):e instanceof dt?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Wi(e)||to(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ge(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Ao(t||{},{strict:!1}),e=new pt(e);var n=this.model.getElements().map(this.findViewByModel,this),i=t.strict?"containsRect":"intersect";return n.filter(function(r){return r&&e[i](r.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new ge(e,t),i=We.transformPoint(n,this.matrix());return i},localToPaperRect:function(e,t,n,i){var r=new pt(e,t,n,i),o=We.transformRect(r,this.matrix());return o},paperToLocalPoint:function(e,t){var n=new ge(e,t),i=We.transformPoint(n,this.matrix().inverse());return i},paperToLocalRect:function(e,t,n,i){var r=new pt(e,t,n,i),o=We.transformRect(r,this.matrix().inverse());return o},localToClientPoint:function(e,t){var n=new ge(e,t),i=We.transformPoint(n,this.clientMatrix());return i},localToClientRect:function(e,t,n,i){var r=new pt(e,t,n,i),o=We.transformRect(r,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var n=new ge(e,t),i=We.transformPoint(n,this.clientMatrix().inverse());return i},clientToLocalRect:function(e,t,n,i){var r=new pt(e,t,n,i),o=We.transformRect(r,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,i){return this.localToPaperRect(e,t,n,i).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new ge(e,t),i=n.difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(e,t,n,i){var r=this.pageOffset(),o=new pt(e,t,n,i);return o.x-=r.x,o.y-=r.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ge(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Id))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,i=this.model,r=i.constructor.validations;return!(!n.multiLinks&&!r.multiLinks.call(this,i,t)||!n.linkPinning&&!r.linkPinning.call(this,i,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Vn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:i,highlighterNamespace:r}=this.options;if(t===void 0){if(!i||n&&(t=i[n],t===!1))return!1;t||(t=i.default)}if(!t)return!1;Wi(t)&&(t={name:t});const o=t.name,s=r[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:o}=i;r.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:o}=i;r.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=Kn(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=Kn(e);var n=this.findView(e.target);if(this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,i.x,i.y):this.trigger("blank:pointerclick",e,i.x,i.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=Kn(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Kn(e);const{target:t,button:n}=e,i=this.findView(t),r=n===2;if(i){if(!r&&this.guard(e,i))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&i.preventDefaultInteraction(e);const s=this.customEventTrigger(e,i);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&i.el!==a&&i.el.contains(a)){const l=Kn(new dt.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(r)return;this.delegateDragEvents(i,l.data);return}e.data=l.data}}if(r){this.contextMenuFired=!0;const o=new dt.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);i?i.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(i,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=Kn(e);var i=this.snapToGrid(e.clientX,e.clientY),r=t.sourceView;r?r.pointermove(e,i.x,i.y):this.trigger("blank:pointermove",e,i.x,i.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Kn(e),n=this.snapToGrid(t.clientX,t.clientY),i=this.eventData(e).sourceView;i?i.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(new dt.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Kn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Kn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Kn(e);const{target:t,relatedTarget:n,currentTarget:i}=e,r=this.findView(t);if(this.guard(e,r))return;const o=this.findView(n);r&&(o===r||(r.mouseenter(e),this.el.contains(n)))||o||i===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Kn(e);const{target:t,relatedTarget:n,currentTarget:i}=e,r=this.findView(t);if(this.guard(e,r))return;const o=this.findView(n);r&&(o===r||(r.mouseleave(e),this.el.contains(n)))||o||i===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:HV(function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+$9(a,lj),0),i=Math.pow(.995,n),{x:r,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,r,o,i),this._mw_evt_buffer={event:null,deltas:[]}},vk,{maxWait:vk}),mousewheel:function(e){e=Kn(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,i=this.snapToGrid(n.clientX,n.clientY),{deltaX:r,deltaY:o}=B9(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=e,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,i.x,i.y,a):this.trigger("blank:mousewheel",e,i.x,i.y,a),this.trigger("paper:pan",e,r,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var i=this.findView(t);if(i){if(e=Kn(e),this.guard(e,i))return;var r=this.snapToGrid(e.clientX,e.clientY);i.onevent(e,n,r.x,r.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,i=n.getAttribute("magnet");if(i){var r=this.findView(n);if(r){if(e=Kn(e),this.guard(e,r))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,r,e,n,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=new dt.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,i,r,o){t.onmagnet(n,r,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,i,r,o){t.magnetpointerdblclick(n,i,r,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,i,r,o){t.magnetcontextmenu(n,i,r,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=Kn(e),this.guard(e,n)))return;const i=this.customEventTrigger(e,n,t);if(i){if(i.isPropagationStopped())return;e.data=i.data}var r=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,r.x,r.y)},getPointerArgs(e){const t=Kn(e),{x:n,y:i}=this.snapToGrid(t.clientX,t.clientY);return[t,n,i]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof sa||this.el===n||this.svg.contains(n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.getLayerView(gr.GRID).renderGrid(),this},setGrid:function(e){return this.getLayerView(gr.GRID).setGrid(e),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",i=this.scale(),r=this.translate();if(Ln(t)){var o=r.tx+i.sx*(t.x||0),s=r.ty+i.sy*(t.y||0);t=o+"px "+s+"px"}Ln(n)&&(n=new pt(n).scale(i.sx,i.sy),n=n.width+"px "+n.height+"px");const{background:a}=this.childNodes;a.style.backgroundSize=n,a.style.backgroundPosition=t},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.childNodes.background.style.backgroundImage="";return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,i=t.size,r=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[JO(r)];if(Vn(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),r="repeat",Ln(i)?(i.width*=l.width/e.width,i.height*=l.height/e.height):i===void 0&&(t.size={width:l.width/s,height:l.height/s})}else n=e.src,i===void 0&&(t.size={width:e.width,height:e.height});this.childNodes.background.style.opacity=o,this.childNodes.background.style.backgroundRepeat=r,this.childNodes.background.style.backgroundImage=`url(${n})`,this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Or(e),gd(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,na(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Ln(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+fy(JSON.stringify(e))),!this.isDefined(t)){var i=V9,r=i[n]&&i[n](e.args||{});if(!r)throw new Error("Non-existing filter "+n);var o=xt({filterUnits:"userSpaceOnUse"},e.attrs,{id:t});We(r,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Ln(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:i,id:r=i+t.id+fy(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(r))return r;const a=In(o).map(({offset:u,color:f,opacity:d})=>We("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(d)?d:1})),l=We(i,s,a);return l.id=r,l.appendTo(n),r},definePattern:function(e){if(!Ln(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:i=t.id+fy(JSON.stringify(e)),markup:r,attrs:o={}}=e;if(!r)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(i))return i;const s=We("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=i,s.attr(o),typeof r=="string")s.append(We(r));else{const{fragment:a}=mv(r);s.append(a)}return s.appendTo(n),i},defineMarker:function(e){if(!Ln(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:i=t.id+fy(JSON.stringify(e)),markup:r,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(i))return i;const a=We("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=i,a.attr(o);let l;if(r){let d;if(typeof r=="string")d=We(r),d=Array.isArray(d)?d:[d];else{const{fragment:m}=mv(r);d=We(m).children()}d.length>1?l=We("g").append(d):l=d[0]}else{const{type:d="path"}=e;l=We(d)}const u=im(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(d=>{const m=u[d],b=l.attr(d);if(b==null)l.attr(d,m);else switch(d){case"transform":l.attr(d,m+" "+b);break}}),l.appendTo(a),a.appendTo(n),i},customEventTrigger:function(e,t,n=t.el){const i=e.target.closest("[event]");if(i&&n!==i&&t.el.contains(i)){const r=Kn(new dt.Event(e.originalEvent,{data:e.data,currentTarget:i}));return this.onevent(r),r.isDefaultPrevented()&&e.preventDefault(),r}return null}},{sorting:rd,Layers:gr,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=2*n,t.height=2*i;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.setTransform(-1,0,0,-1,t.width,t.height),r.drawImage(e,0,0,n,i),r.setTransform(-1,0,0,1,t.width,0),r.drawImage(e,0,0,n,i),r.setTransform(1,0,0,-1,0,t.height),r.drawImage(e,0,0,n,i),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=n*2,t.height=i;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(e,0,0,n,i),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=n,t.height=i*2;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(e,0,0,n,i),t},watermark:function(e,t){t=t||{};var n=e.width,i=e.height,r=document.createElement("canvas");r.width=n*3,r.height=i*3;for(var o=r.getContext("2d"),s=to(t.watermarkAngle)?-t.watermarkAngle:-20,a=ao(s),l=r.width/4,u=r.height/4,f=0;f<4;f++)for(var d=0;d<4;d++)(f+d)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*d-1)*u),o.rotate(a),o.drawImage(e,-n/2,-i/2,n,i));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){We(e).attr({width:t.thickness,height:t.thickness,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){We(e).attr({fill:t.color})},update:function(e,t,n){const{sx:i,sy:r}=n.scale(),o=i<=1?t.thickness:t.thickness/i,s=r<=1?t.thickness:t.thickness/r;We(e).attr({width:o,height:s})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,o=t.thickness;i-o>=0&&r-o>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",We(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,o=t.thickness;i-o>=0&&r-o>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",We(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,o=t.thickness;i-o>=0&&r-o>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",We(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),Nu=aa.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n?!0:t.guard(e,n)}}),UL=aa.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=xt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof un))return this;for(var i=this.tools=[],r=0,o=t.length;r<o;r++){var s=t[r];s instanceof Nu&&(s.configure(n,this),this.vel.append(s.el),i.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,i=0,r=t.length;i<r;i++){var o=t[i];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,i=t.length;n<i;n++){var r=t[n];e===r?r.show():r.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,i=t.length;n<i;n++){var r=t[n];r!==e&&!r.isVisible()&&(r.show(),r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:n,layer:i=gr.TOOLS,z:r}=e;return n&&(i?n.paper.getLayerView(i).insertSortedNode(t,r):n.el.appendChild(t)),this}});var xk=aa.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){const{vel:n,options:i}=this,{scale:r}=i;let o=We.createSVGMatrix().translate(e,t);r&&(o=o.scale(r)),n.transform(o,{absolute:!0})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const dj=Nu.extend({name:"vertices",options:{handleClass:xk,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var e=this.relatedView,t=e.model.vertices();return t.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,i=t.length;n<i;n++){var r=t[n],o=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:s=>this.guard(s)});o.render(),o.position(r.x,r.y),this.simulateRelatedView(o.el),o.vel.appendTo(this.el),this.handles.push(o),this.startHandleListening(o)}},updateHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,i=t.length;n<i;n++){var r=t[n],o=this.handles[n];if(!o)return;o.position(r.x,r.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){const{vertexRemoving:t=!0,vertexMoving:n=!0}=this.options;n&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),i=e>0?n[e-1]:t.sourceAnchor,r=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new ge(i),next:new ge(r)}},onHandleWillChange:function(e,t){this.focus();const{relatedView:n,options:i}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),i.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){const{options:n,relatedView:i}=this;var r=e.options.index,[o,s,a]=i.paper.getPointerArgs(t),l={x:s,y:a};this.snapVertex(l,r),i.model.vertex(r,l,{ui:!0,tool:this.cid}),e.position(l.x,l.y),n.stopPropagation||i.notifyPointermove(o,s,a)},onHandleChanged:function(e,t){const{options:n,relatedView:i}=this;if(n.vertexAdding&&this.updatePath(),!n.redundancyRemoval){i.checkMouseleave(Kn(t));return}var r=i.removeRedundantLinearVertices({ui:!0,tool:this.cid});r&&this.render(),this.blur(),i.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&i.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[o,s,a]=i.paper.getPointerArgs(t);n.stopPropagation||i.notifyPointerup(o,s,a),i.checkMouseleave(o)},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var i=this.getNeighborPoints(t),r=i.prev,o=i.next;Math.abs(e.x-r.x)<n?e.x=r.x:Math.abs(e.x-o.x)<n&&(e.x=o.x),Math.abs(e.y-r.y)<n?e.y=i.prev.y:Math.abs(e.y-o.y)<n&&(e.y=o.y)}},onHandleRemove:function(e,t){var n=e.options.index,i=this.relatedView;i.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),i.checkMouseleave(Kn(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=Kn(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),i=this.relatedView;i.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var r=i.getVertexIndex(n.x,n.y);this.snapVertex(n,r),i.model.insertVertex(r,n,{ui:!0,tool:this.cid}),this.update();var o=this.handles[r];this.eventData(t,{vertexAdded:!0}),o.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:xk});function HL(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}function VL(e,t,n){var i=o8.call(this.paper,{},t,n,e,this.model);return i.anchor}function hj(e,t,n,i,r,o){var s=o.options.snapRadius,a=i==="source",l=a?0:-1,u=this.model.vertex(l)||this.getEndAnchor(a?"target":"source");return u&&(Math.abs(u.x-e.x)<s&&(e.x=u.x),Math.abs(u.y-e.y)<s&&(e.y=u.y)),e}var wk=aa.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,i){const{scale:r}=this.options;let o=We.createSVGMatrix().translate(e,t).rotate(n);r&&(o=o.scale(r));var s=this.childNodes.handle;s.setAttribute("transform",We.matrixToTransformString(o)),s.setAttribute("cursor",n%180===0?"row-resize":"col-resize");var a=i.getClosestPoint(new ge(e,t)),l=this.childNodes.line;l.setAttribute("x1",e),l.setAttribute("y1",t),l.setAttribute("x2",a.x),l.setAttribute("y2",a.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}});const fj=Nu.extend({name:"segments",precision:.5,options:{handleClass:wk,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:VL,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,i=t.length;n<i-1;n++){var r=t[n],o=t[n+1],s=this.renderHandle(r,o);this.simulateRelatedView(s.el),this.handles.push(s),s.options.index=n}return this},renderHandle:function(e,t){var n=new this.options.handleClass({paper:this.paper,scale:this.options.scale,guard:i=>this.guard(i)});return n.render(),this.updateHandle(n,e,t),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,i=t.length;n<i;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var i=e.options.index,r=this.relatedView,o=r.model,s=o.vertices(),a=e.options.axis,l=s[i-2]||n.sourceAnchor,u=s[i+1]||n.targetAnchor,f=this.options.snapRadius;return Math.abs(t[a]-l[a])<f?t[a]=l[a]:Math.abs(t[a]-u[a])<f&&(t[a]=u[a]),t},onHandleChanging:function(e,t){const{options:n}=this;var i=this.eventData(t),r=this.relatedView,o=r.paper,s=e.options.index-1,a=Kn(t),l=o.snapToGrid(a.clientX,a.clientY),u=this.snapHandle(e,l.clone(),i),f=e.options.axis,d=this.options.snapHandle?0:l[f]-u[f],m=r.model,b=Or(m.vertices()),x=this.options.anchor;typeof x!="function"&&(x=null);const C=e.options.index,k=[r.sourcePoint.clone(),...b,r.targetPoint.clone()];let T=0;if(C-1>=0){const q=k[C-1],G=k[C];new _t(q,G).vector().theta()%90!==0&&(b.splice(C-1,0,i.originalVertices[C-1]),T++,this.shiftHandleIndexes(1))}var A=b[s+T],R=b[s+1+T];if(C+2<k.length){const q=k[C+1],G=k[C+2];if(new _t(q,G).vector().theta()%90!==0){const te=i.originalVertices.length===1,le=te?0:C,Ae=i.firstHandleShifted&&!te?1:0;let ke=1+T;b.splice(C+ke,0,i.originalVertices[le-Ae])}}var F=r.sourceView,Z=r.sourceBBox,ee=!1,g=!1;if(A?s===0?Z.containsPoint(A)?(b.shift(),this.shiftHandleIndexes(-1),ee=!0):(A[f]=u[f],g=!0):A[f]=u[f]:(A=r.sourceAnchor.toJSON(),A[f]=u[f],Z.containsPoint(A)?(A[f]=u[f],ee=!0):(b.unshift(A),this.shiftHandleIndexes(1),i.firstHandleShifted=!0,g=!0)),x&&F){if(ee){var L=i.sourceAnchor.clone();L[f]=u[f];var M=x.call(r,L,F,r.sourceMagnet||F.el,"source",r);this.resetAnchor("source",M)}g&&this.resetAnchor("source",i.sourceAnchorDef)}var z=r.targetView,Q=r.targetBBox,de=!1,ce=!1;if(R?s===b.length-2?Q.containsPoint(R)?(b.pop(),de=!0):(R[f]=u[f],ce=!0):R[f]=u[f]:(R=r.targetAnchor.toJSON(),R[f]=u[f],Q.containsPoint(R)?de=!0:(b.push(R),ce=!0)),x&&z){if(de){var pe=i.targetAnchor.clone();pe[f]=u[f];var ae=x.call(r,pe,z,r.targetMagnet||z.el,"target",r);this.resetAnchor("target",ae)}ce&&this.resetAnchor("target",i.targetAnchorDef)}if(b.some(q=>!q))throw new Error("Segments: incompatible router in use");m.vertices(b,{ui:!0,tool:this.cid}),this.updateHandle(e,A,R,d),n.stopPropagation||r.notifyPointermove(a,l.x,l.y)},onHandleChangeStart:function(e,t){const{options:n,handles:i,relatedView:r}=this,{model:o,paper:s}=r;var a=e.options.index;if(Array.isArray(i)){for(var l=0,u=i.length;l<u;l++)l!==a&&i[l].hide();this.focus(),this.eventData(t,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:Ji(o.prop(["source","anchor"])),targetAnchorDef:Ji(o.prop(["target","anchor"])),originalVertices:Or(o.vertices()),firstHandleShifted:!1}),o.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerdown(...s.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){const{options:n,relatedView:i}=this,{paper:r,model:o}=i;n.redundancyRemoval&&i.removeRedundantLinearVertices({ui:!0,tool:this.cid});const s=Kn(t),a=r.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),o.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerup(s,a.x,a.y),i.checkMouseleave(s)},updateHandle:function(e,t,n,i){var r=Math.abs(t.x-n.x)<this.precision,o=Math.abs(t.y-n.y)<this.precision;if(r||o){var s=new _t(t,n),a=s.length();if(a<this.options.segmentLengthThreshold)e.hide();else{var l=s.midpoint(),u=r?"x":"y";l[u]+=i||0;var f=s.vector().vectorAngle(new ge(1,0));e.position(l.x,l.y,f,this.relatedView),e.show(),e.options.axis=u}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:wk}),GL=Nu.extend({tagName:"path",xAxisVector:new ge(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var e=this.ratio,t=this.relatedView,n=t.getTangentAtRatio(e),i,r;if(n?(i=n.start,r=n.vector().vectorAngle(this.xAxisVector)||0):(i=t.getPointAtRatio(e),r=0),!i)return this;var o=We.createSVGMatrix().translate(i.x,i.y).rotate(r);const{scale:s}=this.options;return s&&(o=o.scale(s)),this.vel.transform(o,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents(),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=Kn(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,i=Kn(e),r=n.snapToGrid(i.clientX,i.clientY);t.pointerup(i,r.x,r.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),pj=GL.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),gj=GL.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),mj=Nu.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:i,rotate:r}=t,o=nl(t.padding);let s=HL(e,i).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});var a=e.model;if(a.isElement()){var l=a.angle();if(l)if(r){var u=a.getBBox().center();n.rotate(l,u.x,u.y,{absolute:!0})}else s=s.bbox(l)}return n.attr(s.toJSON()),this}}),WL=Nu.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:hj,anchor:VL,scale:null,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var e=this.type,t=this.relatedView,n=t.getEndView(e);return n?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(!e)return;var t=e.anchor;if(!t)return;var n=this.relatedView,i=this.type,r=n.getEndAnchor(i),o=this.options,s=n.model.prop([i,"anchor"]);let a=`translate(${r.x},${r.y})`;o.scale&&(a+=` scale(${o.scale})`),t.setAttribute("transform",a);var l=s?o.customAnchorAttributes:o.defaultAnchorAttributes;for(var u in l)t.setAttribute(u,l[u])},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n=this.relatedView,i=this.type,r=n.getEndView(i),o=r.model,s=n.getEndMagnet(i),a=this.options.areaPadding;isFinite(a)||(a=0);var l,u,f;r.isNodeConnection(s)?(l=r.getNodeBBox(s),u=0,f=l.center()):(l=r.getNodeUnrotatedBBox(s),u=o.angle(),f=l.center(),u&&f.rotate(o.getBBox().center(),-u)),l.inflate(a),t.setAttribute("x",-l.width/2),t.setAttribute("y",-l.height/2),t.setAttribute("width",l.width),t.setAttribute("height",l.height),t.setAttribute("transform","translate("+f.x+","+f.y+") rotate("+u+")")}}},toggleArea:function(e){var t=this.childNodes;if(t){var n=t.area;n&&(n.style.display=e?"":"none")}},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,n=this.type,i=t.getEndView(n),r=i.model,o=t.getEndMagnet(n),s=Kn(e),a=this.paper.clientToLocalPoint(s.clientX,s.clientY),l=this.options.snap;if(typeof l=="function"&&(a=l.call(t,a,i,o,n,t,this),a=new ge(a)),this.options.restrictArea)if(i.isNodeConnection(o)){var u=i.getClosestPoint(a);u&&(a=u)}else{var f=i.getNodeUnrotatedBBox(o),d=r.angle(),m=r.getBBox().center(),b=a.clone().rotate(m,d);f.containsPoint(b)||(a=f.pointNearestToPoint(b).rotate(m,-d))}var x,C=this.options.anchor;typeof C=="function"&&(x=C.call(t,a,i,o,n,t)),this.resetAnchor(x),this.update()},onPointerUp:function(e){const t=Kn(e);this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),n.checkMouseleave(t),n.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;e!==!1&&(e===!0&&(e=null),this.resetAnchor(Or(e)),this.update())}}),yj=WL.extend({name:"source-anchor",type:"source"}),vj=WL.extend({name:"target-anchor",type:"target"}),P0=Nu.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:i=0,offset:r={},useModelGeometry:o,rotate:s,scale:a}=t,l=HL(e,o);const u=e.model.angle();s||(l=l.bbox(u));const{x:f=0,y:d=0}=r;rr(n)?n=parseFloat(n)/100*l.width:sc(n)&&(n=Number(ac(n,l))),rr(i)?i=parseFloat(i)/100*l.height:sc(i)&&(i=Number(ac(i,l)));let m=We.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(m=m.rotate(u)),m=m.translate(n+f-l.width/2,i+d-l.height/2),a&&(m=m.scale(a)),m},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:i=0,rotate:r,scale:o}=t;let s,a,l;rr(i)?s=e.getTangentAtRatio(parseFloat(i)/100):s=e.getTangentAtLength(i),s?(a=s.start,l=s.vector().vectorAngle(new ge(1,0))||0):(a=e.getConnection().start,l=0);let u=We.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,n);return r||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),jL=P0.extend({name:"remove",children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),bj=P0.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:e=>e.el,action:(e,t,n)=>n.dragstart(e)},getMagnetNode:function(){const{options:e,relatedView:t}=this,{magnet:n}=e;let i;switch(typeof n){case"function":{i=n.call(this,t,this);break}case"string":{i=t.findNode(n);break}default:{i=n;break}}if(i||(i=t.el),i instanceof SVGElement)return i;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(e){const{paper:t,relatedView:n}=this,i=Kn(e),{x:r,y:o}=t.clientToLocalPoint(i.clientX,i.clientY);n.dragLinkStart(i,this.getMagnetNode(),r,o),t.undelegateEvents(),this.delegateDocumentEvents(null,i.data),this.focus()},drag:function(e){const{paper:t,relatedView:n}=this,i=Kn(e),{x:r,y:o}=t.snapToGrid(i.clientX,i.clientY);n.dragLink(i,r,o)},dragend:function(e){const{paper:t,relatedView:n}=this,i=Kn(e),{x:r,y:o}=t.snapToGrid(i.clientX,i.clientY);n.dragLinkEnd(i,r,o),this.undelegateDocumentEvents(),t.delegateEvents(),this.blur(),n.checkMouseleave(i)}});/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function KL(e){return typeof e>"u"||e===null}function _j(e){return typeof e=="object"&&e!==null}function xj(e){return Array.isArray(e)?e:KL(e)?[]:[e]}function wj(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function Cj(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function Tj(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Sj=KL,Ej=_j,Aj=xj,kj=Cj,Ij=Tj,Pj=wj,Gi={isNothing:Sj,isObject:Ej,toArray:Aj,repeat:kj,isNegativeZero:Ij,extend:Pj};function YL(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function _p(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=YL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}_p.prototype=Object.create(Error.prototype);_p.prototype.constructor=_p;_p.prototype.toString=function(t){return this.name+": "+YL(this,t)};var io=_p;function Cx(e,t,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-t>a&&(o=" ... ",t=i-a+o.length),n-i>a&&(s=" ...",n=i+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:i-t+o.length}}function Tx(e,t){return Gi.repeat(" ",t-e.length)+e}function Oj(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,s=-1;o=n.exec(e.buffer);)r.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a="",l,u,f=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(s-l<0);l++)u=Cx(e.buffer,i[s-l],r[s-l],e.position-(i[s]-i[s-l]),d),a=Gi.repeat(" ",t.indent)+Tx((e.line-l+1).toString(),f)+" | "+u.str+`
`+a;for(u=Cx(e.buffer,i[s],r[s],e.position,d),a+=Gi.repeat(" ",t.indent)+Tx((e.line+1).toString(),f)+" | "+u.str+`
`,a+=Gi.repeat("-",t.indent+f+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(s+l>=r.length);l++)u=Cx(e.buffer,i[s+l],r[s+l],e.position-(i[s]-i[s+l]),d),a+=Gi.repeat(" ",t.indent)+Tx((e.line+l+1).toString(),f)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var Lj=Oj,Dj=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Nj=["scalar","sequence","mapping"];function Mj(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function Fj(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(Dj.indexOf(n)===-1)throw new io('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Mj(t.styleAliases||null),Nj.indexOf(this.kind)===-1)throw new io('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var br=Fj;function Ck(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=s)}),n[r]=i}),n}function Rj(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function Sw(e){return this.extend(e)}Sw.prototype.extend=function(t){var n=[],i=[];if(t instanceof br)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new io("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof br))throw new io("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new io("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new io("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof br))throw new io("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Sw.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Ck(r,"implicit"),r.compiledExplicit=Ck(r,"explicit"),r.compiledTypeMap=Rj(r.compiledImplicit,r.compiledExplicit),r};var Bj=Sw,$j=new br("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),qj=new br("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),zj=new br("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Uj=new Bj({explicit:[$j,qj,zj]});function Hj(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Vj(){return null}function Gj(e){return e===null}var Wj=new br("tag:yaml.org,2002:null",{kind:"scalar",resolve:Hj,construct:Vj,predicate:Gj,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function jj(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Kj(e){return e==="true"||e==="True"||e==="TRUE"}function Yj(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Xj=new br("tag:yaml.org,2002:bool",{kind:"scalar",resolve:jj,construct:Kj,predicate:Yj,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Jj(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Qj(e){return 48<=e&&e<=55}function Zj(e){return 48<=e&&e<=57}function e7(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!Jj(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!Qj(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!Zj(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function t7(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function n7(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Gi.isNegativeZero(e)}var i7=new br("tag:yaml.org,2002:int",{kind:"scalar",resolve:e7,construct:t7,predicate:n7,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),r7=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function o7(e){return!(e===null||!r7.test(e)||e[e.length-1]==="_")}function s7(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var a7=/^[-+]?[0-9]+e/;function l7(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gi.isNegativeZero(e))return"-0.0";return n=e.toString(10),a7.test(n)?n.replace("e",".e"):n}function c7(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Gi.isNegativeZero(e))}var u7=new br("tag:yaml.org,2002:float",{kind:"scalar",resolve:o7,construct:s7,predicate:c7,represent:l7,defaultStyle:"lowercase"}),d7=Uj.extend({implicit:[Wj,Xj,i7,u7]}),h7=d7,XL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),JL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function f7(e){return e===null?!1:XL.exec(e)!==null||JL.exec(e)!==null}function p7(e){var t,n,i,r,o,s,a,l=0,u=null,f,d,m;if(t=XL.exec(e),t===null&&(t=JL.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],d=+(t[11]||0),u=(f*60+d)*6e4,t[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,i,r,o,s,a,l)),u&&m.setTime(m.getTime()-u),m}function g7(e){return e.toISOString()}var m7=new br("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:f7,construct:p7,instanceOf:Date,represent:g7});function y7(e){return e==="<<"||e===null}var v7=new br("tag:yaml.org,2002:merge",{kind:"scalar",resolve:y7}),sC=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function b7(e){if(e===null)return!1;var t,n,i=0,r=e.length,o=sC;for(n=0;n<r;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function _7(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=sC,s=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(i.charAt(t));return n=r%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function x7(e){var t="",n=0,i,r,o=e.length,s=sC;for(i=0;i<o;i++)i%3===0&&i&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[i];return r=o%3,r===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):r===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):r===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function w7(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var C7=new br("tag:yaml.org,2002:binary",{kind:"scalar",resolve:b7,construct:_7,predicate:w7,represent:x7}),T7=Object.prototype.hasOwnProperty,S7=Object.prototype.toString;function E7(e){if(e===null)return!0;var t=[],n,i,r,o,s,a=e;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],s=!1,S7.call(r)!=="[object Object]")return!1;for(o in r)if(T7.call(r,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function A7(e){return e!==null?e:[]}var k7=new br("tag:yaml.org,2002:omap",{kind:"sequence",resolve:E7,construct:A7}),I7=Object.prototype.toString;function P7(e){if(e===null)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(i=s[t],I7.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[t]=[r[0],i[r[0]]]}return!0}function O7(e){if(e===null)return[];var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)i=s[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var L7=new br("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:P7,construct:O7}),D7=Object.prototype.hasOwnProperty;function N7(e){if(e===null)return!0;var t,n=e;for(t in n)if(D7.call(n,t)&&n[t]!==null)return!1;return!0}function M7(e){return e!==null?e:{}}var F7=new br("tag:yaml.org,2002:set",{kind:"mapping",resolve:N7,construct:M7}),QL=h7.extend({implicit:[m7,v7],explicit:[C7,k7,L7,F7]}),lc=Object.prototype.hasOwnProperty,Cv=1,ZL=2,eD=3,Tv=4,Sx=1,R7=2,Tk=3,B7=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$7=/[\x85\u2028\u2029]/,q7=/[,\[\]\{\}]/,tD=/^(?:!|!!|![a-z\-]+!)$/i,nD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Sk(e){return Object.prototype.toString.call(e)}function la(e){return e===10||e===13}function vu(e){return e===9||e===32}function ro(e){return e===9||e===32||e===10||e===13}function yd(e){return e===44||e===91||e===93||e===123||e===125}function z7(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function U7(e){return e===120?2:e===117?4:e===85?8:0}function H7(e){return 48<=e&&e<=57?e-48:-1}function Ek(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function V7(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var iD=new Array(256),rD=new Array(256);for(var od=0;od<256;od++)iD[od]=Ek(od)?1:0,rD[od]=Ek(od);function G7(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||QL,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function oD(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Lj(n),new io(t,n)}function Rt(e,t){throw oD(e,t)}function Sv(e,t){e.onWarning&&e.onWarning.call(null,oD(e,t))}var Ak={YAML:function(t,n,i){var r,o,s;t.version!==null&&Rt(t,"duplication of %YAML directive"),i.length!==1&&Rt(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Rt(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),s=parseInt(r[2],10),o!==1&&Rt(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Sv(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,o;i.length!==2&&Rt(t,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],tD.test(r)||Rt(t,"ill-formed tag handle (first argument) of the TAG directive"),lc.call(t.tagMap,r)&&Rt(t,'there is a previously declared suffix for "'+r+'" tag handle'),nD.test(o)||Rt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Rt(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function nc(e,t,n,i){var r,o,s,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,o=a.length;r<o;r+=1)s=a.charCodeAt(r),s===9||32<=s&&s<=1114111||Rt(e,"expected valid JSON character");else B7.test(a)&&Rt(e,"the stream contains non-printable characters");e.result+=a}}function kk(e,t,n,i){var r,o,s,a;for(Gi.isObject(n)||Rt(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],lc.call(t,o)||(t[o]=n[o],i[o]=!0)}function vd(e,t,n,i,r,o,s,a,l){var u,f;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,f=r.length;u<f;u+=1)Array.isArray(r[u])&&Rt(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Sk(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&Sk(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,f=o.length;u<f;u+=1)kk(e,t,o[u],n);else kk(e,t,o,n);else!e.json&&!lc.call(n,r)&&lc.call(t,r)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,Rt(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function aC(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Rt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Mi(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;vu(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(la(r))for(aC(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Sv(e,"deficient indentation"),i}function O0(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||ro(n)))}function lC(e,t){t===1?e.result+=" ":t>1&&(e.result+=Gi.repeat(`
`,t-1))}function W7(e,t,n){var i,r,o,s,a,l,u,f,d=e.kind,m=e.result,b;if(b=e.input.charCodeAt(e.position),ro(b)||yd(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(r=e.input.charCodeAt(e.position+1),ro(r)||n&&yd(r)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;b!==0;){if(b===58){if(r=e.input.charCodeAt(e.position+1),ro(r)||n&&yd(r))break}else if(b===35){if(i=e.input.charCodeAt(e.position-1),ro(i))break}else{if(e.position===e.lineStart&&O0(e)||n&&yd(b))break;if(la(b))if(l=e.line,u=e.lineStart,f=e.lineIndent,Mi(e,!1,-1),e.lineIndent>=t){a=!0,b=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=l,e.lineStart=u,e.lineIndent=f;break}}a&&(nc(e,o,s,!1),lC(e,e.line-l),o=s=e.position,a=!1),vu(b)||(s=e.position+1),b=e.input.charCodeAt(++e.position)}return nc(e,o,s,!1),e.result?!0:(e.kind=d,e.result=m,!1)}function j7(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(nc(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else la(n)?(nc(e,i,r,!0),lC(e,Mi(e,!1,t)),i=r=e.position):e.position===e.lineStart&&O0(e)?Rt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Rt(e,"unexpected end of the stream within a single quoted scalar")}function K7(e,t){var n,i,r,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return nc(e,n,e.position,!0),e.position++,!0;if(a===92){if(nc(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),la(a))Mi(e,!1,t);else if(a<256&&iD[a])e.result+=rD[a],e.position++;else if((s=U7(a))>0){for(r=s,o=0;r>0;r--)a=e.input.charCodeAt(++e.position),(s=z7(a))>=0?o=(o<<4)+s:Rt(e,"expected hexadecimal character");e.result+=V7(o),e.position++}else Rt(e,"unknown escape sequence");n=i=e.position}else la(a)?(nc(e,n,i,!0),lC(e,Mi(e,!1,t)),n=i=e.position):e.position===e.lineStart&&O0(e)?Rt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Rt(e,"unexpected end of the stream within a double quoted scalar")}function Y7(e,t){var n=!0,i,r,o,s=e.tag,a,l=e.anchor,u,f,d,m,b,x=Object.create(null),C,k,T,A;if(A=e.input.charCodeAt(e.position),A===91)f=93,b=!1,a=[];else if(A===123)f=125,b=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),A=e.input.charCodeAt(++e.position);A!==0;){if(Mi(e,!0,t),A=e.input.charCodeAt(e.position),A===f)return e.position++,e.tag=s,e.anchor=l,e.kind=b?"mapping":"sequence",e.result=a,!0;n?A===44&&Rt(e,"expected the node content, but found ','"):Rt(e,"missed comma between flow collection entries"),k=C=T=null,d=m=!1,A===63&&(u=e.input.charCodeAt(e.position+1),ro(u)&&(d=m=!0,e.position++,Mi(e,!0,t))),i=e.line,r=e.lineStart,o=e.position,Fh(e,t,Cv,!1,!0),k=e.tag,C=e.result,Mi(e,!0,t),A=e.input.charCodeAt(e.position),(m||e.line===i)&&A===58&&(d=!0,A=e.input.charCodeAt(++e.position),Mi(e,!0,t),Fh(e,t,Cv,!1,!0),T=e.result),b?vd(e,a,x,k,C,T,i,r,o):d?a.push(vd(e,null,x,k,C,T,i,r,o)):a.push(C),Mi(e,!0,t),A=e.input.charCodeAt(e.position),A===44?(n=!0,A=e.input.charCodeAt(++e.position)):n=!1}Rt(e,"unexpected end of the stream within a flow collection")}function X7(e,t){var n,i,r=Sx,o=!1,s=!1,a=t,l=0,u=!1,f,d;if(d=e.input.charCodeAt(e.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Sx===r?r=d===43?Tk:R7:Rt(e,"repeat of a chomping mode identifier");else if((f=H7(d))>=0)f===0?Rt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Rt(e,"repeat of an indentation width identifier"):(a=t+f-1,s=!0);else break;if(vu(d)){do d=e.input.charCodeAt(++e.position);while(vu(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!la(d)&&d!==0)}for(;d!==0;){for(aC(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),la(d)){l++;continue}if(e.lineIndent<a){r===Tk?e.result+=Gi.repeat(`
`,o?1+l:l):r===Sx&&o&&(e.result+=`
`);break}for(i?vu(d)?(u=!0,e.result+=Gi.repeat(`
`,o?1+l:l)):u?(u=!1,e.result+=Gi.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=Gi.repeat(`
`,l):e.result+=Gi.repeat(`
`,o?1+l:l),o=!0,s=!0,l=0,n=e.position;!la(d)&&d!==0;)d=e.input.charCodeAt(++e.position);nc(e,n,e.position,!1)}return!0}function Ik(e,t){var n,i=e.tag,r=e.anchor,o=[],s,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Rt(e,"tab characters must not be used in indentation")),!(l!==45||(s=e.input.charCodeAt(e.position+1),!ro(s))));){if(a=!0,e.position++,Mi(e,!0,-1)&&e.lineIndent<=t){o.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,Fh(e,t,eD,!1,!0),o.push(e.result),Mi(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)Rt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function J7(e,t,n){var i,r,o,s,a,l,u=e.tag,f=e.anchor,d={},m=Object.create(null),b=null,x=null,C=null,k=!1,T=!1,A;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),A=e.input.charCodeAt(e.position);A!==0;){if(!k&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Rt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,(A===63||A===58)&&ro(i))A===63?(k&&(vd(e,d,m,b,x,null,s,a,l),b=x=C=null),T=!0,k=!0,r=!0):k?(k=!1,r=!0):Rt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,A=i;else{if(s=e.line,a=e.lineStart,l=e.position,!Fh(e,n,ZL,!1,!0))break;if(e.line===o){for(A=e.input.charCodeAt(e.position);vu(A);)A=e.input.charCodeAt(++e.position);if(A===58)A=e.input.charCodeAt(++e.position),ro(A)||Rt(e,"a whitespace character is expected after the key-value separator within a block mapping"),k&&(vd(e,d,m,b,x,null,s,a,l),b=x=C=null),T=!0,k=!1,r=!1,b=e.tag,x=e.result;else if(T)Rt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(T)Rt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(k&&(s=e.line,a=e.lineStart,l=e.position),Fh(e,t,Tv,!0,r)&&(k?x=e.result:C=e.result),k||(vd(e,d,m,b,x,C,s,a,l),b=x=C=null),Mi(e,!0,-1),A=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&A!==0)Rt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return k&&vd(e,d,m,b,x,null,s,a,l),T&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=d),T}function Q7(e){var t,n=!1,i=!1,r,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Rt(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,r="!!",s=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Rt(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!ro(s);)s===33&&(i?Rt(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),tD.test(r)||Rt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),q7.test(o)&&Rt(e,"tag suffix cannot contain flow indicator characters")}o&&!nD.test(o)&&Rt(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Rt(e,"tag name is malformed: "+o)}return n?e.tag=o:lc.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:Rt(e,'undeclared tag handle "'+r+'"'),!0}function Z7(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Rt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ro(n)&&!yd(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Rt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function eK(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ro(i)&&!yd(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Rt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),lc.call(e.anchorMap,n)||Rt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Mi(e,!0,-1),!0}function Fh(e,t,n,i,r){var o,s,a,l=1,u=!1,f=!1,d,m,b,x,C,k;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Tv===n||eD===n,i&&Mi(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Q7(e)||Z7(e);)Mi(e,!0,-1)?(u=!0,a=o,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||r),(l===1||Tv===n)&&(Cv===n||ZL===n?C=t:C=t+1,k=e.position-e.lineStart,l===1?a&&(Ik(e,k)||J7(e,k,C))||Y7(e,C)?f=!0:(s&&X7(e,C)||j7(e,C)||K7(e,C)?f=!0:eK(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Rt(e,"alias node should not have any properties")):W7(e,C,Cv===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&Ik(e,k))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Rt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,m=e.implicitTypes.length;d<m;d+=1)if(x=e.implicitTypes[d],x.resolve(e.result)){e.result=x.construct(e.result),e.tag=x.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(lc.call(e.typeMap[e.kind||"fallback"],e.tag))x=e.typeMap[e.kind||"fallback"][e.tag];else for(x=null,b=e.typeMap.multi[e.kind||"fallback"],d=0,m=b.length;d<m;d+=1)if(e.tag.slice(0,b[d].tag.length)===b[d].tag){x=b[d];break}x||Rt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&x.kind!==e.kind&&Rt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+x.kind+'", not "'+e.kind+'"'),x.resolve(e.result,e.tag)?(e.result=x.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Rt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function tK(e){var t=e.position,n,i,r,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Mi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!ro(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&Rt(e,"directive name must not be less than one character in length");s!==0;){for(;vu(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!la(s));break}if(la(s))break;for(n=e.position;s!==0&&!ro(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}s!==0&&aC(e),lc.call(Ak,i)?Ak[i](e,i,r):Sv(e,'unknown document directive "'+i+'"')}if(Mi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Mi(e,!0,-1)):o&&Rt(e,"directives end mark is expected"),Fh(e,e.lineIndent-1,Tv,!1,!0),Mi(e,!0,-1),e.checkLineBreaks&&$7.test(e.input.slice(t,e.position))&&Sv(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&O0(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Mi(e,!0,-1));return}if(e.position<e.length-1)Rt(e,"end of the stream or a document separator is expected");else return}function sD(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new G7(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,Rt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)tK(n);return n.documents}function nK(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=sD(e,n);if(typeof t!="function")return i;for(var r=0,o=i.length;r<o;r+=1)t(i[r])}function iK(e,t){var n=sD(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new io("expected a single document in the stream, but found more")}}var rK=nK,oK=iK,sK={loadAll:rK,load:oK},aD=Object.prototype.toString,lD=Object.prototype.hasOwnProperty,cC=65279,aK=9,xp=10,lK=13,cK=32,uK=33,dK=34,Ew=35,hK=37,fK=38,pK=39,gK=42,cD=44,mK=45,Ev=58,yK=61,vK=62,bK=63,_K=64,uD=91,dD=93,xK=96,hD=123,wK=124,fD=125,xr={};xr[0]="\\0";xr[7]="\\a";xr[8]="\\b";xr[9]="\\t";xr[10]="\\n";xr[11]="\\v";xr[12]="\\f";xr[13]="\\r";xr[27]="\\e";xr[34]='\\"';xr[92]="\\\\";xr[133]="\\N";xr[160]="\\_";xr[8232]="\\L";xr[8233]="\\P";var CK=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],TK=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function SK(e,t){var n,i,r,o,s,a,l;if(t===null)return{};for(n={},i=Object.keys(t),r=0,o=i.length;r<o;r+=1)s=i[r],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=e.compiledTypeMap.fallback[s],l&&lD.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}function EK(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new io("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Gi.repeat("0",i-t.length)+t}var AK=1,wp=2;function kK(e){this.schema=e.schema||QL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=SK(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?wp:AK,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Pk(e,t){for(var n=Gi.repeat(" ",t),i=0,r=-1,o="",s,a=e.length;i<a;)r=e.indexOf(`
`,i),r===-1?(s=e.slice(i),i=a):(s=e.slice(i,r+1),i=r+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function Aw(e,t){return`
`+Gi.repeat(" ",e.indent*t)}function IK(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function Av(e){return e===cK||e===aK}function Cp(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==cC||65536<=e&&e<=1114111}function Ok(e){return Cp(e)&&e!==cC&&e!==lK&&e!==xp}function Lk(e,t,n){var i=Ok(e),r=i&&!Av(e);return(n?i:i&&e!==cD&&e!==uD&&e!==dD&&e!==hD&&e!==fD)&&e!==Ew&&!(t===Ev&&!r)||Ok(t)&&!Av(t)&&e===Ew||t===Ev&&r}function PK(e){return Cp(e)&&e!==cC&&!Av(e)&&e!==mK&&e!==bK&&e!==Ev&&e!==cD&&e!==uD&&e!==dD&&e!==hD&&e!==fD&&e!==Ew&&e!==fK&&e!==gK&&e!==uK&&e!==wK&&e!==yK&&e!==vK&&e!==pK&&e!==dK&&e!==hK&&e!==_K&&e!==xK}function OK(e){return!Av(e)&&e!==Ev}function Ff(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function pD(e){var t=/^\n* /;return t.test(e)}var gD=1,kw=2,mD=3,yD=4,hd=5;function LK(e,t,n,i,r,o,s,a){var l,u=0,f=null,d=!1,m=!1,b=i!==-1,x=-1,C=PK(Ff(e,0))&&OK(Ff(e,e.length-1));if(t||s)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Ff(e,l),!Cp(u))return hd;C=C&&Lk(u,f,a),f=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=Ff(e,l),u===xp)d=!0,b&&(m=m||l-x-1>i&&e[x+1]!==" ",x=l);else if(!Cp(u))return hd;C=C&&Lk(u,f,a),f=u}m=m||b&&l-x-1>i&&e[x+1]!==" "}return!d&&!m?C&&!s&&!r(e)?gD:o===wp?hd:kw:n>9&&pD(e)?hd:s?o===wp?hd:kw:m?yD:mD}function DK(e,t,n,i,r){e.dump=function(){if(t.length===0)return e.quotingType===wp?'""':"''";if(!e.noCompatMode&&(CK.indexOf(t)!==-1||TK.test(t)))return e.quotingType===wp?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=i||e.flowLevel>-1&&n>=e.flowLevel;function l(u){return IK(e,u)}switch(LK(t,a,e.indent,s,l,e.quotingType,e.forceQuotes&&!i,r)){case gD:return t;case kw:return"'"+t.replace(/'/g,"''")+"'";case mD:return"|"+Dk(t,e.indent)+Nk(Pk(t,o));case yD:return">"+Dk(t,e.indent)+Nk(Pk(NK(t,s),o));case hd:return'"'+MK(t)+'"';default:throw new io("impossible error: invalid scalar style")}}()}function Dk(e,t){var n=pD(e)?String(t):"",i=e[e.length-1]===`
`,r=i&&(e[e.length-2]===`
`||e===`
`),o=r?"+":i?"":"-";return n+o+`
`}function Nk(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function NK(e,t){for(var n=/(\n+)([^\n]*)/g,i=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,n.lastIndex=u,Mk(e.slice(0,u),t)}(),r=e[0]===`
`||e[0]===" ",o,s;s=n.exec(e);){var a=s[1],l=s[2];o=l[0]===" ",i+=a+(!r&&!o&&l!==""?`
`:"")+Mk(l,t),r=o}return i}function Mk(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,r=0,o,s=0,a=0,l="";i=n.exec(e);)a=i.index,a-r>t&&(o=s>r?s:a,l+=`
`+e.slice(r,o),r=o+1),s=a;return l+=`
`,e.length-r>t&&s>r?l+=e.slice(r,s)+`
`+e.slice(s+1):l+=e.slice(r),l.slice(1)}function MK(e){for(var t="",n=0,i,r=0;r<e.length;n>=65536?r+=2:r++)n=Ff(e,r),i=xr[n],!i&&Cp(n)?(t+=e[r],n>=65536&&(t+=e[r+1])):t+=i||EK(n);return t}function FK(e,t,n){var i="",r=e.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],e.replacer&&(a=e.replacer.call(n,String(o),a)),(il(e,t,a,!1,!1)||typeof a>"u"&&il(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function Fk(e,t,n,i){var r="",o=e.tag,s,a,l;for(s=0,a=n.length;s<a;s+=1)l=n[s],e.replacer&&(l=e.replacer.call(n,String(s),l)),(il(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&il(e,t+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=Aw(e,t)),e.dump&&xp===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=o,e.dump=r||"[]"}function RK(e,t,n){var i="",r=e.tag,o=Object.keys(n),s,a,l,u,f;for(s=0,a=o.length;s<a;s+=1)f="",i!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=o[s],u=n[l],e.replacer&&(u=e.replacer.call(n,l,u)),il(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),il(e,t,u,!1,!1)&&(f+=e.dump,i+=f));e.tag=r,e.dump="{"+i+"}"}function BK(e,t,n,i){var r="",o=e.tag,s=Object.keys(n),a,l,u,f,d,m;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new io("sortKeys must be a boolean or a function");for(a=0,l=s.length;a<l;a+=1)m="",(!i||r!=="")&&(m+=Aw(e,t)),u=s[a],f=n[u],e.replacer&&(f=e.replacer.call(n,u,f)),il(e,t+1,u,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&xp===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,d&&(m+=Aw(e,t)),il(e,t+1,f,!0,d)&&(e.dump&&xp===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,r+=m));e.tag=o,e.dump=r||"{}"}function Rk(e,t,n){var i,r,o,s,a,l;for(r=n?e.explicitTypes:e.implicitTypes,o=0,s=r.length;o<s;o+=1)if(a=r[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,aD.call(a.represent)==="[object Function]")i=a.represent(t,l);else if(lD.call(a.represent,l))i=a.represent[l](t,l);else throw new io("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function il(e,t,n,i,r,o,s){e.tag=null,e.dump=n,Rk(e,n,!1)||Rk(e,n,!0);var a=aD.call(e.dump),l=i,u;i&&(i=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",d,m;if(f&&(d=e.duplicates.indexOf(n),m=d!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(r=!1),m&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(f&&m&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(BK(e,t,e.dump,r),m&&(e.dump="&ref_"+d+e.dump)):(RK(e,t,e.dump),m&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Fk(e,t-1,e.dump,r):Fk(e,t,e.dump,r),m&&(e.dump="&ref_"+d+e.dump)):(FK(e,t,e.dump),m&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&DK(e,e.dump,t,o,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new io("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function $K(e,t){var n=[],i=[],r,o;for(Iw(e,n,i),r=0,o=i.length;r<o;r+=1)t.duplicates.push(n[i[r]]);t.usedDuplicates=new Array(o)}function Iw(e,t,n){var i,r,o;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)Iw(e[r],t,n);else for(i=Object.keys(e),r=0,o=i.length;r<o;r+=1)Iw(e[i[r]],t,n)}function qK(e,t){t=t||{};var n=new kK(t);n.noRefs||$K(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),il(n,0,i,!0,!0)?n.dump+`
`:""}var zK=qK,UK={dump:zK},HK=sK.load,VK=UK.dump;let wy;const GK=new Uint8Array(16);function WK(){if(!wy&&(wy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wy(GK)}const tr=[];for(let e=0;e<256;++e)tr.push((e+256).toString(16).slice(1));function jK(e,t=0){return tr[e[t+0]]+tr[e[t+1]]+tr[e[t+2]]+tr[e[t+3]]+"-"+tr[e[t+4]]+tr[e[t+5]]+"-"+tr[e[t+6]]+tr[e[t+7]]+"-"+tr[e[t+8]]+tr[e[t+9]]+"-"+tr[e[t+10]]+tr[e[t+11]]+tr[e[t+12]]+tr[e[t+13]]+tr[e[t+14]]+tr[e[t+15]]}const KK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bk={randomUUID:KK};function Uo(e,t,n){if(Bk.randomUUID&&!t&&!e)return Bk.randomUUID();e=e||{};const i=e.random||(e.rng||WK)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=i[r];return t}return jK(i)}const _e=Object.freeze({COMPONENT:"component",SERVICE:"service",BACKING_SERVICE:"backing-service",STORAGE_BACKING_SERVICE:"storage-backing-service",ENDPOINT:"endpoint",EXTERNAL_ENDPOINT:"external-endpoint",LINK:"link",INFRASTRUCTURE:"infrastructure",DEPLOYMENT_MAPPING:"deployment-mapping",REQUEST_TRACE:"request-trace",DATA_AGGREGATE:"data-aggregate",BACKING_DATA:"backing-data"}),$r={tosca_definitions_version:"tosca_2_0",profile:"org.dsg.cna-modeling:0.2",metadata:{template_name:"profile.yaml",template_author:"Distributed Systems Group",template_version:.3},description:"This TOSCA definitions document contains the CNA Modeling TOSCA profile",dsl_definitions:"",repositories:{},artifact_types:{"Kubernetes.Resource":{description:`A Kubernetes resource (like Deployment, Service, etc) which is described in a file
`,derived_from:"Root",file_ext:["yaml","yml"]},"Implementation.Java":{description:`Artifact type for a Java archive which might be executable
`,derived_from:"Implementation",file_ext:["jar"]},"Terraform.Script":{description:"A configuration file which can be used by Terraform to set up components or infrastructure.",derived_from:"Root",file_ext:["tf","tf.json"]},"CloudFormation.Script":{description:"A configuration file which can be used by AWS tools to set up components or infrastructure.",derived_from:"Root",file_ext:["yaml","yml","json"]},"AWS.Resource":{description:"An abstract type for resources created in the AWS cloud.",derived_from:"Root"},"AWS.EKS.Cluster":{description:"An AWS EKS Cluster",derived_from:"AWS.Resource"},"AWS.EC2.Instance":{description:"An abstract type for resources created in the AWS cloud.",derived_from:"AWS.Resource"},"AWS.Beanstalk.Application":{description:"An abstract type for resources created in the AWS cloud.",derived_from:"AWS.Resource"},"AWS.RDS.Instance":{description:"An abstract type for resources created in the AWS cloud.",derived_from:"AWS.Resource"}},data_types:{},capability_types:{"cna-modeling.capabilities.Proxy":{description:"When included, the Node is able to act as a proxy. This covers all communication to the endpoints of the proxied component.",derived_from:"Node"}},interface_types:{},relationship_types:{"cna-modeling.entities.ConnectsTo.Link":{description:"Relationship Type to model Link entities",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"ConnectsTo",properties:{credential:{description:"The security credential to present to the target endpoint for either authentication or authorization purposes.",type:"Credential",required:!1},relation_type:{type:"string",required:!0,description:"Type of relation, e.g. subscribes to or calls"},timeout:{type:"integer",description:"If a timeout is applied for this link, specify it's length here. If no timeout is applied, use 0.",default:0,required:!0},retries:{type:"integer",description:"Number of times this invocation is retried, if it fails.",default:0,required:!0},circuit_breaker:{type:"string",description:"Whether or not this invocation is protected by a circuit breaker",default:"none"}},valid_target_node_types:["Endpoint","cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"],valid_capability_types:["Endpoint","Endpoint.Public"]},"cna-modeling.entities.HostedOn.DeploymentMapping":{description:"Relationship Type to model DeploymentMapping entities",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"HostedOn",valid_target_node_types:["Container","cna-modeling.entities.Infrastructure"],properties:{deployment:{type:"string",required:!0,description:"How this deployment mapping is described or ensured. Valid values can be manual, automated imperative, or automated declarative",validation:{$valid_values:["$value",["manual","automated-imperative","automated-declarative","transparent"]]},default:"manual"},deployment_unit:{type:"string",required:!0,description:"When this deployment mapping can be described as a specific unit of deployment (e.g. a Kubernetes Pod), state it here. Otherwise it is custom.",default:"custom"},replicas:{type:"integer",description:"The minimum number of replicated instances for the deployed component when it is running",required:!0,default:1},update_strategy:{type:"string",required:!0,description:'How the deployed entity is updated in case a new version is deployed. It can simply be replaced by an instance of the new version, or specific strategies like "rolling upgrade" or "blue-green" can be used.',validation:{$valid_values:["$value",["in-place","replace","rolling","blue-green"]]},default:"in-place"},automated_restart_policy:{type:"string",required:!0,description:"If the deployed entity is automatically restarted in case of failure.",validation:{$valid_values:["$value",["never","onReboot","onProcessFailure","onHealthFailure"]]},default:"never"},assigned_account:{type:"string",required:!0,description:"The name of the account under which this component is deployed (e.g. a service account from a cloud provider)",default:"default-account"},resource_requirements:{type:"string",required:!0,description:"Explicitly stated resource requirements for this deployment. If stated the infrastructure can schedule an entity accordingly.",default:"unstated"}},valid_capability_types:["Compute"]},"cna-modeling.relationships.Provides.Endpoint":{description:"Relationship Type to connect Endpoints to the Components which provide them",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",valid_capability_types:["Endpoint","Endpoint.Public"],valid_target_node_types:["cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"]},"cna-modeling.relationships.AttachesTo.DataAggregate":{description:"The AttachesTo type represents an attachment relationship between two nodes (e.g. for attaching a storage node to a Compute node).",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"AttachesTo",properties:{location:{description:"The relative location (e.g., mount point on the file system) that provides the root location to address the attached node.",type:"string",required:!1},device:{description:"The logical device name for the attached device.",type:"string",required:!1},usage_relation:{type:"string",required:!0,description:"Describes how a component uses attached data, that means whether it just uses (reads) it for its functionality or if it also updates and persists (writes) it; possible values are usage, cached usage, and persistence",validation:{$valid_values:["$value",["usage","cached-usage","persistence"]]},default:"usage"},sharding_level:{type:"integer",required:!0,default:0,description:"Only applicable if data is persisted by a component; If a component persists data, the sharding level describes the number of shards used; 0 acts as a placeholder if data is not persisted; 1 is the default meaning that no sharding is used; >1 is the number of shards"}},valid_target_node_types:["Attachment"]},"cna-modeling.relationships.AttachesTo.BackingData":{description:"The AttachesTo type represents an attachment relationship between two nodes (e.g. for attaching a storage node to a Compute node).",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"AttachesTo",properties:{location:{description:"The relative location (e.g., mount point on the file system) that provides the root location to address the attached node.",type:"string",required:!1},device:{description:"The logical device name for the attached device.",type:"string",required:!1},usage_relation:{type:"string",required:!0,description:"Describes how a component uses attached data, that means whether it just uses (reads) it for its functionality or if it also updates and persists (writes) it; possible values are usage, cached usage, and persistence",validation:{$valid_values:["$value",["usage","cached-usage","persistence"]]},default:"usage"}},valid_target_node_types:["Attachment","cna-modeling.entities.BackingData"],valid_capability_types:["Attachment"]},"cna-modeling.relationships.ProxiedBy.BackingService":{description:"Relationship Type to connect Components to Backing Services which act as a proxy for them",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",valid_target_node_types:["cna.qualityModel.entities.BackingService"]}},node_types:{"cna-modeling.entities.Component":{description:"Node Type to model Component entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"Endpoint.Public",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"Attachment",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.BackingService",relationship:"cna-modeling.relationships.ProxiedBy.BackingService",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"SoftwareComponent",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1},managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},assigned_networks:{type:"list",description:"A list of networks to which this component is assigned to.",entry_schema:{description:"Either a network id or subnet mask",type:"string"}}}},"cna-modeling.entities.Service":{description:"Node Type to model Service entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"Endpoint.Public",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"Attachment",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.BackingService",relationship:"cna-modeling.relationships.ProxiedBy.BackingService",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"cna-modeling.entities.Component",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1},managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},assigned_networks:{type:"list",description:"A list of networks to which this component is assigned to.",entry_schema:{description:"Either a network id or subnet mask",type:"string"}}}},"cna-modeling.entities.BackingService":{description:"Node Type to model Backing Service entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},proxy:{type:"cna-modeling.capabilities.Proxy",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService"]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"Endpoint.Public",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"Attachment",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.BackingService",relationship:"cna-modeling.relationships.ProxiedBy.BackingService",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"cna-modeling.entities.Component",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1},managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},assigned_networks:{type:"list",description:"A list of networks to which this component is assigned to.",entry_schema:{description:"Either a network id or subnet mask",type:"string"}},providedFunctionality:{type:"string",description:"A short description of the provided functionality.",required:!1}}},"cna-modeling.entities.StorageBackingService":{description:"Node Type to model Storage Backing Service entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"Endpoint.Public",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"Attachment",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.BackingService",relationship:"cna-modeling.relationships.ProxiedBy.BackingService",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"cna-modeling.entities.Component",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1},managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"Storage Backing Service are per default stateful (not stateless)",default:!1,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},assigned_networks:{type:"list",description:"A list of networks to which this component is assigned to.",entry_schema:{description:"Either a network id or subnet mask",type:"string"}},name:{type:"string",description:"the logical name of the database",required:!0},shards:{type:"integer",description:"The number of shards this storage service is configured with, the default of 1 means no sharding is used.",required:!0,default:1}}},"cna-modeling.entities.Infrastructure":{description:"Node Type to model Infrastructure entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},host:{type:"Compute",valid_source_node_types:[]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"Attachment",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Abstract.Compute",properties:{kind:{type:"string",description:'The kind of infrastructure. Possible kinds are "physical hardware", "virtual hardware", "software platform", or "cloud service".',required:!0,validation:{$valid_values:["$value",["physical-hardware","virtual-hardware","software-platform","cloud-service"]]},default:"virtual-hardware"},environment_access:{type:"string",description:"Describes the extend of available access to the environment in which the infrastructure is operated. With full access, one can control all aspects of the infrastructure. Limited access means that infrastructure is under control of a provider and only certain things are allowed, such as configuration. With no access infrastructure is completely managed by a cloud provider.",validation:{$valid_values:["$value",["full","limited","none"]]},default:"full"},maintenance:{type:"string",description:"How infrastructure is maintained, that means for example how updates are installed or how certificates are regenerated.",validation:{$valid_values:["$value",["manual","automated","transparent"]]},default:"manual"},provisioning:{type:"string",description:"How infrastructure is initially provisioned. This can be done manually (for example through the web interface of a cloud provider), automatically coded (for example through an IaC tool), automatically inferred, if it is inferred based on deployed components, or transparent, if it is not explicitly provisioned by a consumer, but done on-demand by a provider.",validation:{$valid_values:["$value",["manual","automated-coded","automated-inferred","transparent"]]},default:"manual"},supported_artifacts:{type:"list",description:"Which kind of artifacts can be deployed on this infrastructure, e.g. VM images, container images, jar archives, native executables, ...",entry_schema:{description:"An artifact type that this infrastructure supports.",type:"string"}},availability_zone:{type:"string",required:!0,description:"The name of the availability zone in which this infrastructure is provided. If it is running in multiple availability zones, provide their names as a comma-separated list.",default:"default-zone"},region:{type:"string",required:!0,description:"The name of the region in which this infrastructure is provided.",default:"default-region"},supported_update_strategies:{type:"list",description:"Which update strategies are supported for entities deployed on this infrastructure",entry_schema:{description:"An update strategy supported by this infrastructure",type:"string"}},deployed_entities_scaling:{type:"string",required:!0,description:"Whether and how entities deployed on this infrastructure can be scaled horizontally",validation:{$valid_values:["$value",["none","manual","automated-built-in","automated-separate"]]},default:"none"},self_scaling:{type:"string",required:!0,description:"Whether and how this entity scales itself, either horizontally or vertically.",validation:{$valid_values:["$value",["none","manual","automated-built-in","automated-separate"]]},default:"none"},enforced_resource_bounds:{type:"boolean",required:!0,description:"Set to true if the infrastructure enforces resource bounds on deployed components, for example regarding cpu shares or memory size. Deployed entities can then only use resources up to a certain bound. Otherwise entities can use resources as available.",default:!1},assigned_networks:{type:"list",description:"A list of networks to which this infrastructure is assigned to.",entry_schema:{description:"Either a network id or subnet mask",type:"string"}}}},"cna-modeling.entities.Endpoint":{description:"Endpoint type to explicitly model endpoints as entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},endpoint:{type:"Endpoint"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{kind:{type:"string",required:!0,description:'The kind of endpoint which can be either "query", "command", or "event". A "query" is a synchronous request for data which the client needs for further processing. A "command" is a synchronous send of data for which the client needs a corresponding answer for further processing. An "event" is an asynchronous send of data for which the client does not expect data to be returned for further processing.',validation:{$valid_values:["$value",["query","command","event"]]},default:"query"},method_name:{type:"string",required:!1,description:"An optional name of the method/action used. For REST APIs it can for example be specified whether it is a GET or POST method. For message brokers it can be specified whether it is a publish or subscribe action."},rate_limiting:{type:"string",required:!0,description:'If for this endpoint rate limiting is enforced, the limit can be stated here, otherwise it is "none".',default:"none"},idempotent:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is idempotent, meaning that the effect of a successful invocation is independent of the number of times it is invoked.",default:!1},readiness_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a readiness check",default:!1},health_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a health check",default:!1}}},"cna-modeling.entities.Endpoint.External":{description:"Endpoint type to explicitly model external endpoints as entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},endpoint:{type:"Endpoint"},external_endpoint:{type:"Endpoint.Public"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"Attachment",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"cna-modeling.entities.Endpoint",properties:{kind:{type:"string",required:!0,description:'The kind of endpoint which can be either "query", "command", or "event". A "query" is a synchronous request for data which the client needs for further processing. A "command" is a synchronous send of data for which the client needs a corresponding answer for further processing. An "event" is an asynchronous send of data for which the client does not expect data to be returned for further processing.',validation:{$valid_values:["$value",["query","command","event"]]},default:"query"},method_name:{type:"string",required:!1,description:"An optional name of the method/action used. For REST APIs it can for example be specified whether it is a GET or POST method. For message brokers it can be specified whether it is a publish or subscribe action."},rate_limiting:{type:"string",required:!0,description:'If for this endpoint rate limiting is enforced, the limit can be stated here, otherwise it is "none".',default:"none"},idempotent:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is idempotent, meaning that the effect of a successful invocation is independent of the number of times it is invoked.",default:!1},readiness_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a readiness check",default:!1},health_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a health check",default:!1}}},"cna-modeling.entities.BackingData":{description:"Node Type to model Backing Data entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},provides_data:{type:"Attachment",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.Infrastructure"]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{included_data:{type:"map",required:!0,key_schema:{type:"string",description:"The name specifying the individual Backing Data element"},entry_schema:{type:"string",description:"The value of the individual Backing Data element"}}}},"cna-modeling.entities.DataAggregate":{description:"Node Type to model Data Aggregate entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},provides_data:{type:"Attachment",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService"]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root"},"cna-modeling.entities.RequestTrace":{description:"Node Type to model Request Trace entities",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{external_endpoint:{capability:"Endpoint.Public",relationship:"ConnectsTo",count_range:[1,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{referred_endpoint:{type:"string",required:!0},nodes:{type:"list",required:!1,entry_schema:{description:"An existing Component, Service, Backing Service or Storage Backing Service entity which is part of this Request Trace entity",type:"string"}},involved_links:{type:"list",required:!0,entry_schema:{description:"An existing Link entity which is part of this Request Trace entity",type:"string"}}}}},group_types:{},policy_types:{}};var Mp,Dd,Nd,Md,Fp,Rp,Bp;class Mu{constructor(t,n,i,r,o,s,a,l){Ce(this,Mp,void 0);Ce(this,Dd,void 0);Ce(this,Nd,void 0);Ce(this,Md,void 0);Ce(this,Fp,void 0);Ce(this,Rp,void 0);Ce(this,Bp,void 0);Hi(this,"value");De(this,Mp,t),De(this,Dd,n),De(this,Nd,i),De(this,Md,r),De(this,Fp,o),De(this,Rp,s),De(this,Bp,a),this.value=l}get getKey(){return O(this,Mp)}get getName(){return O(this,Dd)}set setName(t){De(this,Dd,t)}get getDescription(){return O(this,Nd)}set setDescription(t){De(this,Nd,t)}get getExample(){return O(this,Md)}set setExample(t){De(this,Md,t)}get getRequired(){return O(this,Fp)}get getDataType(){return O(this,Rp)}get getDefaultValue(){return O(this,Bp)}}Mp=new WeakMap,Dd=new WeakMap,Nd=new WeakMap,Md=new WeakMap,Fp=new WeakMap,Rp=new WeakMap,Bp=new WeakMap;var Fd,Rd;class $k extends Mu{constructor(n,i,r,o,s,a,l,u,f){super(n,i,r,o,s,"text",u,f);Ce(this,Fd,void 0);Ce(this,Rd,void 0);De(this,Fd,a),De(this,Rd,l)}get getMaxLength(){return O(this,Fd)}set setMaxLength(n){De(this,Fd,n)}get getOptions(){return O(this,Rd)}set setOptions(n){De(this,Rd,n)}}Fd=new WeakMap,Rd=new WeakMap;var Bd;class YK extends Mu{constructor(n,i,r,o,s,a,l,u){super(n,i,r,o,s,"select",l,u);Ce(this,Bd,void 0);De(this,Bd,a)}get getOptions(){return O(this,Bd)}set setOptions(n){De(this,Bd,n)}}Bd=new WeakMap;var $p,qp;class qk extends Mu{constructor(n,i,r,o,s,a,l,u,f){super(n,i,r,o,s,"number",u,f);Ce(this,$p,void 0);Ce(this,qp,void 0);De(this,$p,a),De(this,qp,l)}get getMaximum(){return O(this,$p)}get getMinimum(){return O(this,qp)}}$p=new WeakMap,qp=new WeakMap;class zk extends Mu{constructor(t,n,i,r,o,s,a){super(t,n,i,r,o,"boolean",s,a)}}class XK extends Mu{constructor(t,n,i,r,o,s,a){super(t,n,i,r,o,"bounded",s,a)}}class JK extends Mu{constructor(t,n,i,r,o,s,a){super(t,n,i,r,o,"list",s,a)}}var zp,Up,Hp,Vp;class QK extends Mu{constructor(n,i,r,o,s,a,l,u,f,d,m){super(n,i,r,o,s,"map",a,l);Ce(this,zp,void 0);Ce(this,Up,void 0);Ce(this,Hp,void 0);Ce(this,Vp,void 0);De(this,zp,u),De(this,Up,f),De(this,Hp,d),De(this,Vp,m)}get getKeyType(){return O(this,zp)}get getKeyDescription(){return O(this,Up)}get getValueType(){return O(this,Hp)}get getValueDescription(){return O(this,Vp)}}zp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Vp=new WeakMap;function Ws(e){return e.replace(/^[-_]*(.)/,(t,n)=>n.toUpperCase()).replace(/[-_]+(.)/g,(t,n)=>" "+n.toUpperCase())}function Ri(e){let t=[];if(!e)return t;for(const[n,i]of Object.entries(e))if(typeof i=="string")t.push(new $k(n,Ws(n),"","",!0,i.length,[],i,i));else if(typeof i=="number")t.push(new qk(n,Ws(n),"","",!0,i,i,i,i));else if(typeof i=="boolean")t.push(new zk(n,Ws(n),"","",!0,i,i));else switch(i.type){case"string":case"timestamp":case"version":case"scalar-unit":default:if(i.validation&&i.validation.$valid_values){let r=i.validation.$valid_values[1].map(o=>({value:o,text:o}));t.push(new YK(n,Ws(n),i.description?i.description:"","",i.required,r,i.default!==void 0?i.default:"",i.default!==void 0?i.default:""))}else t.push(new $k(n,Ws(n),i.description?i.description:"","",i.required,255,[],i.default!==void 0?i.default:"",i.default!==void 0?i.default:""));break;case"integer":case"float":t.push(new qk(n,Ws(n),i.description?i.description:"","",i.required,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,i.default!==void 0?i.default:"",i.default!==void 0?i.default:""));break;case"boolean":t.push(new zk(n,Ws(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:!1,i.default!==void 0?i.default:!1));break;case"range":t.push(new XK(n,Ws(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i.default!==void 0?i.default:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]));break;case"list":t.push(new JK(n,Ws(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:[],i.default!==void 0?i.default:[]));break;case"map":t.push(new QK(n,Ws(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:{},i.default!==void 0?i.default:{},i.key_schema?i.key_schema.type:"string",i.key_schema?i.key_schema.description:"",i.entry_schema?i.entry_schema.type:"string",i.entry_schema?i.entry_schema.description:""));break}return t}const kv="cna-modeling.entities.BackingData",ZK=$r.node_types[kv];function uC(){return Ri(ZK.properties)}var $d,Gp,qd,dP;let dC=(dP=class{constructor(t,n,i){Ce(this,$d,void 0);Hi(this,"name");Ce(this,Gp,void 0);Ce(this,qd,new Array);De(this,$d,t),this.name=n,De(this,Gp,i),De(this,qd,uC())}get getId(){return O(this,$d)}set setId(t){De(this,$d,t)}get getName(){return this.name}get getMetaData(){return O(this,Gp)}getProperties(){return O(this,qd)}setPropertyValue(t,n){let i=O(this,qd).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"BackingData "+JSON.stringify(this)}},$d=new WeakMap,Gp=new WeakMap,qd=new WeakMap,dP);const hC={tosca_definitions_version:"tosca_2_0",profile:"org.oasis-open.simple:2.0",metadata:{template_name:"profile.yaml",template_author:"Oasis Open",template_version:2},description:"TOSCA Simple Profile type definitions",dsl_definitions:"",repositories:{},artifact_types:{Root:{description:`The TOSCA base artifact type from which all other normative TOSCA artifact types derive.
`},File:{description:"The File artifact type is used when an artifact definition needs to have its associated file simply treated as a file without any special handling.",derived_from:"Root"},Deployment:{description:"The Deployment artifact type represents a binary packaging of an application or service that is used to install/create or deploy it as part of a node’s lifecycle.",derived_from:"Root"},"Deployment.Image":{description:"The Deployment.Image artifact type represents any “image” that is an opaque packaging of a TOSCA Node whose contents are already installed and pre-configured (i.e., “stateful”) and prepared to be run on a known target container.",derived_from:"Deployment"},"Deployment.Image.VM":{description:"The VM artifact type represents all Virtual Machine (VM) image and container formatted deployment artifacts.",derived_from:"Deployment.Image"},Implementation:{description:"The Implementation artifact type represents artifacts that are used to implement operations of TOSCA interfaces either directly (e.g., scripts) or indirectly (e.g., config. files).",derived_from:"Root"},"Implementation.Bash":{description:`Script artifact for the Unix Bash shell.
`,derived_from:"Implementation",mime_type:"application/x-sh",file_ext:["sh"]},"Implementation.Python":{description:`Artifact for the interpreted Python language.
`,derived_from:"Implementation",mime_type:"application/x-python",file_ext:["py"]}},data_types:{json:{description:"The json type defines strings that contain data in the JavaScript Object Notation (JSON) format.",derived_from:"string"},xml:{description:"The xml type defines strings that contain data in the Extensible Markup Language (XML) format.",derived_from:"string"},Credential:{description:"The Credential type describes authorization credentials used to access network-accessible resources.",properties:{protocol:{description:"The optional protocol name.",type:"string",required:!1},token_type:{description:"The required token type.",type:"string",default:"password"},token:{description:"The required token used as a credential for authorization or access to a networked resource.",type:"string"},keys:{description:"The optional list of protocol-specific keys or assertions.",type:"map",required:!1,entry_schema:{type:"string"}},user:{description:"The optional user (name or ID) used for non-token-based credentials.",type:"string",required:!1}}},TimeInterval:{properties:{start_time:{type:"timestamp",required:!0},end_time:{type:"timestamp",required:!0}}},NetworkInfo:{description:"The Network type describes logical network information.",properties:{network_name:{description:"The name of the logical network (e.g., “public”, “private”, “admin”. etc.).",type:"string"},network_id:{description:"The unique ID of the network generated by the network provider.",type:"string"},addresses:{description:"The list of IP addresses assigned from the underlying network.",type:"list",entry_schema:{type:"string"}}}},PortInfo:{description:"The PortInfo type describes network port information.",properties:{port_name:{description:"The logical network port name.",type:"string"},port_id:{description:"The unique ID for the network port generated by the network provider.",type:"string"},network_id:{description:"The unique ID for the network.",type:"string"},mac_address:{description:"The unique media access control (MAC) address assigned to the port.",type:"string"},addresses:{description:"The list of IP addresses assigned to the port.",type:"list",entry_schema:{type:"string"}}}},PortDef:{description:"The PortDef type defines a network port.",derived_from:"integer"},PortSpec:{description:"The PortSpec type is used when describing port specifications for a network connection.",properties:{protocol:{description:"The required protocol used on the port.",type:"string",required:!0,default:"tcp"},target:{description:"The optional target port.",type:"PortDef",required:!1},target_range:{description:"The optional range for target port.",type:"range",required:!1},source:{description:"The optional source port.",type:"PortDef",required:!1},source_range:{description:"The optional range for source port.",type:"range",required:!1}}}},capability_types:{Node:{description:"The Node capability indicates the base capabilities of a TOSCA Node Type."},Container:{description:"The Container capability, when included on a Node Type or Template definition, indicates that the node can act as a container for (or a host for) one or more other declared Node Types."},Compute:{description:"The Compute capability, when included on a Node Type or Template definition, indicates that the node can provide hosting on a named compute resource.",derived_from:"Container",properties:{num_cpus:{description:"Number of (actual or virtual) CPUs associated with the Compute node.",type:"integer",required:!1},cpu_frequency:{description:"Specifies the operating frequency of CPU's core.  This property expresses the expected frequency of one (1) CPU as provided by the property “num_cpus”.",type:"scalar-unit.frequency",required:!1},disk_size:{description:"Size of the local disk available to applications running on the Compute node.",type:"scalar-unit.size",required:!1},mem_size:{description:"Size of memory available to applications running on the Compute node.",type:"scalar-unit.size",required:!1}}},Endpoint:{description:"The Endpoint capability is the default TOSCA type for defining a network endpoint capability.",attributes:{ip_address:{description:"The Endpoint's IP address as propagated up by the associated node’s host (Compute) container.",type:"string"}},properties:{protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"PortDef",required:!1},secure:{description:"If set, the endpoint accepts only secure connections (using credentials supplied on the ConnectsTo relationship).",type:"boolean",required:!1,default:!1},url_path:{description:"The optional URL path of the endpoint’s address if applicable for the protocol.",type:"string",required:!1},port_name:{description:"The optional name (or ID) of the network port to which this endpoint should be bound.",type:"string",required:!1},network_name:{description:"The optional name (or ID) of the network to which this endpoint should be bound.",type:"string",required:!1,default:"PRIVATE"},initiator:{description:"The optional indicator of the direction of the connection.",type:"string",default:"source"},ports:{description:"The optional map of ports the Endpoint supports (if more than one).",type:"map",required:!1,entry_schema:{type:"PortSpec"}}}},"Endpoint.Public":{description:"The Endpoint.Public capability represents a public endpoint that is accessible from the general internet (and its public IP address ranges).",attributes:{ip_address:{description:"The Endpoint's IP address as propagated up by the associated node’s host (Compute) container.",type:"string"}},properties:{protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"PortDef",required:!1},secure:{description:"If set, the endpoint accepts only secure connections (using credentials supplied on the ConnectsTo relationship).",type:"boolean",required:!1,default:!1},url_path:{description:"The optional URL path of the endpoint’s address if applicable for the protocol.",type:"string",required:!1},port_name:{description:"The optional name (or ID) of the network port to which this endpoint should be bound.",type:"string",required:!1},network_name:"PUBLIC",initiator:{description:"The optional indicator of the direction of the connection.",type:"string",default:"source"},ports:{description:"The optional map of ports the Endpoint supports (if more than one).",type:"map",required:!1,entry_schema:{type:"PortSpec"}},floating:{description:`Indicates that the public address should be allocated from the pool of floating IPs that are associated with the PUBLIC network.
`,type:"boolean",default:!1,status:"experimental"},dns_name:{description:"The optional name to register with DNS.",type:"string",required:!1,status:"experimental"}},derived_from:"Endpoint"},"Endpoint.Admin":{description:"The Endpoint.Admin capability is the default TOSCA type for defining a specialized administrator endpoint capability.",attributes:{ip_address:{description:"The Endpoint's IP address as propagated up by the associated node’s host (Compute) container.",type:"string"}},properties:{protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"PortDef",required:!1},secure:!0,url_path:{description:"The optional URL path of the endpoint’s address if applicable for the protocol.",type:"string",required:!1},port_name:{description:"The optional name (or ID) of the network port to which this endpoint should be bound.",type:"string",required:!1},network_name:{description:"The optional name (or ID) of the network to which this endpoint should be bound.",type:"string",required:!1,default:"PRIVATE"},initiator:{description:"The optional indicator of the direction of the connection.",type:"string",default:"source"},ports:{description:"The optional map of ports the Endpoint supports (if more than one).",type:"map",required:!1,entry_schema:{type:"PortSpec"}}},derived_from:"Endpoint"},"Endpoint.Database":{description:"The Endpoint.Admin capability is the default TOSCA type for defining a specialized database endpoint capability.",attributes:{ip_address:{description:"The Endpoint's IP address as propagated up by the associated node’s host (Compute) container.",type:"string"}},properties:{protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"PortDef",required:!1},secure:{description:"If set, the endpoint accepts only secure connections (using credentials supplied on the ConnectsTo relationship).",type:"boolean",required:!1,default:!1},url_path:{description:"The optional URL path of the endpoint’s address if applicable for the protocol.",type:"string",required:!1},port_name:{description:"The optional name (or ID) of the network port to which this endpoint should be bound.",type:"string",required:!1},network_name:{description:"The optional name (or ID) of the network to which this endpoint should be bound.",type:"string",required:!1,default:"PRIVATE"},initiator:{description:"The optional indicator of the direction of the connection.",type:"string",default:"source"},ports:{description:"The optional map of ports the Endpoint supports (if more than one).",type:"map",required:!1,entry_schema:{type:"PortSpec"}}},derived_from:"Endpoint"},Attachment:{description:"The Attachment capability is the default TOSCA type for defining an attachment capability of a (logical) infrastructure device node (e.g., BlockStorage node)."},OperatingSystem:{description:"The OperatingSystem capability is the default TOSCA type for expressing an Operating System capability for a node.",properties:{architecture:{description:"The Operating System (OS) architecture. Examples of valid values include: x86_32, x86_64, etc.",type:"string",required:!1},type:{description:"The Operating System (OS) type. Examples of valid values include: linux, aix, mac, windows, etc.",type:"string",required:!1},distribution:{description:"The Operating System (OS) distribution. Examples of valid values for an “type” of “Linux” would include: debian, fedora, rhel and ubuntu.",type:"string",required:!1},version:{description:"The Operating System version.",type:"version",required:!1}}},Scalable:{description:"The OperatingSystem capability is the default TOSCA type for expressing a scalability capability for a node.",properties:{min_instances:{description:"The minimum number of instances that should be created for the associated TOSCA Node Template by a TOSCA orchestrator.",type:"integer",default:1},max_instances:{description:"The maximum number of instances that should be created for the associated TOSCA Node Template by a TOSCA orchestrator.",type:"integer",default:1},default_instances:{description:"The default number of instances a TOSCA orchestrator should attempt to allocate.",type:"integer",required:!1}}},Network:{description:"The Network capability, when included on a Node Type or Template definition, indicates that the node can provide addressiblity for the named network with the specified ports."},Bindable:{description:"A node type that includes the Bindable capability indicates that it can be bound to a logical network association via a network port.",derived_from:"Node"},Linkable:{description:"A node type that includes the Linkable capability indicates that it can be pointed to by a LinksTo relationship type.",derived_from:"Node"}},interface_types:{"Lifecycle.Standard":{description:"The Standard lifecycle interface defines the essential normative operations that TOSCA nodes may support.",operations:{create:{description:"Standard lifecycle create operation."},configure:{description:"Standard lifecycle configure operation."},start:{description:"Standard lifecycle start operation."},modify:{description:"Standard lifecycle modify operation."},stop:{description:"Standard lifecycle stop operation."},delete:{description:"Standard lifecycle delete operation."}}},"Relationship.Configure":{description:"The Configure lifecycle interface defines the essential normative operations that TOSCA relationships may support.",operations:{pre_configure_source:{description:"Operation to pre-configure the source endpoint."},pre_configure_target:{description:"Operation to pre-configure the target endpoint."},post_configure_source:{description:"Operation to post-configure the source endpoint."},post_configure_target:{description:"Operation to post-configure the target endpoint."},add_target:{description:"Operation to notify the source node of a target node being added via a relationship."},add_source:{description:"Operation to notify the target node of a source node which is now available via a relationship."},target_changed:{description:"Operation to notify the source node that some property or attribute of the target node changed."},remove_target:{description:"Operation to remove a target node."}}}},relationship_types:{Root:{description:`The TOSCA base relationship type from which all other normative TOSCA relationship types derive.
`,interfaces:{Configure:{type:"Relationship.Configure"}}},DependsOn:{description:"The DependsOn type represents a general dependency relationship between two nodes.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",valid_target_node_types:["Node"]},HostedOn:{description:"The HostedOn type represents a hosting relationship between two nodes.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",valid_target_node_types:["Container"]},ConnectsTo:{description:"The ConnectsTo type represents a network connection relationship between two nodes.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",properties:{credential:{description:"The security credential to present to the target endpoint for either authentication or authorization purposes.",type:"Credential",required:!1}},valid_target_node_types:["Endpoint"]},AttachesTo:{description:"The AttachesTo type represents an attachment relationship between two nodes (e.g. for attaching a storage node to a Compute node).",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"Root",properties:{location:{description:"The relative location (e.g., mount point on the file system) that provides the root location to address the attached node.",type:"string"},device:{description:"The logical device name for the attached device.",type:"string",required:!1}},valid_target_node_types:["Attachment"]},LinksTo:{description:"The LinksTo type represents an association relationship between Port and Network node types.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"DependsOn",valid_target_node_types:["Node","Linkable"]},BindsTo:{description:"The BindsTo type represents an association relationship between Port and Compute node types.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"DependsOn",valid_target_node_types:["Node","Bindable"]},RoutesTo:{description:"The RoutesTo type represents an intentional network routing between two Endpoints in different networks.",interfaces:{Configure:{type:"Relationship.Configure"}},derived_from:"ConnectsTo",properties:{credential:{description:"The security credential to present to the target endpoint for either authentication or authorization purposes.",type:"Credential",required:!1}},valid_target_node_types:["Endpoint"]}},node_types:{Root:{description:`The TOSCA base node type from which all other TOSCA normative node types derive.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}}},"Abstract.Compute":{description:"The TOSCA Abstract.Compute node represents an abstract compute resource without any requirements on storage or network resources.",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},host:{type:"Compute",valid_source_node_types:[]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root"},Compute:{description:`The TOSCA Compute node represents one or more processors of software applications or services along with other essential local resources.  Collectively, the resources represented by a compute node can logically be viewed as a (real or virtual) “server”.
`,attributes:{state:{type:"string"},private_address:{description:`The primary private IP address assigned by the cloud provider that applications may use to access the Compute node.
`,type:"string"},public_address:{description:`The primary public IP address assigned by the cloud provider that applications may use to access the Compute node.
`,type:"string"},networks:{description:"The list of logical networks assigned to the compute host instance and information about them.",type:"map",entry_schema:{type:"NetworkInfo"}},ports:{description:"The list of logical ports assigned to the compute host instance and information about them.",type:"map",entry_schema:{type:"PortInfo"}}},capabilities:{feature:{type:"Node"},host:{type:"Compute",valid_source_node_types:["SoftwareComponent"]},endpoint:{type:"Endpoint.Admin"},os:{type:"OperatingSystem"},scalable:{type:"Scalable"},binding:{type:"Bindable"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{local_storage:{capability:"Attachment",node:"Storage.BlockStorage",relationship:"AttachesTo",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Abstract.Compute"},SoftwareComponent:{description:`The TOSCA SoftwareComponent node represents a generic software component that can be managed and run by a TOSCA compute node.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"Compute",relationship:"HostedOn",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1}}},WebServer:{description:"The TOSCA WebServer Node Type represents an abstract software component or service that is capable of hosting and providing management operations for one or more WebApplication nodes.",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},data_endpoint:{description:"Private layer 4 endpoints.",type:"Endpoint"},admin_endpoint:"Endpoint.Admin",host:{type:"Compute",valid_source_node_types:["WebApplication"]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"Compute",relationship:"HostedOn",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"SoftwareComponent",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1}}},WebApplication:{description:"The TOSCA WebApplication node represents a software application that can be managed and run by a TOSCA WebServer node.  Specific types of web applications such as Java, etc. could be derived from this type.",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},app_endpoint:"Endpoint"},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"WebServer",relationship:"HostedOn"}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{context_root:{description:"The web application’s context root which designates the application’s URL path within the web server on which it is hosted.",type:"string",required:!1}}},DBMS:{description:`The TOSCA DBMS node represents a typical relational SQL Database Management System software component or service.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},host:{type:"Compute",valid_source_node_types:["Database"]}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"Compute",relationship:"HostedOn",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"SoftwareComponent",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1},root_password:{type:"string",required:!1,description:`the root password for the DBMS service.
`},port:{type:"integer",required:!1,description:`The port on which the DBMS service will listen for data and requests.
`}}},Database:{description:`The TOSCA Database node represents a logical database that can be managed and hosted by a TOSCA DBMS node.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},database_endpoint:{type:"Endpoint.Database"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"DBMS",relationship:"HostedOn"}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{name:{type:"string",description:`The logical name of the database.
`},port:{type:"integer",description:`The port on which the underlying database service will listen for data.
`},user:{type:"string",description:`The user account name for DB administration.
`,required:!1},password:{type:"string",description:`The password for the DB user account.
`,required:!1}}},"Abstract.Storage":{description:"The TOSCA Abstract.Storage node represents an abstract storage resource without any requirements on compute or network resources.",attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{size:{type:"scalar-unit.size"}}},"Storage.ObjectStorage":{description:`The TOSCA ObjectStorage node represents storage that provides the ability to store data as objects (or BLOBs of data) without consideration for the underlying filesystem or devices.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},storage_endpoint:{type:"Endpoint"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Abstract.Storage",properties:{size:{type:"scalar-unit.size"},name:{description:`The logical name of the object store (or container).
`,type:"string"},maxsize:{description:`The requested maximum storage size.
`,type:"scalar-unit.size"}}},"Storage.BlockStorage":{description:`The TOSCA BlockStorage node represents a server-local block storage device (i.e., not shared) offering evenly sized blocks of data from which raw storage volumes can be created.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},attachment:{type:"Attachment"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Abstract.Storage",properties:{size:{type:"scalar-unit.size",description:"The requested storage size. Required when an existing volume_id is not provided. If volume_id is provided, size is ignored."},volume_id:{description:"ID of an existing volume (that is in the accessible scope of the requesting application).",type:"string",required:!1},snapshot_id:{description:"Some identifier that represents an existing snapshot that should be used when creating the block storage (volume).",type:"string",required:!1}}},"Container.Runtime":{description:`The TOSCA Container Runtime node represents operating system-level virtualization technology used to run multiple application services on a single Compute host.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},host:{type:"Compute"},scalable:{type:"Scalable"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"Compute",relationship:"HostedOn",count_range:[0,1]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"SoftwareComponent",properties:{component_version:{description:`Domain-specific software component version.
`,type:"version",required:!1},admin_credential:{description:"The optional credential that can be used to authenticate to the software component.",type:"Credential",required:!1}}},"Container.Application":{description:`The TOSCA Container Application node represents an application that requires Container-level virtualization technology.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{host:{capability:"Compute",node:"Container.Runtime",relationship:"HostedOn"}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root"},Network:{description:`The TOSCA Network node represents a simple, logical network service.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},link:{type:"Linkable"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{ip_version:{description:`The IP version of the requested  Valid values are 4 for ipv4 or 6 for ipv6.
`,type:"integer",required:!1,default:4},cidr:{description:`The cidr block of the requested
`,type:"string",required:!1},start_ip:{description:`The IP address to be used as the start of a pool of addresses within the full IP range derived from the cidr block.
`,type:"string",required:!1},end_ip:{description:`The IP address to be used as the end of a pool of addresses within the full IP range derived from the cidr block.
`,type:"string",required:!1},gateway_ip:{description:`The gateway IP address.
`,type:"string",required:!1},network_name:{description:`An identifier that represents an existing Network instance in the underlying cloud infrastructure or can be used as the name of the newly created network. If network_name is provided and no other properties are provided (with exception of network_id), then an existing network instance will be used. If network_name is provided alongside with more properties then a new network with this name will be created.
`,type:"string",required:!1},network_id:{description:`An identifier that represents an existing Network instance in the underlying cloud infrastructure. This property is mutually exclusive with all other properties except network_name. This can be used alone or together with network_name to identify an existing network.
`,type:"string",required:!1},segmentation_id:{description:`A segmentation identifier in the underlying cloud infrastructure.  E.g. VLAN ID, GRE tunnel ID, etc..
`,type:"string",required:!1},network_type:{description:`Specifies the nature of the physical network in the underlying cloud infrastructure. Examples are flat, vlan, gre or vxlan. For flat and vlan types, physical_network should be provided too.
`,type:"string",required:!1},physical_network:{description:`Identifies the physical network on top of which the network is implemented, e.g. physnet1. This property is required if network_type is flat or vlan.
`,type:"string",required:!1},dhcp_enabled:{description:`Indicates whether DHCP service should be enabled on the network or not.
`,type:"boolean",default:!1}}},Port:{description:`The TOSCA Port node represents a logical entity that associates between Compute and Network normative types. The Port node type effectively represents a single virtual NIC on the Compute node instance.
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{link:{description:`Expresses the relationship between Port and Network nodes. It indicates the network to which this port will connect.
`,capability:"Linkable",relationship:"LinksTo"}},{binding:{description:`Expresses the relationship between Port and Compute nodes. Effectively it indicates that the Port will be attached to a specific Compute node instance.
`,capability:"Bindable",relationship:"BindsTo"}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{ip_address:{type:"string",required:!1,description:`Allows the user to set a static IP.
`},order:{description:`The order of the NIC on the compute instance (e.g. eth2).
`,type:"integer",required:!0,default:0},is_default:{description:`If is_default=true this port will be used for the default gateway route. Only one port that is associated to single compute node can set as is_default=true.
`,type:"boolean",required:!1,default:!1},ip_range_start:{description:`Defines the starting IP of a range to be allocated for the compute instances that are associated with this Port.
`,type:"string",required:!1},ip_range_end:{description:`Defines the ending IP of a range to be allocated for the compute instances that are associated with this Port.
`,type:"string",required:!1}}},LoadBalancer:{description:`The TOSCA Load Balancer node represents logical function that can be used in conjunction with a Floating Address to distribute an application’s traffic (load) across a number of instances of the application (e.g., for a clustered or scaled application).
`,attributes:{state:{type:"string"}},capabilities:{feature:{type:"Node"},client:{type:"Endpoint.Public",description:`The floating IP to which clients on the public network can connect.
`}},requirements:[{dependency:{capability:"Node",node:"Root",relationship:"DependsOn",count_range:[0,"UNBOUNDED"]}},{application:{capability:"Endpoint",relationship:"RoutesTo",count_range:[0,"UNBOUNDED"],description:`Connection to one or more load balanced applications.
`}}],interfaces:{Standard:{type:"Lifecycle.Standard"}},derived_from:"Root",properties:{algorithm:{type:"string",required:!1,status:"experimental"}}}},group_types:{Root:{description:`The TOSCA base group type from which all other normative TOSCA group types derive.
`,members:["Root"]}},policy_types:{Placement:{description:"The TOSCA Policy Type definition that is used to govern placement of TOSCA nodes or groups of nodes."},Scaling:{description:"The TOSCA Policy Type definition that is used to govern scaling of TOSCA nodes or groups of nodes."},Update:{description:"The TOSCA Policy Type definition that is used to govern update of TOSCA nodes or groups of nodes."},Performance:{description:"The TOSCA Policy Type definition that is used to declare performance requirements for TOSCA nodes or groups of nodes."}}},Iv="cna-modeling.entities.Endpoint",vD=$r.node_types[Iv],eY="Endpoint",bD=hC.capability_types[eY];function Tp(){let e=Ri(bD.properties).concat(Ri(vD.properties));for(const t of e)switch(t.getKey){case"method_name":t.setName="Method name",t.setExample="e.g. GET if protocol is http",t.setOptions=[{value:"GET",text:"GET"},{value:"POST",text:"POST"},{value:"publish",text:"publish"},{value:"subscribe",text:"subscribe"}];break;case"url_path":t.setName="Endpoint Path:",t.setExample="e.g. /orders";break;case"port":t.setName="Port: ",t.setExample="e.g. 3306";break}return e}var zd,Wp,jp,zl,hP;let L0=(hP=class{constructor(t,n,i){Ce(this,zd,void 0);Hi(this,"name");Ce(this,Wp,void 0);Ce(this,jp,new Array);Ce(this,zl,void 0);De(this,zd,t),this.name=n,De(this,Wp,i),De(this,zl,Tp())}get getId(){return O(this,zd)}set setId(t){De(this,zd,t)}get getName(){return this.name}get getMetaData(){return O(this,Wp)}get getDataAggregateEntities(){return O(this,jp)}addDataAggregateEntity(t,n){O(this,jp).push({data:t,relation:n})}addProperties(t){De(this,zl,O(this,zl).concat(t))}setPropertyValue(t,n){let i=O(this,zl).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperties(){return O(this,zl)}toString(){return"Endpoint "+JSON.stringify(this)}},zd=new WeakMap,Wp=new WeakMap,jp=new WeakMap,zl=new WeakMap,hP);const Pv="cna-modeling.entities.Endpoint.External",_D=$r.node_types[Pv],tY="Endpoint.Public",xD=hC.capability_types[tY];function fC(){return Ri(xD.properties).concat(Ri(_D.properties))}let D0=class extends L0{constructor(t,n,i){super(t,n,i),this.addProperties(fC())}toString(){return"ExternalEndpoint "+JSON.stringify(this)}};const Ov="cna-modeling.entities.Component",nY=$r.node_types[Ov];function Ya(){return Ri(nY.properties).map(t=>{switch(t.getKey){case"managed":return t.setName="Managed cloud service?",t.setExample="e.g. yes",t;default:return t}})}var Ud,Kp,Yp,Xp,Jp,Qp,Zp,Hd,Ul,fP;let Ko=(fP=class{constructor(t,n,i){Ce(this,Ud,void 0);Hi(this,"name");Ce(this,Kp,void 0);Ce(this,Yp,new Array);Ce(this,Xp,new Array);Ce(this,Jp,new Array);Ce(this,Qp,new Array);Ce(this,Zp,void 0);Ce(this,Hd,new Map);Ce(this,Ul,new Array);De(this,Ud,t),this.name=n,De(this,Kp,i),De(this,Ul,Ya())}addEndpoint(t){let n=i=>this.getEndpointEntities.some(r=>r.getId===i.getId)?!0:!!this.getExternalEndpointEntities.some(r=>r.getId===i.getId);if(t instanceof D0){if(n(t))return;O(this,Xp).push(t)}else if(t instanceof L0){if(n(t))return;O(this,Yp).push(t)}}addDataAggregateEntity(t,n){O(this,Qp).push({data:t,relation:n})}addBackingDataEntity(t,n){O(this,Jp).push({backingData:t,relation:n})}get getId(){return O(this,Ud)}set setId(t){De(this,Ud,t)}get getName(){return this.name}get getMetaData(){return O(this,Kp)}get getEndpointEntities(){return O(this,Yp)}get getExternalEndpointEntities(){return O(this,Xp)}get getDataAggregateEntities(){return O(this,Qp)}get getBackingDataEntities(){return O(this,Jp)}get getProxiedBy(){return O(this,Zp)}set setProxiedBy(t){De(this,Zp,t)}get getArtifacts(){return O(this,Hd)}setArtifact(t,n){O(this,Hd).set(t,n)}removeArtifact(t){O(this,Hd).delete(t)}addProperties(t){De(this,Ul,O(this,Ul).concat(t))}setPropertyValue(t,n){let i=O(this,Ul).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperties(){return O(this,Ul)}toString(){return"Component "+JSON.stringify(this)}},Ud=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,Jp=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Hd=new WeakMap,Ul=new WeakMap,fP);const Lv="cna-modeling.entities.BackingService",iY=$r.node_types[Lv];function pC(){let e=Ri(iY.properties);for(const t of e)switch(t.getKey){case"providedFunctionality":t.setName="Provided Functionality:",t.setExample="e.g. Logging";break}return e}let Xc=class extends Ko{constructor(t,n,i){super(t,n,i),this.addProperties(pC())}toString(){return"BackingService "+JSON.stringify(this)}};const Dv="cna-modeling.entities.DataAggregate",rY=$r.node_types[Dv];function gC(){return Ri(rY.properties)}var Vd,eg,Gd,pP;let mC=(pP=class{constructor(t,n,i){Ce(this,Vd,void 0);Hi(this,"name");Ce(this,eg,void 0);Ce(this,Gd,new Array);De(this,Vd,t),this.name=n,De(this,eg,i),De(this,Gd,gC())}get getId(){return O(this,Vd)}set setId(t){De(this,Vd,t)}get getName(){return this.name}get getMetaData(){return O(this,eg)}getProperties(){return O(this,Gd)}setPropertyValue(t,n){let i=O(this,Gd).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"DataAggregate "+JSON.stringify(this)}},Vd=new WeakMap,eg=new WeakMap,Gd=new WeakMap,pP);const Nv="cna-modeling.entities.Infrastructure",oY=$r.node_types[Nv];function yC(){return Ri(oY.properties).map(t=>{switch(t.getKey){case"kind":return t.setName="Kind of infrastructure",t;default:return t}})}var Wd,tg,ng,jd,Kd,gP;let Pd=(gP=class{constructor(t,n,i){Ce(this,Wd,void 0);Hi(this,"name");Ce(this,tg,void 0);Ce(this,ng,new Array);Ce(this,jd,new Map);Ce(this,Kd,void 0);De(this,Wd,t),this.name=n,De(this,tg,i),De(this,Kd,yC())}addBackingDataEntity(t,n){O(this,ng).push({backingData:t,relation:n})}get getId(){return O(this,Wd)}set setId(t){De(this,Wd,t)}get getMetaData(){return O(this,tg)}get getName(){return this.name}get getBackingDataEntities(){return O(this,ng)}get getArtifacts(){return O(this,jd)}setArtifact(t,n){O(this,jd).set(t,n)}removeArtifact(t){O(this,jd).delete(t)}getProperties(){return O(this,Kd)}setPropertyValue(t,n){let i=O(this,Kd).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Infrastructure "+JSON.stringify(this)}},Wd=new WeakMap,tg=new WeakMap,ng=new WeakMap,jd=new WeakMap,Kd=new WeakMap,gP);const N0="cna-modeling.entities.HostedOn.DeploymentMapping",sY=$r.relationship_types[N0];function vC(){return Ri(sY.properties).map(t=>{switch(t.getKey){case"deployment":return t.setName="Deployment process",t;default:return t}})}var Yd,Zc,eu,Xd,mP;let Mv=(mP=class{constructor(t,n,i){Ce(this,Yd,void 0);Ce(this,Zc,void 0);Ce(this,eu,void 0);Ce(this,Xd,new Array);if(n.getId===i.getId){const r="The entities for which the DeploymentMapping is defined have to be distinguishable.";throw new Error(r)}if(!(n instanceof Ko||n instanceof Pd)){const r="Wrong entity type provided. Only Component, Service, BackingService, StorageBackingService or Infrastructure entities can be deployed by an underlying Infrastructure. However, the provided entity was: "+Object.getPrototypeOf(n)+JSON.stringify(n);throw new TypeError(r)}if(!(i instanceof Pd)){const r="Wrong entity type provided. Only an Infrastructure entity is able to deploy other entities. However, the provided entity was: "+Object.getPrototypeOf(i)+JSON.stringify(i);throw new TypeError(r)}De(this,Yd,t),De(this,Zc,n),De(this,eu,i),De(this,Xd,vC())}get getId(){return O(this,Yd)}set setId(t){De(this,Yd,t)}get getDeployedEntity(){return O(this,Zc)}set setDeployedEntity(t){if(!(t instanceof Ko||t instanceof Pd)){const n="Wrong entity type provided. Only Component, Service, BackingService, StorageBackingService or Infrastructure entities can be deployed by an underlying Infrastructure. However, the provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}if(JSON.stringify(t)===JSON.stringify(O(this,eu))){const n="The entity is already included as the underyling infrastructure.";throw new Error(n)}De(this,Zc,t)}get getUnderlyingInfrastructure(){return O(this,eu)}set setUnderlyingInfrastructure(t){if(JSON.stringify(t)===JSON.stringify(O(this,Zc))){const n="The entity is already included as being deployed on this infrastructure";throw new Error(n)}De(this,eu,t)}getProperties(){return O(this,Xd)}setPropertyValue(t,n){let i=O(this,Xd).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"DeploymentMapping "+JSON.stringify(this)}},Yd=new WeakMap,Zc=new WeakMap,eu=new WeakMap,Xd=new WeakMap,mP);const bC="cna-modeling.entities.ConnectsTo.Link",aY=$r.relationship_types[bC];function _C(){let e=Ri(aY.properties);for(const t of e)switch(t.getKey){case"relation_type":t.setName="Relation Type:",t.setExample="e.g. subscribes to";break}return e}var Jd,tu,nu,Qd,yP;let xC=(yP=class{constructor(t,n,i){Ce(this,Jd,void 0);Ce(this,tu,void 0);Ce(this,nu,void 0);Ce(this,Qd,new Array);if(De(this,Jd,t),De(this,tu,n),De(this,nu,i),n.getEndpointEntities.find(r=>r.getId===i.getId)){const r="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(r)}De(this,Qd,_C())}get getId(){return O(this,Jd)}set setId(t){De(this,Jd,t)}get getSourceEntity(){return O(this,tu)}set setSourceEntity(t){if(t.getEndpointEntities.find(n=>n.getId===O(this,nu).getId)){const n="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(n)}De(this,tu,t)}get getTargetEndpoint(){return O(this,nu)}set setTargetEndpoint(t){if(O(this,tu).getEndpointEntities.find(n=>n.getId===t.getId)){const n="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(n)}De(this,nu,t)}getProperties(){return O(this,Qd)}setPropertyValue(t,n){let i=O(this,Qd).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Link "+JSON.stringify(this)}},Jd=new WeakMap,tu=new WeakMap,nu=new WeakMap,Qd=new WeakMap,yP);const Fv="cna-modeling.entities.RequestTrace",lY=$r.node_types[Fv];function wC(){return Ri(lY.properties)}var Zd,ig,rg,og,eh,th,vP;let CC=(vP=class{constructor(t,n,i){Ce(this,Zd,void 0);Ce(this,ig,void 0);Ce(this,rg,void 0);Ce(this,og,void 0);Ce(this,eh,new Set);Ce(this,th,new Array);De(this,Zd,t),De(this,ig,n),De(this,rg,i),De(this,th,wC())}get getId(){return O(this,Zd)}set setId(t){De(this,Zd,t)}get getName(){return O(this,ig)}get getMetaData(){return O(this,rg)}get getExternalEndpoint(){return O(this,og)}set setExternalEndpoint(t){if(!(t instanceof D0)){const n="Wrong entity type provided. Only an ExternalEndpoint entity is allowed. However, the provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}De(this,og,t)}get getLinks(){return O(this,eh)}set setLinks(t){O(this,eh).clear();for(const n of t)O(this,eh).add(n)}getProperties(){return O(this,th)}setPropertyValue(t,n){let i=O(this,th).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"RequestTrace "+JSON.stringify(this)}},Zd=new WeakMap,ig=new WeakMap,rg=new WeakMap,og=new WeakMap,eh=new WeakMap,th=new WeakMap,vP);const Rv="cna-modeling.entities.Service",cY=$r.node_types[Rv];function TC(){return Ri(cY.properties)}let Zl=class extends Ko{constructor(t,n,i){super(t,n,i),this.addProperties(TC())}toString(){return"Service "+JSON.stringify(this)}};const Bv="cna-modeling.entities.StorageBackingService",uY=$r.node_types[Bv];function SC(){let e=Ri(uY.properties);for(const t of e)switch(t.getKey){case"name":t.setName="Database Name:",t.setExample="e.g. Order";break}return e}let Xa=class extends Ko{constructor(t,n,i){super(t,n,i),this.addProperties(SC())}toString(){return"StorageBackingService "+JSON.stringify(this)}};var nh,iu,ih,rh,oh,sh,ah,lh;class Pw{constructor(t){Ce(this,nh,void 0);Ce(this,iu,new Map);Ce(this,ih,new Map);Ce(this,rh,new Map);Ce(this,oh,new Map);Ce(this,sh,new Map);Ce(this,ah,new Map);Ce(this,lh,new Map);De(this,nh,t)}addEntities(t){for(const n of t)this.addEntity(n)}addEntity(t){switch(t.constructor){case Ko:case Zl:case Xc:case Xa:O(this,iu).set(t.getId,t);break;case xC:O(this,ih).set(t.getId,t);break;case Pd:O(this,rh).set(t.getId,t);break;case Mv:O(this,oh).set(t.getId,t);break;case CC:O(this,sh).set(t.getId,t);break;case mC:O(this,ah).set(t.getId,t);break;case dC:O(this,lh).set(t.getId,t);break;default:const n="Wrong entity type provided. The provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}}resetAllIncludedSystemEntities(){De(this,iu,new Map),De(this,ih,new Map),De(this,rh,new Map),De(this,oh,new Map),De(this,sh,new Map),De(this,ah,new Map),De(this,lh,new Map)}set setSystemName(t){!t||!t.trim()||De(this,nh,t)}get getSystemName(){return O(this,nh)}get getComponentEntities(){return O(this,iu)}get getLinkEntities(){return O(this,ih)}get getInfrastructureEntities(){return O(this,rh)}get getDeploymentMappingEntities(){return O(this,oh)}get getRequestTraceEntities(){return O(this,sh)}get getDataAggregateEntities(){return O(this,ah)}get getBackingDataEntities(){return O(this,lh)}searchComponentOfEndpoint(t){return Array.from(O(this,iu).values()).find(n=>!!n.getEndpointEntities.find(i=>{i.getId}))}toString(){return"System "+JSON.stringify(this)}}nh=new WeakMap,iu=new WeakMap,ih=new WeakMap,rh=new WeakMap,oh=new WeakMap,sh=new WeakMap,ah=new WeakMap,lh=new WeakMap;const Bc=Object.freeze({MISSING_INFORMATION:"missing information",INVALID_MODEL_ENTIY:"invalid model entity"});var sg,ag,lg,cg,ug;class sd{constructor(t,n,i,r,o){Ce(this,sg,void 0);Ce(this,ag,void 0);Ce(this,lg,void 0);Ce(this,cg,void 0);Ce(this,ug,void 0);!Object.values(_e).includes(t)||!Object.values(Bc).includes(n)||!i||!o||(De(this,sg,t),De(this,lg,n),De(this,ag,i),De(this,cg,r),De(this,ug,o))}get getAffectedEntityType(){return O(this,sg)}get getErrorType(){return O(this,lg)}get getEntityName(){return O(this,ag)}get getAffectedInformation(){return O(this,cg)}get getMessage(){return O(this,ug)}}sg=new WeakMap,ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap;const gi=Object.freeze({SMALL:"modal-sm",DEFAULT:"",LARGE:"modal-lg",EXTRA_LARGE:"modal-xl"}),dY="cna-modeling.relationships.AttachesTo.DataAggregate",hY=$r.relationship_types[dY];function wD(){return Ri(hY.properties).map(t=>{switch(t.getKey){default:return t}}).filter(t=>t.getKey!=="location")}var dg,hg,ch;class $c{constructor(t,n){Ce(this,dg,void 0);Ce(this,hg,void 0);Ce(this,ch,new Array);De(this,dg,t),De(this,hg,n),De(this,ch,wD())}get getId(){return O(this,dg)}get getMetaData(){return O(this,hg)}getProperties(){return O(this,ch)}setPropertyValue(t,n){let i=O(this,ch).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Data Aggregate Relationship "+JSON.stringify(this)}}dg=new WeakMap,hg=new WeakMap,ch=new WeakMap;const fY="cna-modeling.relationships.AttachesTo.BackingData",pY=$r.relationship_types[fY];function CD(){return Ri(pY.properties).map(t=>{switch(t.getKey){default:return t}}).filter(t=>t.getKey!=="location")}var fg,pg,uh;class bd{constructor(t,n){Ce(this,fg,void 0);Ce(this,pg,void 0);Ce(this,uh,new Array);De(this,fg,t),De(this,pg,n),De(this,uh,CD())}get getId(){return O(this,fg)}get getMetaData(){return O(this,pg)}getProperties(){return O(this,uh)}setPropertyValue(t,n){let i=O(this,uh).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Backing Data Relationship "+JSON.stringify(this)}}fg=new WeakMap,pg=new WeakMap,uh=new WeakMap;function Xi(e,t){return e.filter(n=>n.getDataType!=="map"&&n.getDataType!=="list").map(n=>{var i={providedFeature:n.getKey,label:n.getName,inputProperties:{disabled:!1,required:n.getRequired,checked:!1,selected:!1,readonly:!1},helpText:n.getDescription,show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:`${t}/properties/${n.getKey}`,defaultPropPath:"",minPath:"",min:""}};switch(n.getDataType){case"boolean":var r={...i,contentType:"checkbox",attributes:{defaultValue:n.getDefaultValue}};return r;case"number":var o={...i,contentType:"number",attributes:{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,defaultValue:n.getDefaultValue}};return o;case"select":var s={...i,contentType:"select",attributes:{svgRepresentation:"",placeholder:n.getExample,defaultValue:n.getDefaultValue},dropdownOptions:n.getOptions.map(l=>({optionValue:l.value,optionText:l.text,optionTitle:"",representationClass:"",disabled:!1}))};return s;case"text":default:var a={...i,contentType:"text",attributes:{placeholder:n.getExample,defaultValue:n.getDefaultValue,svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:n.getOptions}};return a}})}function Cy(...e){let t=[],n=[];for(const i of e)i.forEach(r=>{n.includes(r.providedFeature)||(t.push(r),n.push(r.providedFeature))});return t}function js(e,t){for(const n of t){let i=n.providedFeature,r=e.findIndex(o=>o.providedFeature===i);~r?e[r]=n:e.push(n)}return e}const Ot=Object.freeze({INPUT_TEXTBOX:"text",TEXTAREA:"textarea",INPUT_NUMBERBOX:"number",INPUT_RANGE:"range",CHECKBOX:"checkbox",CHECKBOX_WITHOUT_LABEL:"checkbox-without-label",DROPDOWN:"select",MULTI_SELECT:"multi-select",TOGGLE:"toggle",DYNAMIC_LIST:"dynamic-list"}),qc=(e="",t="white",n=1)=>`<ellipse ${e?`id="${e}"`:""} cx="13" cy="9" rx="12" ry="6" stroke="black" fill="${t}" opacity="${n}"/>`,fd=(e="",t="white",n=1)=>`<path ${e?`id="${e}"`:""} d="M 0 0 L 16.8 0 Q 24 0 24 7.2 Q 24 14.4 16.8 14.4 L 0 14.4 Z" transform="translate(1, 1.5)" opacity="${n}" stroke-width="1" stroke-dasharray="0" stroke="black" fill="${t}"></path>`,Gc={EntityHighlighting:[{type:_e.DATA_AGGREGATE,labelText:"Data Aggregate",svgRepresentation:`<svg width="30" height="20">${qc("data-aggregate-highlightingRepresentation","gold",.4)}</svg>`,highlightColour:"gold"},{type:_e.BACKING_DATA,labelText:"Backing Data",svgRepresentation:`<svg width="30" height="20">${fd("backing-data-highlightingRepresentation","limegreen",.4)}</svg>`,highlightColour:"limegreen"}],GeneralProperties:{entity:{headline:"Entity Specific",iconClass:"fa-solid fa-sliders",options:[]},artifacts:{headline:"Artifacts",iconClass:"fa-regular fa-file-code",options:[{providedFeature:"artifacts",contentType:Ot.DYNAMIC_LIST,label:"Deployment Artifacts",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit Artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-regular fa-file-code",svgRepresentation:"",text:"Artifacts of this entity: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all artifacts included in this entity. In case you want to add a new entry, the following section provides the corresponding input elements which you can submit using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all 
                    your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"key",label:"Key",helpText:"The key that identifies the artifact",labelIcon:"fa-solid fa-key",placeholder:"e.g. deployment-script"},{fieldType:"dropdown",key:"type",label:"Type",helpText:"The type of the artifact",labelIcon:"fa-solid fa-tag",dropdownOptions:[]},{fieldType:"text",key:"file",label:"File",helpText:"The name of the file for this artifact",labelIcon:"fa-regular fa-file",placeholder:"e.g. entity-deployment.yml"},{fieldType:"text",key:"repository",label:"Repository",helpText:"The repository where the file can be found",labelIcon:"fa-solid fa-server",placeholder:"e.g. https://myrepo.com"},{fieldType:"text",key:"description",label:"Description",helpText:"A description of this artifact",labelIcon:"fa-solid fa-message",placeholder:"e.g. This file is executed by the platform"},{fieldType:"text",key:"deploy_path",label:"Deploy Path",helpText:"The file path the associated file will be deployed on within the target node's container.",labelIcon:"fa-solid fa-terminal",placeholder:"e.g. ./"},{fieldType:"text",key:"artifact_version",label:"Artifact version",helpText:"The version of this artifact.",labelIcon:"fa-solid fa-code-branch",placeholder:"e.g. 1.0"},{fieldType:"text",key:"checksum",label:"Checksum",helpText:"The checksum used to validate the integrity of the artifact.",labelIcon:"fa-regular fa-hashtag",placeholder:"e.g. 34534534"},{fieldType:"text",key:"checksum_algorithm",label:"Checksum Algorithm",helpText:"Algorithm used to calculate the artifact checksum.",labelIcon:"fa-solid fa-gears",placeholder:"e.g. MD5"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"property",modelPath:"entity/artifacts",defaultPropPath:"",minPath:"",min:""}}]},label:{headline:"Entity Label",iconClass:"fa-solid fa-font",options:[{providedFeature:"entity-text",contentType:Ot.TEXTAREA,label:"Text:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{rows:1,maxLength:200,placeholder:"",defaultValue:"",provideEnterButton:!1},helpText:"Use enter key to submit change.",show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"attribute",modelPath:"label/textWrap/text",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"entity-font-size",contentType:Ot.INPUT_RANGE,label:"Font Size:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:8,max:24,defaultValue:14,step:1,provideEnterButton:!1},helpText:"Use enter key to submit change.",show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"attribute",modelPath:"label/fontSize",defaultPropPath:"defaults/fontSize",minPath:"",min:"6"}}]},size:{headline:"Entity Size",iconClass:"fa-solid fa-vector-square",options:[{providedFeature:"entity-width",contentType:Ot.INPUT_NUMBERBOX,label:"Width:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:40,max:99999,defaultValue:150},helpText:"The entity width",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"size/width",defaultPropPath:"defaults/size/width",minPath:"defaults/size/width",min:""}},{providedFeature:"entity-height",contentType:Ot.INPUT_NUMBERBOX,label:"Height:",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:40,max:99999,defaultValue:150},helpText:"The value will be calculated based on the given width to preserve the aspect ratio of the entity shape",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"size/height",defaultPropPath:"defaults/size/height",minPath:"defaults/size/height",min:""}},{providedFeature:"keep-entity-aspect-ratio",contentType:Ot.CHECKBOX,label:"Preserve aspect ratio",inputProperties:{disabled:!0,required:!0,checked:!0,selected:!1,readonly:!1},attributes:{defaultValue:!0},helpText:"If aspect ratio is preserved, width and height change simultaneously.",show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"entity-aspect-ratio",contentType:Ot.INPUT_TEXTBOX,label:"Aspect ratio",inputProperties:{disabled:!0,required:!0,checked:!0,selected:!1,readonly:!0},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},helpText:"The value will be calculated based on the given width to preserve the aspect ratio of the entity shape",show:!1,provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"defaults/size",defaultPropPath:"",minPath:"",min:""}}]},position:{headline:"Entity Position",iconClass:"fa-solid fa-crosshairs",options:[{providedFeature:"entity-x-position",contentType:Ot.INPUT_NUMBERBOX,label:"X-Coordinate:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:21,max:Number.MAX_SAFE_INTEGER,defaultValue:21},helpText:"X Coordinate for the entity placement",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"position/x",defaultPropPath:"",minPath:"",min:"21"}},{providedFeature:"entity-y-position",contentType:Ot.INPUT_NUMBERBOX,label:"Y-Coordinate:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:21,max:Number.MAX_SAFE_INTEGER,defaultValue:21},helpText:"Y Coordinate for the entity placement",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"position/y",defaultPropPath:"",minPath:"",min:"21"}}]}}},Uk=()=>'<defs><marker id="arrowHead" orient="auto" overflow="visible" markerUnits="userSpaceOnUse"><path id="v-66" stroke="black" fill="black" transform="rotate(180)" d="M 8 -4.5 0 0 8 4.5 z"></path></marker></defs>'+'<path d="M 1 8 L 27 8" marker-end="url(#arrowHead)" fill="none" stroke="black" stroke-dasharray="none" stroke-width="2" stroke-line-join="round" stroke-linejoin="round"</path>',wo={Component:{type:_e.COMPONENT,specificProperties:js(Xi(Ya(),"entity"),[{providedFeature:"assigned_networks",contentType:Ot.DYNAMIC_LIST,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the id or subnet mask of a network and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"network-id",label:"Network Name",helpText:"The name of the network to assign",labelIcon:"fa-solid fa-network-wired",placeholder:"e.g. my-private-network"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/assigned_networks",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"proxiedBy",contentType:Ot.DROPDOWN,label:"Proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The backing service acting as a proxy for this component.",show:!0,attributes:{placeholder:"Choose Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/properties/proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}])},Service:{type:_e.SERVICE,specificProperties:js(Cy(Xi(TC(),"entity"),Xi(Ya(),"entity")),[{providedFeature:"assigned_networks",contentType:Ot.DYNAMIC_LIST,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the id or subnet mask of a network and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"network-id",label:"Network Name",helpText:"The name of the network to assign",labelIcon:"fa-solid fa-network-wired",placeholder:"e.g. my-private-network"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/assigned_networks",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"proxiedBy",contentType:Ot.DROPDOWN,label:"Proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The backing service acting as a proxy for this component.",show:!0,attributes:{placeholder:"Choose Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/properties/proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}])},BackingService:{type:_e.BACKING_SERVICE,specificProperties:js(Cy(Xi(pC(),"entity"),Xi(Ya(),"entity")),[{providedFeature:"assigned_networks",contentType:Ot.DYNAMIC_LIST,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the id or subnet mask of a network and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"network-id",label:"Network Name",helpText:"The name of the network to assign",labelIcon:"fa-solid fa-network-wired",placeholder:"e.g. my-private-network"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/assigned_networks",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"proxiedBy",contentType:Ot.DROPDOWN,label:"Proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The backing service acting as a proxy for this component.",show:!0,attributes:{placeholder:"Choose Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/properties/proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}])},StorageBackingService:{type:_e.STORAGE_BACKING_SERVICE,specificProperties:js(Cy(Xi(SC(),"entity"),Xi(Ya(),"entity")),[{providedFeature:"assigned_networks",contentType:Ot.DYNAMIC_LIST,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the id or subnet mask of a network and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"network-id",label:"Network Name",helpText:"The name of the network to assign",labelIcon:"fa-solid fa-network-wired",placeholder:"e.g. my-private-network"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/assigned_networks",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"proxiedBy",contentType:Ot.DROPDOWN,label:"Proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The backing service acting as a proxy for this component.",show:!0,attributes:{placeholder:"Choose Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/properties/proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}])},Endpoint:{type:_e.ENDPOINT,specificProperties:js(Xi(Tp(),"entity"),[{providedFeature:"embedded",contentType:Ot.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the endpoint if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"uses_data",contentType:Ot.MULTI_SELECT,label:"Data Aggregates used:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+qc()+"</svg>",buttonText:"Add Data Aggregates",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+qc()+"</svg>",text:"Data Aggregates used by Endpoint: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Data Aggregate entities associated with this component. By selecting the respective 
                    checkbox the Data Aggregate entity will be added to this Endpoint. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Endpoint entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Data Aggregate"},{text:"Usage relation"},{text:"Include"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/uses_data",defaultPropPath:"",minPath:"",min:""}}])},ExternalEndpoint:{type:_e.EXTERNAL_ENDPOINT,specificProperties:js(Cy(Xi(fC(),"entity"),Xi(Tp(),"entity")),[{providedFeature:"embedded",contentType:Ot.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the endpoint if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"uses_data",contentType:Ot.MULTI_SELECT,label:"Data Aggregates used:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+qc()+"</svg>",buttonText:"Add Data Aggregates",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+qc()+"</svg>",text:"Data Aggregates used by External Endpoint: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Data Aggregate entities associated with this component. By selecting the respective 
                    checkbox the Data Aggregate entity will be added to this Endpoint. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Endpoint entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Data Aggregate"},{text:"Usage relation"},{text:"Include"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/uses_data",defaultPropPath:"",minPath:"",min:""}}])},Link:{type:_e.LINK,specificProperties:Xi(_C(),"entity")},Infrastructure:{type:_e.INFRASTRUCTURE,specificProperties:js(Xi(yC(),"entity"),[{providedFeature:"supported_artifacts",contentType:Ot.MULTI_SELECT,label:"Supported Artifacts:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-regular fa-file-code",svgRepresentation:"",text:"Supported artifacts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the name of an artifact type and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Artifact type"},{text:"Include"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_artifacts",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"supported_update_strategies",contentType:Ot.MULTI_SELECT,label:"Supported Update Strategies:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported update strategies",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-arrow-up-from-bracket",svgRepresentation:"",text:"Supported update strategies: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all update strategies supported by this infrastructure. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Update strategy"},{text:"Supported"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_update_strategies",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"assigned_networks",contentType:Ot.DYNAMIC_LIST,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the id or subnet mask of a network and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"network-id",label:"Network Name",helpText:"The name of the network to assign",labelIcon:"fa-solid fa-network-wired",placeholder:"e.g. my-private-network"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/assigned_networks",defaultPropPath:"",minPath:"",min:""}}])},DeploymentMapping:{type:_e.DEPLOYMENT_MAPPING,specificProperties:Xi(vC(),"entity")},DataAggregate:{type:_e.DATA_AGGREGATE,specificProperties:js(Xi(gC(),"entity").concat(Xi(wD(),"relationship")),[{providedFeature:"dataAggregate-chooseEditMode",contentType:Ot.TOGGLE,label:"Edit Mode:",labels:{headLabel:"<U>Edit Mode:</U>",leftLabel:"Original",rightLabel:"Embedded"},inputProperties:{disabled:!1,required:!1,checked:!0,selected:!1,readonly:!1},helpText:"Choose whether you want to modify the embedded element or the actual Data Aggregate entity.",provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"embedded",contentType:Ot.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the data aggregate if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"dataAggregate-assignedFamily",contentType:Ot.INPUT_TEXTBOX,label:"- Family assigned:",helpText:"The family of the Data Aggregate",inputProperties:{disabled:!0,readonly:!0,required:!1,checked:!1,selected:!1},attributes:{placeholder:"No family assigned",defaultValue:"",svgRepresentation:'<svg width="30" height="20"><ellipse cx="13" cy="9" rx="12" ry="6" stroke="black" fill="white" opacity="1"/></svg>',inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"property",modelPath:"entity/assignedFamily",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"dataAggregate-familyConfig",contentType:Ot.MULTI_SELECT,label:"- Family:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${qc()}</svg>`,buttonText:"Edit Family",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${qc()}</svg>`,text:"Included Data Aggregate entities"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all existing Data Aggregate entities within this System. You can select which ones of the following Data Aggregate entities you want to include in this
                family. Note that if you select a Data Aggregate and save your changes, the labels of the selected Data Aggregate entities might change since they have to be equal to the family name.
                Additionally, if you deselect entities that have previously been part of this family, their label will be reset to "Data Aggregate". However, your changes won't be adopted until you 
                clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Data Aggregate entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Name"},{text:"Family Name"},{text:"Parent"},{text:"Include"}]},show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"",defaultPropPath:"",minPath:"",min:""}}])},BackingData:{type:_e.BACKING_DATA,specificProperties:js(Xi(uC(),"entity").concat(Xi(CD(),"relationship")),[{providedFeature:"backingData-chooseEditMode",contentType:Ot.TOGGLE,label:"Edit Mode:",labels:{headLabel:"<U>Edit Mode:</U>",leftLabel:"Original",rightLabel:"Embedded"},inputProperties:{disabled:!1,required:!1,checked:!0,selected:!1,readonly:!1},helpText:"Choose whether you want to modify the embedded element or the actual Backing Data entity.",provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"embedded",contentType:Ot.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the backing data if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-includedData",contentType:Ot.DYNAMIC_LIST,label:"Included Data:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${fd()}</svg>`,buttonText:"Edit Included Data",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${fd()}</svg>`,text:"Backing Data Included Data: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all data elements included in this Backing Data entity. In case you want to add a new entry, the following section provides two text element boxes you can use to 
                    provide the information and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all 
                    your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"key",label:"Key",helpText:"The key that identifies the following value item.",labelIcon:"fa-solid fa-key",placeholder:"e.g. My_SQL_Password"},{fieldType:"text",key:"value",label:"Value",helpText:"The value of this data item.",labelIcon:"bi bi-chat-square-text-fill",placeholder:"e.g. mysqlpw"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/included_data",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-assignedFamily",contentType:Ot.INPUT_TEXTBOX,label:"- Family assigned:",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The family of the Backing Data",attributes:{placeholder:"No family assigned",defaultValue:"",svgRepresentation:`<span><svg width="30" height="20">${fd()}</svg></span>`,inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"property",modelPath:"entity/assignedFamily",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-familyConfig",contentType:Ot.MULTI_SELECT,label:"– Family:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${fd()}</svg>`,buttonText:"Edit Family",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${fd()}</svg>`,text:"Included Backing Data entities "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all existing Backing Data entities within this System. You can select which ones of the following Backing Data entities you want to include in this
                    family. Note that if you select a Backing Data and save your changes, the labels of the selected Backing Data entities might change since they have to be equal to the family name.
                    Additionally, if you deselect entities that have previously been part of this family, their label will be reset to "Backing Data". However, your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Name"},{text:"Family Name"},{text:"Parent"},{text:"Include"}]},show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"",defaultPropPath:"",minPath:"",min:""}}])},RequestTrace:{type:_e.REQUEST_TRACE,specificProperties:js(Xi(wC(),"entity"),[{providedFeature:"referred_endpoint",contentType:Ot.DROPDOWN,label:"External Endpoint:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The referred External Endpoint.",show:!0,attributes:{placeholder:"Choose External Endpoint...",svgRepresentation:'<svg width="30" height="20"><circle id="request-trace-external-endpoint" cx="15" cy="9" r="4" stroke="black" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/></svg>',defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/properties/referred_endpoint",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]},{providedFeature:"involved_links",contentType:Ot.MULTI_SELECT,label:"Involved Links:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+Uk()+"</svg>",buttonText:"Add Link entities",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+Uk()+"</svg>",text:"Links involved in Request Trace"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Link entities that currently exist for this System. 
                    Invalid Links, such as non-connected ones or if they are connected to an Endpoint without
                    a parent entity cannot be selected and are thus deactivated. By selecting the respective 
                    checkbox the Link entity will be added to this Request Trace. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Request Trace entity, your changes will be remembered.`,tableColumnHeaders:[{text:"From"},{text:"To Endpoint"},{text:"Endpoint Parent"},{text:"Include"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/involved_links",defaultPropPath:"",minPath:"",min:""}}])}};Ot.DYNAMIC_LIST,gi.LARGE;var dh,hh;class TD{constructor(){Ce(this,dh,new Map);Ce(this,hh,new Map)}add(t,n){if(O(this,dh).has(t))throw new Error(`An entry with key ${t} already exists!`);if(O(this,hh).has(n))throw new Error(`An entry with id ${n} already exists!`);O(this,dh).set(t,n),O(this,hh).set(n,t)}getId(t){return O(this,dh).get(t)}getKey(t){return O(this,hh).get(t)}}dh=new WeakMap,hh=new WeakMap;var fb,ru,gg,Ow,pb,SD;class gY{constructor(){Ce(this,gg);Ce(this,pb);Ce(this,fb,new RegExp(/_([a-z]+)$/g));Ce(this,ru,new Set)}ensureUniqueness(t){if(O(this,ru).has(t)){let n=[97],i=`${t}${ut(this,gg,Ow).call(this,n)}`;for(;O(this,ru).has(i);)n=ut(this,pb,SD).call(this,n),i=i.replace(O(this,fb),ut(this,gg,Ow).call(this,n));return O(this,ru).add(i),i}else return O(this,ru).add(t),t}}fb=new WeakMap,ru=new WeakMap,gg=new WeakSet,Ow=function(t){let n="_";for(let i of t)n=n+String.fromCharCode(i);return n},pb=new WeakSet,SD=function(t){for(let n=0;n<t.length;n++)if(t[n]<122)return t[n]=t[n]+1,t;return t.push(97),t};function Ks(e){return{label:e.label,fontSize:e.fontSize.toString(),size_width:e.size.width.toString(),size_height:e.size.height.toString(),position_xCoord:e.position.xCoord.toString(),position_yCoord:e.position.yCoord.toString()}}function Ar(e){return{label:e.label?e.label:"",fontSize:e.fontSize?Number.parseFloat(e.fontSize):-1,size:{width:e.size_width?Number.parseFloat(e.size_width):-1,height:e.size_height?Number.parseFloat(e.size_height):-1},position:{xCoord:e.position_xCoord?Number.parseFloat(e.position_xCoord):-1,yCoord:e.position_yCoord?Number.parseFloat(e.position_yCoord):-1}}}function Ys(){return{label:"",fontSize:12,size:{width:50,height:20},position:{xCoord:0,yCoord:0}}}const mY="tosca_2_0",yY=new RegExp(/\s/g),vY=new RegExp(/[#>\-\.]/g),bY=new RegExp(/_+/g);var Ir,ai,Co,fh,Js,Ll,hr,Qr,gb,ED,mb,AD,yb,kD,vb,ID,bb,PD,_b,OD,xb,LD,ph,jy;class _Y{constructor(t,n){Ce(this,Js);Ce(this,hr);Ce(this,gb);Ce(this,mb);Ce(this,yb);Ce(this,vb);Ce(this,bb);Ce(this,_b);Ce(this,xb);Ce(this,ph);Ce(this,Ir,new gY);Ce(this,ai,new TD);Ce(this,Co,void 0);Ce(this,fh,void 0);De(this,Co,t),De(this,fh,{tosca_definitions_version:mY,metadata:{template_author:"CNA modeling tool",template_name:t.getSystemName,template_version:"0.2"},description:"Service template generated by the CNA modeling tool"})}convert(){let t={description:"Topology template generated by the CNA modeling tool",node_templates:{},relationship_templates:{}};for(const[n,i]of O(this,Co).getDataAggregateEntities.entries()){const r=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,i.getName));let o=ut(this,gb,ED).call(this,i);O(this,ai).add(r,n),t.node_templates[r]=o}for(const[n,i]of O(this,Co).getBackingDataEntities.entries()){const r=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,i.getName));let o=ut(this,mb,AD).call(this,i);O(this,ai).add(r,n),t.node_templates[r]=o}for(const[n,i]of O(this,Co).getInfrastructureEntities.entries()){const r=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,i.getName));let o=ut(this,yb,kD).call(this,i);if(i.getBackingDataEntities.length>0){o.requirements=[];for(const s of i.getBackingDataEntities){const a=O(this,Ir).ensureUniqueness(`${r}_uses_${O(this,ai).getKey(s.backingData.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.Data",metadata:Ks(s.relation.getMetaData)};s.relation.getProperties().length>0&&(l.properties=ut(this,hr,Qr).call(this,s.relation.getProperties())),t.relationship_templates[a]=l,o.requirements.push({uses_backing_data:{node:O(this,ai).getKey(s.backingData.getId),relationship:a}})}}O(this,ai).add(r,n),t.node_templates[r]=o}for(const[n,i]of O(this,Co).getComponentEntities.entries()){const r=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,i.getName));let o=ut(this,vb,ID).call(this,i);O(this,ai).add(r,n),t.node_templates[r]=o}for(const[n,i]of O(this,Co).getComponentEntities.entries()){const r=O(this,ai).getKey(n),o=t.node_templates[r];if(i.getEndpointEntities.length>0){o.requirements=[];for(const s of i.getEndpointEntities){const a=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,s.getName));let l=ut(this,bb,PD).call(this,s);for(const u of s.getDataAggregateEntities){let f=O(this,ai).getKey(u.data.getId);l.requirements||(l.requirements=[]),l.requirements.push({uses_data:f})}O(this,ai).add(a,s.getId),t.node_templates[a]=l,o.requirements.push({provides_endpoint:{capability:"Endpoint",node:a,relationship:"cna-modeling.relationships.Provides.Endpoint"}})}}if(i.getExternalEndpointEntities.length>0){o.requirements||(o.requirements=[]);for(const s of i.getExternalEndpointEntities){const a=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,s.getName));let l=ut(this,_b,OD).call(this,s);for(const u of s.getDataAggregateEntities){let f=O(this,ai).getKey(u.data.getId);l.requirements||(l.requirements=[]),l.requirements.push({uses_data:f})}O(this,ai).add(a,s.getId),t.node_templates[a]=l,o.requirements.push({provides_external_endpoint:{capability:"Endpoint.Public",node:a,relationship:"cna-modeling.relationships.Provides.Endpoint"}})}}if(i.getDataAggregateEntities.length>0){o.requirements||(o.requirements=[]);for(const s of i.getDataAggregateEntities){const a=O(this,Ir).ensureUniqueness(`${r}_uses_${O(this,ai).getKey(s.data.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.DataAggregate",metadata:Ks(s.relation.getMetaData)};s.relation.getProperties().length>0&&(l.properties=ut(this,hr,Qr).call(this,s.relation.getProperties())),t.relationship_templates[a]=l,o.requirements.push({uses_data:{node:O(this,ai).getKey(s.data.getId),relationship:a}})}}if(i.getBackingDataEntities.length>0){o.requirements||(o.requirements=[]);for(const s of i.getBackingDataEntities){const a=O(this,Ir).ensureUniqueness(`${r}_uses_${O(this,ai).getKey(s.backingData.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.BackingData",metadata:Ks(s.relation.getMetaData)};s.relation.getProperties().length>0&&(l.properties=ut(this,hr,Qr).call(this,s.relation.getProperties())),t.relationship_templates[a]=l,o.requirements.push({uses_backing_data:{node:O(this,ai).getKey(s.backingData.getId),relationship:a}})}}i.getProxiedBy&&(o.requirements||(o.requirements=[]),o.requirements.push({proxied_by:{node:O(this,ai).getKey(i.getProxiedBy.getId),relationship:"cna-modeling.relationships.ProxiedBy.BackingService"}}))}for(const[n,i]of O(this,Co).getDeploymentMappingEntities.entries()){const r=O(this,ai).getKey(i.getUnderlyingInfrastructure.getId),o=O(this,ai).getKey(i.getDeployedEntity.getId),s=O(this,Ir).ensureUniqueness(`${r}_hosts_${o}`);let a={type:N0},l=ut(this,hr,Qr).call(this,i.getProperties());ut(this,ph,jy).call(this,l)&&(a.properties=l),O(this,ai).add(s,n),t.relationship_templates[s]=a;let u=t.node_templates[o];u.requirements||(u.requirements=[]),u.requirements.push({host:{node:r,relationship:s}})}for(const[n,i]of O(this,Co).getLinkEntities.entries()){const r=O(this,ai).getKey(i.getTargetEndpoint.getId),o=O(this,ai).getKey(i.getSourceEntity.getId),s=O(this,Ir).ensureUniqueness(`${o}_linksTo_${r}`);let a={type:bC},l=ut(this,hr,Qr).call(this,i.getProperties());ut(this,ph,jy).call(this,l)&&(a.properties=l),O(this,ai).add(s,n),t.relationship_templates[s]=a;let u=t.node_templates[o];u.requirements||(u.requirements=[]),u.requirements.push({endpoint_link:{node:r,relationship:s}})}for(const[n,i]of O(this,Co).getRequestTraceEntities.entries()){const r=O(this,Ir).ensureUniqueness(ut(this,Js,Ll).call(this,i.getName));let o=ut(this,xb,LD).call(this,i,O(this,Co),O(this,ai));t.node_templates[r]=o}return O(this,fh).service_template=t,O(this,fh)}}Ir=new WeakMap,ai=new WeakMap,Co=new WeakMap,fh=new WeakMap,Js=new WeakSet,Ll=function(t){return t.trim().replace(yY,"_").replace(vY,"_").replace(bY,"_").toLocaleLowerCase()},hr=new WeakSet,Qr=function(t){let n={};for(const i of t)n[i.getKey]=i.value;return n},gb=new WeakSet,ED=function(t){return{type:Dv,metadata:Ks(t.getMetaData),capabilities:{provides_data:{}}}},mb=new WeakSet,AD=function(t){let n={type:kv,metadata:Ks(t.getMetaData),capabilities:{provides_data:{}}};return t.getProperties().length>0&&(n.properties=ut(this,hr,Qr).call(this,t.getProperties())),n},yb=new WeakSet,kD=function(t){let n={type:Nv,metadata:Ks(t.getMetaData)};if(t.getProperties().length>0&&(n.properties=ut(this,hr,Qr).call(this,t.getProperties())),t.getArtifacts.size>0){n.artifacts={};for(const[i,r]of t.getArtifacts.entries())n.artifacts[i]=r.getAsSimpleObject("")}return n},vb=new WeakSet,ID=function(t){let i={type:(()=>{switch(t.constructor){case Zl:return Rv;case Xc:return Lv;case Xa:return Bv;case Ko:default:return Ov}})(),metadata:Ks(t.getMetaData)},r=ut(this,hr,Qr).call(this,t.getProperties());if(ut(this,ph,jy).call(this,r)&&(i.properties=r),t.getArtifacts.size>0){i.artifacts={};for(const[o,s]of t.getArtifacts.entries())i.artifacts[o]=s.getAsSimpleObject("")}return i},bb=new WeakSet,PD=function(t){let n=Ri(vD.properties).map(o=>o.getKey),i={type:Iv,metadata:Ks(t.getMetaData),properties:ut(this,hr,Qr).call(this,t.getProperties().filter(o=>n.includes(o.getKey))),capabilities:{}},r=Ri(bD.properties).map(o=>o.getKey);return i.capabilities.endpoint={properties:ut(this,hr,Qr).call(this,t.getProperties().filter(o=>r.includes(o.getKey)))},i},_b=new WeakSet,OD=function(t){let n=Ri(_D.properties).map(o=>o.getKey),i={type:Pv,metadata:Ks(t.getMetaData),properties:ut(this,hr,Qr).call(this,t.getProperties().filter(o=>n.includes(o.getKey))),capabilities:{}},r=Ri(xD.properties).map(o=>o.getKey);return i.capabilities.external_endpoint={properties:ut(this,hr,Qr).call(this,t.getProperties().filter(o=>r.includes(o.getKey)))},i},xb=new WeakSet,LD=function(t,n,i){let r={type:Fv,metadata:Ks(t.getMetaData),properties:ut(this,hr,Qr).call(this,t.getProperties())};t.getExternalEndpoint&&(r.properties.referred_endpoint=i.getKey(t.getExternalEndpoint.getId));let o=new Set,s=new Set;for(const a of t.getLinks){o.add(i.getKey(a.getId)),s.add(i.getKey(a.getSourceEntity.getId));let l=n.searchComponentOfEndpoint(a.getTargetEndpoint.getId);l&&s.add(i.getKey(l.getId))}return r.properties.involved_links=[...o],r.properties.nodes=[...s],r},ph=new WeakSet,jy=function(t){for(const n in t)if(Object.hasOwn(t,n)&&t[n])return!0;return!1};const DD=[hC,$r];function Ex(){return DD.flatMap(e=>Object.entries(e.artifact_types).map(([t,n])=>t))}var Hl,Vl,Gl,Wl,jl,Kl,Yl,Xl;class $v{constructor(t,n,i,r,o,s,a,l){Ce(this,Hl,void 0);Ce(this,Vl,void 0);Ce(this,Gl,void 0);Ce(this,Wl,void 0);Ce(this,jl,void 0);Ce(this,Kl,void 0);Ce(this,Yl,void 0);Ce(this,Xl,void 0);De(this,Hl,t),De(this,Vl,n),De(this,Gl,i),De(this,Wl,r),De(this,jl,o),De(this,Kl,s),De(this,Yl,a),De(this,Xl,l)}getType(){return O(this,Hl)}getFile(){return O(this,Vl)}getRepository(){return O(this,Gl)}getDescription(){return O(this,Wl)}getDeployPath(){return O(this,jl)}getArtifactVersion(){return O(this,Kl)}getChecksum(){return O(this,Yl)}getChecksumAlgorithm(){return O(this,Xl)}setType(t){De(this,Hl,t)}setFile(t){De(this,Vl,t)}setRepository(t){De(this,Gl,t)}setDescription(t){De(this,Wl,t)}setDeployPath(t){De(this,jl,t)}setArtifactVersion(t){De(this,Kl,t)}setChecksum(t){De(this,Yl,t)}setChecksumAlgorithm(t){De(this,Xl,t)}getAsSimpleObject(t){return t?{key:t,type:O(this,Hl),file:O(this,Vl),repository:O(this,Gl),description:O(this,Wl),deploy_path:O(this,jl),artifact_version:O(this,Kl),checksum:O(this,Yl),checksum_algorithm:O(this,Xl)}:{type:O(this,Hl),file:O(this,Vl),repository:O(this,Gl),description:O(this,Wl),deploy_path:O(this,jl),artifact_version:O(this,Kl),checksum:O(this,Yl),checksum_algorithm:O(this,Xl)}}}Hl=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,Wl=new WeakMap,jl=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Xl=new WeakMap;const xY=new RegExp(/_/g),wY=new RegExp(/^./g),CY=new RegExp(/(\s)(.)/g);var Xt,wn,mg,fr,To,gs,wb,ND;class TY{constructor(t,n){Ce(this,To);Ce(this,wb);Ce(this,Xt,new TD);Ce(this,wn,void 0);Ce(this,mg,void 0);Ce(this,fr,void 0);De(this,mg,t),De(this,fr,O(this,mg).service_template),De(this,wn,new Pw(n))}convert(){let t=new Map;for(const[n,i]of Object.entries(O(this,fr).node_templates)){let r=Uo();switch(O(this,Xt).add(n,r),i.type){case Dv:let o=new mC(O(this,Xt).getId(n),ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(o);break;case kv:let s=new dC(O(this,Xt).getId(n),ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(s);break;case Nv:let a=new Pd(O(this,Xt).getId(n),ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(a);break;case Iv:let l=new L0(O(this,Xt).getId(n),ut(this,To,gs).call(this,n),Ar(i.metadata));t.set(O(this,Xt).getId(n),l);break;case Pv:let u=new D0(O(this,Xt).getId(n),ut(this,To,gs).call(this,n),Ar(i.metadata));t.set(O(this,Xt).getId(n),u);break;case Rv:let f=new Zl(r,ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(f);break;case Lv:let d=new Xc(r,ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(d);break;case Bv:let m=new Xa(r,ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(m);break;case Ov:let b=new Ko(r,ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(b);break;case Fv:let x=new CC(r,ut(this,To,gs).call(this,n),Ar(i.metadata));O(this,wn).addEntity(x);break}}for(const[n,i]of Object.entries(O(this,fr).node_templates))if(i.type===Dv){let r=O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(n));if(i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s)}else if(i.type===kv){let r=O(this,wn).getBackingDataEntities.get(O(this,Xt).getId(n));if(i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s)}for(const[n,i]of Object.entries(O(this,fr).node_templates))if(i.type===Nv){let r=O(this,wn).getInfrastructureEntities.get(O(this,Xt).getId(n));if(i.requirements){for(const o of i.requirements)for(const[s,a]of Object.entries(o))if(s==="uses_backing_data"){if(typeof a=="string")r.addBackingDataEntity(O(this,wn).getBackingDataEntities.get(O(this,Xt).getId(a)),new bd(`${r.getId}_uses_backing_data_${O(this,Xt).getId(a)}`,Ys()));else if(typeof a=="object"&&a.node&&a.relationship&&typeof a.relationship=="string"){let l=O(this,fr).relationship_templates[a.relationship],u=l.metadata?Ar(l.metadata):Ys(),f=new bd(a.relationship,u);for(const[d,m]of Object.entries(l.properties))f.setPropertyValue(d,m);r.addBackingDataEntity(O(this,wn).getBackingDataEntities.get(O(this,Xt).getId(a.node)),f)}}else if(s==="host"&&typeof a!="string"){let l=Uo(),u=O(this,wn).getInfrastructureEntities.get(O(this,Xt).getId(a.node)),f=new Mv(l,r,u);O(this,Xt).add(a.relationship,f.getId),O(this,wn).addEntity(f)}}if(i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s);if(i.artifacts)for(const[o,s]of Object.entries(i.artifacts))r.setArtifact(o,new $v(s.type?s.type:"",s.file?s.file:"",s.repository?s.repository:"",s.description?s.description:"",s.deploy_path?s.deploy_path:"",s.artifact_version?s.artifact_version:"",s.checksum?s.checksum:"",s.checksum_algorithm?s.checksum_algorithm:""))}for(const[n,i]of Object.entries(O(this,fr).node_templates))if(i.type===Iv){let r=t.get(O(this,Xt).getId(n));if(i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s);if(i.capabilities&&i.capabilities.endpoint&&i.capabilities.endpoint.properties)for(const[o,s]of Object.entries(i.capabilities.endpoint.properties))r.setPropertyValue(o,s);if(i.requirements){for(const o of i.requirements)for(const[s,a]of Object.entries(o))if(s==="uses_data"){if(typeof a=="string")r.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(a)),new $c(`${r.getId}_uses_data_${O(this,Xt).getId(a)}`,Ys()));else if(typeof a=="object"&&a.node&&a.relationship&&typeof a.relationship=="string"){let l=O(this,fr).relationship_templates[a.relationship],u=l.metadata?Ar(l.metadata):Ys(),f=new $c(a.relationship,u);for(const[d,m]of Object.entries(l.properties))f.setPropertyValue(d,m);r.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(a.node)),f)}}}}else if(i.type===Pv){let r=t.get(O(this,Xt).getId(n));if(i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s);if(i.capabilities&&i.capabilities.external_endpoint&&i.capabilities.external_endpoint.properties)for(const[o,s]of Object.entries(i.capabilities.external_endpoint.properties))r.setPropertyValue(o,s);if(i.requirements){for(const o of i.requirements)for(const[s,a]of Object.entries(o))if(s==="uses_data"){if(typeof a=="string")r.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(a)),new $c(`${r.getId}_uses_data_${O(this,Xt).getId(a)}`,Ys()));else if(typeof a=="object"&&a.node&&a.relationship&&typeof a.relationship=="string"){let l=O(this,fr).relationship_templates[a.relationship],u=l.metadata?Ar(l.metadata):Ys(),f=new $c(a.relationship,u);for(const[d,m]of Object.entries(l.properties))f.setPropertyValue(d,m);r.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(a.node)),f)}}}}for(const[n,i]of Object.entries(O(this,fr).node_templates))if(i.type===Rv||i.type===Lv||i.type===Bv||i.type===Ov){let r=O(this,wn).getComponentEntities.get(O(this,Xt).getId(n));if(ut(this,wb,ND).call(this,i,r,t),i.properties)for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s);if(i.artifacts)for(const[o,s]of Object.entries(i.artifacts))r.setArtifact(o,new $v(s.type?s.type:"",s.file?s.file:"",s.repository?s.repository:"",s.description?s.description:"",s.deploy_path?s.deploy_path:"",s.artifact_version?s.artifact_version:"",s.checksum?s.checksum:"",s.checksum_algorithm?s.checksum_algorithm:""))}for(const[n,i]of Object.entries(O(this,fr).relationship_templates))if(i.type===bC){if(i.properties){const r=O(this,wn).getLinkEntities.get(O(this,Xt).getId(n));for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s)}}else if(i.type===N0&&i.properties){const r=O(this,wn).getDeploymentMappingEntities.get(O(this,Xt).getId(n));for(const[o,s]of Object.entries(i.properties))r.setPropertyValue(o,s)}for(const[n,i]of Object.entries(O(this,fr).node_templates))if(i.type===Fv){let r=O(this,wn).getRequestTraceEntities.get(O(this,Xt).getId(n)),o=i.properties&&i.properties.referred_endpoint?t.get(O(this,Xt).getId(i.properties.referred_endpoint)):null;o&&(r.setExternalEndpoint=o);let s=i.properties&&i.properties.involved_links?i.properties.involved_links.map(a=>O(this,wn).getLinkEntities.get(O(this,Xt).getId(a))):[];if(r.setLinks=s,i.properties)for(const[a,l]of Object.entries(i.properties))switch(a){case"involved_links":r.setPropertyValue(a,l.map(u=>O(this,Xt).getId(u)));break;case"referred_endpoint":r.setPropertyValue(a,O(this,Xt).getId(l));break;case"nodes":r.setPropertyValue(a,l.map(u=>O(this,Xt).getId(u)));break;default:r.setPropertyValue(a,l)}}return O(this,wn)}}Xt=new WeakMap,wn=new WeakMap,mg=new WeakMap,fr=new WeakMap,To=new WeakSet,gs=function(t){return t.replace(xY," ").replace(wY,n=>n.toUpperCase()).replace(CY,(n,i,r)=>`${i}${r.toUpperCase()}`)},wb=new WeakSet,ND=function(t,n,i){if(t.requirements)for(const r of t.requirements)for(const[o,s]of Object.entries(r))switch(o){case"uses_data":if(typeof s=="string")n.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(s)),new $c(`${n.getId}_uses_data_${O(this,Xt).getId(s)}`,Ys()));else if(typeof s=="object"&&s.node&&s.relationship&&typeof s.relationship=="string"){let a=O(this,fr).relationship_templates[s.relationship],l=a.metadata?Ar(a.metadata):Ys(),u=new $c(s.relationship,l);for(const[f,d]of Object.entries(a.properties))u.setPropertyValue(f,d);n.addDataAggregateEntity(O(this,wn).getDataAggregateEntities.get(O(this,Xt).getId(s.node)),u)}break;case"uses_backing_data":if(typeof s=="string")n.addBackingDataEntity(O(this,wn).getBackingDataEntities.get(O(this,Xt).getId(s)),new bd(`${n.getId}_uses_backing_data_${O(this,Xt).getId(s)}`,Ys()));else if(typeof s=="object"&&s.node&&s.relationship&&typeof s.relationship=="string"){let a=O(this,fr).relationship_templates[s.relationship],l=a.metadata?Ar(a.metadata):Ys(),u=new bd(s.relationship,l);for(const[f,d]of Object.entries(a.properties))u.setPropertyValue(f,d);n.addBackingDataEntity(O(this,wn).getBackingDataEntities.get(O(this,Xt).getId(s.node)),u)}break;case"provides_endpoint":typeof s=="string"||n.addEndpoint(i.get(O(this,Xt).getId(s.node)));break;case"provides_external_endpoint":typeof s=="string"||n.addEndpoint(i.get(O(this,Xt).getId(s.node)));break;case"host":if(typeof s!="string"){let a=Uo(),l=new Mv(a,n,O(this,wn).getInfrastructureEntities.get(O(this,Xt).getId(s.node)));O(this,Xt).add(s.relationship,a),O(this,wn).addEntity(l)}break;case"endpoint_link":if(typeof s!="string"){if(typeof s=="object"){let a=Uo(),l=new xC(a,n,i.get(O(this,Xt).getId(s.node)));O(this,Xt).add(s.relationship,a),O(this,wn).addEntity(l)}}break;case"proxied_by":typeof s=="string"||typeof s=="object"&&(n.setProxiedBy=O(this,wn).getComponentEntities.get(O(this,Xt).getId(s.node)));break}};function SY(e){return new _Y(e,"0.1.0").convert()}function EY(e,t){const n=HK(t),i=e.replace(/\..*$/g,"");return new TY(n,i).convert()}const ga="sans-serif",Yh="static/icons/magnifying-glass-plus-solid.svg";function es(e){var t={};return e.map(n=>{t[n.getKey]=n.value}),t}const EC=mi.define("qualityModel.Component",{defaults:{type:"qualityModel.Component",size:{width:160,height:80},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:160,height:80},attrs:{body:{width:"calc(l)",height:"calc(0.5*l)",rx:2,ry:2,strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"10%",textWrap:{text:"Component"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0018 * h))",refX:"50%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:_e.COMPONENT,properties:es(Ya()),artifacts:[]}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),AC=mi.define("qualityModel.Service",{defaults:{type:"qualityModel.Service",size:{width:140,height:120},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:140,height:120},attrs:{body:{points:"calc(0.25 * l),0 calc(0.75 * l),0 calc(l),calc(0.4 * l) calc(0.75 * l),calc(0.8 * l) calc(0.25 * l),calc(0.8 * l) 0,calc(0.4 * l)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"10%",textWrap:{width:"80%",text:"Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0014 * h))",refX:"50%",refY:"95%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:_e.SERVICE,properties:es(Ya().concat(TC())),artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),kC=mi.define("qualityModel.BackingService",{defaults:{type:"qualityModel.BackingService",size:{width:200,height:120},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:200,height:120},attrs:{body:{points:"calc(0.5 * l),0 calc(l),calc(0.3 * l) calc(0.5 * l),calc(0.6 * l) 0,calc(0.3 * l)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"40%",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0013 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:_e.BACKING_SERVICE,properties:es(Ya().concat(pC())),artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),IC=SL.define("qualityModel.StorageBackingService",{defaults:{type:"qualityModel.StorageBackingService",size:{width:160,height:140},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:160,height:140},attrs:{body:{strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},top:{strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refY:"-85%",textWrap:{width:"95%",text:"Storage Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0011 * h))",refX:"49%",refY:"95%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:_e.STORAGE_BACKING_SERVICE,properties:es(Ya().concat(SC())),artifacts:[]}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),PC=tC.define("qualityModel.Endpoint",{defaults:{type:"qualityModel.Endpoint",size:{width:50,height:50},fontSize:11,fill:"white",stroke:"black",strokeWidth:2},size:{width:50,height:50},attrs:{body:{fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",textWrap:{width:"90%",text:"Endpoint"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:_e.ENDPOINT,embedded:"",properties:es(Tp())}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),OC=tC.define("qualityModel.ExternalEndpoint",{defaults:{type:"qualityModel.ExternalEndpoint",size:{width:50,height:50},fontSize:11,fill:"black",stroke:"black",strokeWidth:2},size:{width:50,height:50},attrs:{body:{fill:"black",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{fill:"white",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",textWrap:{width:"90%",text:"External Endpoint"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:_e.EXTERNAL_ENDPOINT,embedded:"",properties:es(Tp().concat(fC()))}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),LC=mi.define("qualityModel.Infrastructure",{defaults:{type:"qualityModel.Infrastructure",size:{width:180,height:90},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:180,height:90},attrs:{body:{points:"calc(0.15 * w),0 calc(0.85 * w),0 calc(w),calc(h) 0,calc(h)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",y:"calc(y + 10)",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0017 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},entityTypeHidden:!1,collapsed:!1,entity:{type:_e.INFRASTRUCTURE,properties:es(yC()),artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),DC=mi.define("qualityModel.RequestTrace",{defaults:{type:"qualityModel.RequestTrace",size:{width:190,height:76},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:190,height:76},attrs:{body:{points:"0,0 calc(0.8 * l),0 calc(l),calc(0.2 * l) calc(0.8 * l),calc(0.4 * l) 0,calc(0.4 * l) calc(0.2 * l),calc(0.2 * l)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"47%",refY:"10%",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:Yh,class:"expandEntityIcon",transform:"scale(calc(0.0021 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"visible",event:"requestTrace:icon:pointerclick"}},entityTypeHidden:!1,collapsed:!0,entity:{type:_e.REQUEST_TRACE,properties:es(wC())}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),am=k0.define("qualityModel.Link",{defaults:{type:"qualityModel.Link"},attrs:{root:{title:"Link",visibility:"visible"},line:{stroke:"black",strokeDasharray:"none",strokeWidth:2,strokeLineJoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}}},entityTypeHidden:!1,entity:{type:_e.LINK,properties:es(_C())}}),lm=k0.define("qualityModel.DeploymentMapping",{defaults:{type:"qualityModel.DeploymentMapping"},attrs:{root:{title:"Deployment Mapping",visibility:"visible"},line:{stroke:"black",strokeDasharray:4,strokeLineJoin:"round",targetMarker:"none",markerEnd:"none"}},entityTypeHidden:!1,entity:{type:_e.DEPLOYMENT_MAPPING,properties:es(vC())}}),NC=mi.define("qualityModel.DataAggregate",{defaults:{type:"qualityModel.DataAggregate",size:{width:50,height:25},fontSize:13,fill:"white",stroke:"black",strokeWidth:2},size:{width:50,height:25},attrs:{body:{rx:"calc(l)",ry:"calc(0.5 * l)",cx:"calc(l)",cy:"calc(0.5 * l)",fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",refX:"50%",refY:"50%",textWrap:{text:"Data Aggregate"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:_e.DATA_AGGREGATE,embedded:"",assignedFamily:"",properties:es(gC())}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),MC=mi.define("qualityModel.BackingData",{defaults:{type:"qualityModel.BackingData",size:{width:100,height:60},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:100,height:60},attrs:{body:{d:"M 0 0 L calc(0.7 * l) 0 Q calc(l) 0 calc(l) calc(0.3 * l) Q calc(l) calc(0.6 * l) calc(0.7 * l) calc(0.6 * l) L 0 calc(0.6 * l) Z",fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{ref:"body",fill:"black",fontFamily:ga,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",refX:"50%",refY:"50%",textWrap:{text:"Backing Data"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:_e.BACKING_DATA,embedded:"",assignedFamily:"",properties:es(uC())}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),cm=Object.assign({qualityModel:{Component:EC,Service:AC,BackingService:kC,StorageBackingService:IC,Endpoint:PC,ExternalEndpoint:OC,Link:am,Infrastructure:LC,DeploymentMapping:lm,RequestTrace:DC,DataAggregate:NC,BackingData:MC},shapes:EL});var qn,Pt,Ha,r1,gh,Ky,Cb,MD,Tb,FD,Sb,RD,Eb,BD,Ab,$D,kb,qD,Ib,zD,Pb,UD,Ob,HD,yg,Dw,mh,Yy,Lb,VD,Db,GD,Nb,WD,Mb,jD,pr,Zr,Fb,KD,Rb,YD,Bb,XD,$b,JD,qb,QD,zb,ZD,Ub,eN,Hb,tN,Vb,nN,Gb,iN,Wb,rN,vg,Nw,jb,oN,Kb,sN,Yb,aN;class Lw{constructor(t){Ce(this,gh);Ce(this,Cb);Ce(this,Tb);Ce(this,Sb);Ce(this,Eb);Ce(this,Ab);Ce(this,kb);Ce(this,Ib);Ce(this,Pb);Ce(this,Ob);Ce(this,yg);Ce(this,mh);Ce(this,Lb);Ce(this,Db);Ce(this,Nb);Ce(this,Mb);Ce(this,pr);Ce(this,Fb);Ce(this,Rb);Ce(this,Bb);Ce(this,$b);Ce(this,qb);Ce(this,zb);Ce(this,Ub);Ce(this,Hb);Ce(this,Vb);Ce(this,Gb);Ce(this,Wb);Ce(this,vg);Ce(this,jb);Ce(this,Kb);Ce(this,Yb);Ce(this,qn,void 0);Ce(this,Pt,void 0);Ce(this,Ha,new Map);Ce(this,r1,new Map);De(this,qn,t),De(this,Pt,new Pw("test")),this.getSystemEntity=this.getSystemEntity.bind(this),this.overwriteSystemEntity=this.overwriteSystemEntity.bind(this),this.convertToGraph=this.convertToGraph.bind(this),this.convertToJson=this.convertToJson.bind(this),this.convertToCustomTosca=this.convertToCustomTosca.bind(this),this.loadFromCustomTosca=this.loadFromCustomTosca.bind(this),this.loadFromJson=this.loadFromJson.bind(this),this.getGraph=this.getGraph.bind(this),this.validateModeledSystem=this.validateModeledSystem.bind(this)}getSystemEntity(){return ut(this,gh,Ky).call(this),O(this,Pt)}getGraph(){return O(this,qn)}convertToCustomTosca(){let t=ut(this,yg,Dw).call(this);O(this,Pt).resetAllIncludedSystemEntities(),ut(this,gh,Ky).call(this);let n=ut(this,mh,Yy).call(this),i=SY(O(this,Pt));try{return{tosca:VK(i,{styles:{"!!null":"empty"}}),errors:t.concat(n)}}catch(r){console.error(r)}}loadFromCustomTosca(t,n,i){let r=new Pw("imported");try{r=EY(n,t)}catch(o){return console.trace(),console.log(o),{createdCells:[],error:o.toString()}}if(i==="replace")this.overwriteSystemEntity(r);else if(i==="merge"){for(const[o,s]of r.getDataAggregateEntities.entries()){if(O(this,Pt).getDataAggregateEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}for(const[o,s]of r.getBackingDataEntities.entries()){if(O(this,Pt).getBackingDataEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}for(const[o,s]of r.getInfrastructureEntities.entries()){if(O(this,Pt).getInfrastructureEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}for(const[o,s]of r.getComponentEntities.entries()){if(O(this,Pt).getComponentEntities.get(o)){let a=Uo();s.setId=a}for(const a of s.getEndpointEntities)O(this,Pt).searchComponentOfEndpoint(a.getId)&&(a.setId=Uo());for(const a of s.getExternalEndpointEntities);O(this,Pt).addEntity(s)}for(const[o,s]of r.getDeploymentMappingEntities.entries()){if(O(this,Pt).getDeploymentMappingEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}for(const[o,s]of r.getLinkEntities.entries()){if(O(this,Pt).getLinkEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}for(const[o,s]of r.getRequestTraceEntities.entries()){if(O(this,Pt).getRequestTraceEntities.get(o)){let a=Uo();s.setId=a}O(this,Pt).addEntity(s)}}return this.convertToGraph(),O(this,qn).trigger("reloaded"),{createdCells:O(this,qn).getCells(),error:null}}convertToJson(){return O(this,qn).toJSON()}loadFromJson(t,n,i){let r={};try{if(r=JSON.parse(t),i==="replace")O(this,qn).clear(),O(this,qn).fromJSON(r);else if(i==="merge"){let o=new Du({},{cellNamespace:cm});o.fromJSON(r),o.getCells().forEach(s=>{O(this,qn).addCell(s)})}}catch(o){return{createdCells:[],error:o.toString()}}return O(this,qn).trigger("reloaded"),O(this,Pt).setSystemName=n.replace(/\..*$/g,""),{createdCells:O(this,qn).getCells(),error:null}}validateModeledSystem(){let t=ut(this,yg,Dw).call(this);O(this,Pt).resetAllIncludedSystemEntities(),ut(this,gh,Ky).call(this);let n=ut(this,mh,Yy).call(this);return t.concat(n)}overwriteSystemEntity(t){O(this,Pt).setSystemName=t.getSystemName,O(this,Pt).resetAllIncludedSystemEntities(),O(this,Pt).addEntities(Array.from(t.getDataAggregateEntities.values())),O(this,Pt).addEntities(Array.from(t.getBackingDataEntities.values())),O(this,Pt).addEntities(Array.from(t.getInfrastructureEntities.values())),O(this,Pt).addEntities(Array.from(t.getComponentEntities.values())),O(this,Pt).addEntities(Array.from(t.getDeploymentMappingEntities.values())),O(this,Pt).addEntities(Array.from(t.getLinkEntities.values())),O(this,Pt).addEntities(Array.from(t.getRequestTraceEntities.values()))}convertToGraph(){O(this,qn).clear();let t=[],n=[];for(const[i,r]of O(this,Pt).getInfrastructureEntities){let o=ut(this,Fb,KD).call(this,r);O(this,qn).addCell(o),t.push(o)}for(const[i,r]of O(this,Pt).getInfrastructureEntities){let o=O(this,qn).getCell(i);ut(this,Rb,YD).call(this,r,o);let s=0;for(const a of r.getBackingDataEntities){let l=ut(this,vg,Nw).call(this,a,o,s);s++,O(this,qn).addCell(l),t.push(l)}}for(const[i,r]of O(this,Pt).getComponentEntities)switch(r.constructor.name){case Zl.name:let o=ut(this,Bb,XD).call(this,r);O(this,qn).addCell(o);break;case Xc.name:let s=ut(this,qb,QD).call(this,r);O(this,qn).addCell(s);break;case Xa.name:let a=ut(this,Ub,eN).call(this,r);O(this,qn).addCell(a);break;case Ko.name:let l=ut(this,Vb,nN).call(this,r);O(this,qn).addCell(l);break}for(const[i,r]of O(this,Pt).getComponentEntities){let o=O(this,qn).getCell(i);r.constructor.name===Zl.name?(ut(this,$b,JD).call(this,r,o),t.push(o)):r.constructor.name===Xc.name?(ut(this,zb,ZD).call(this,r,o),t.push(o)):r.constructor.name===Xa.name?(ut(this,Hb,tN).call(this,r,o),t.push(o)):r.constructor.name===Ko.name&&(ut(this,Gb,iN).call(this,r,o),t.push(o));let s=0;for(const a of r.getDataAggregateEntities){let l=ut(this,Wb,rN).call(this,a,o,s);s++,O(this,qn).addCell(l),t.push(l)}s=0;for(const a of r.getBackingDataEntities){let l=ut(this,vg,Nw).call(this,a,o,s);s++,O(this,qn).addCell(l),t.push(l)}for(const a of r.getEndpointEntities){let l=ut(this,jb,oN).call(this,a,o);O(this,qn).addCell(l),t.push(l)}for(const a of r.getExternalEndpointEntities){let l=ut(this,Kb,sN).call(this,a,o);O(this,qn).addCell(l),t.push(l)}}for(const[i,r]of O(this,Pt).getDeploymentMappingEntities){let o=new lm({id:i});o.source(t.find(s=>s.id.toString()===r.getDeployedEntity.getId)),o.target(t.find(s=>s.id.toString()===r.getUnderlyingInfrastructure.getId));for(const s of wo.DeploymentMapping.specificProperties)s.jointJsConfig.modelPath&&o.prop(s.jointJsConfig.modelPath,r.getProperties().find(a=>a.getKey===s.providedFeature).value);o.addTo(O(this,qn)),n.push(o)}for(const[i,r]of O(this,Pt).getLinkEntities){let o=new am({id:i});o.source(t.find(s=>s.id.toString()===r.getSourceEntity.getId)),o.target(t.find(s=>s.id.toString()===r.getTargetEndpoint.getId));for(const s of wo.Link.specificProperties)s.jointJsConfig.modelPath&&o.prop(s.jointJsConfig.modelPath,r.getProperties().find(a=>a.getKey===s.providedFeature).value);o.addTo(O(this,qn)),n.push(o)}for(const[i,r]of O(this,Pt).getRequestTraceEntities){let o=ut(this,Yb,aN).call(this,r,t,n);O(this,qn).addCell(o),t.push(o)}return t}}qn=new WeakMap,Pt=new WeakMap,Ha=new WeakMap,r1=new WeakMap,gh=new WeakSet,Ky=function(){let t=O(this,qn).getElements(),n=t.filter(o=>o.prop("entity/type")===_e.DATA_AGGREGATE||o.prop("entity/type")===_e.BACKING_DATA);for(const o of n)ut(this,Cb,MD).call(this,o);let i=t.filter(o=>o.prop("entity/type")===_e.COMPONENT||o.prop("entity/type")===_e.SERVICE||o.prop("entity/type")===_e.BACKING_SERVICE||o.prop("entity/type")===_e.STORAGE_BACKING_SERVICE||o.prop("entity/type")===_e.INFRASTRUCTURE);for(const o of i){let s;switch(o.prop("entity/type")){case _e.COMPONENT:case _e.SERVICE:case _e.BACKING_SERVICE:case _e.STORAGE_BACKING_SERVICE:s=ut(this,kb,qD).call(this,o);break;case _e.INFRASTRUCTURE:s=ut(this,Pb,UD).call(this,o);break;default:throw new TypeError("Unsuitable Element provided! No corresponding Entity type is known for: "+JSON.stringify(o))}O(this,Pt).addEntity(s)}for(const o of i)switch(o.prop("entity/type")){case _e.COMPONENT:case _e.SERVICE:case _e.BACKING_SERVICE:case _e.STORAGE_BACKING_SERVICE:let s=O(this,Pt).getComponentEntities.get(o.id.toString());ut(this,Ib,zD).call(this,s,o);break;case _e.INFRASTRUCTURE:let a=O(this,Pt).getInfrastructureEntities.get(o.id.toString());ut(this,Ob,HD).call(this,a,o);break;default:throw new TypeError("Unsuitable Element provided! No corresponding Entity type is known for: "+JSON.stringify(o))}for(const o of O(this,qn).getLinks())ut(this,Tb,FD).call(this,o);let r=t.filter(o=>o.prop("entity/type")===_e.REQUEST_TRACE);for(const o of r)ut(this,Sb,RD).call(this,o);ut(this,mh,Yy).call(this)},Cb=new WeakSet,MD=function(t){let n;switch(t.prop("entity/type")){case _e.DATA_AGGREGATE:n=ut(this,Eb,BD).call(this,t),[...O(this,Pt).getDataAggregateEntities].filter(([i,r])=>r.getName===n.getName).length===0&&O(this,Pt).addEntity(n);break;case _e.BACKING_DATA:n=ut(this,Ab,$D).call(this,t),[...O(this,Pt).getBackingDataEntities].filter(([i,r])=>r.getName===n.getName).length===0&&O(this,Pt).addEntity(n);break;default:throw new TypeError("Unsuitable Data Element provided! No corresponding Data Entity type is known for: "+JSON.stringify(t))}},Tb=new WeakSet,FD=function(t){let n;switch(t.prop("entity/type")){case _e.LINK:n=ut(this,Db,GD).call(this,t);break;case _e.DEPLOYMENT_MAPPING:n=ut(this,Nb,WD).call(this,t);break;default:throw new TypeError("Unsuitable Link Element provided! No corresponding connection type is known for: "+JSON.stringify(t))}O(this,Pt).addEntity(n)},Sb=new WeakSet,RD=function(t){let n=ut(this,Mb,jD).call(this,t);O(this,Pt).addEntity(n)},Eb=new WeakSet,BD=function(t,n=!1){return new mC(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t))},Ab=new WeakSet,$D=function(t){const n=new dC(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t));for(let i of n.getProperties())i.value=t.prop("entity/properties/"+i.getKey);return n},kb=new WeakSet,qD=function(t){let n;switch(t.prop("entity/type")){case _e.SERVICE:n=new Zl(t.id.toString(),t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t));break;case _e.BACKING_SERVICE:n=new Xc(t.id.toString(),t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t));break;case _e.STORAGE_BACKING_SERVICE:n=new Xa(t.id.toString(),t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t));break;case _e.COMPONENT:default:n=new Ko(t.id.toString(),t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t))}return n},Ib=new WeakSet,zD=function(t,n){for(let o of t.getProperties())o.value=n.prop("entity/properties/"+o.getKey);let i=n.prop("entity/artifacts");for(const o of i){let s=new $v(o.type,o.file,o.repository,o.description,o.deploy_path,o.artifact_version,o.checksum,o.checksum_algorithm);t.setArtifact(o.key,s)}for(const o of n.getEmbeddedCells())switch(o.prop("entity/type")){case _e.ENDPOINT:case _e.EXTERNAL_ENDPOINT:const s=ut(this,Lb,VD).call(this,o,n,t);if(!s)break;t.addEndpoint(s);break;case _e.DATA_AGGREGATE:let a=o.attr("label/textWrap/text"),l=[...O(this,Pt).getDataAggregateEntities].filter(([d,m])=>m.getName===a);if(l.length>0){let d=new $c(o.id.toString(),ut(this,pr,Zr).call(this,o));for(let m of d.getProperties())m.value=o.prop("relationship/properties/"+m.getKey);t.addDataAggregateEntity(l[0][1],d)}else throw new Error(`Data Aggregate with name ${a} should be there, but could not be found in ${O(this,Pt).getDataAggregateEntities}`);break;case _e.BACKING_DATA:let u=o.attr("label/textWrap/text"),f=[...O(this,Pt).getBackingDataEntities].filter(([d,m])=>m.getName===u);if(f.length>0){let d=new bd(o.id.toString(),ut(this,pr,Zr).call(this,o));for(let m of d.getProperties())m.value=o.prop("relationship/properties/"+m.getKey);t.addBackingDataEntity(f[0][1],d)}else throw new Error(`Backing Data with name ${u} should be there, but could not be found in ${O(this,Pt).getBackingDataEntities}`);break}const r=n.prop("entity/properties/proxied_by");if(r){const o=[...O(this,Pt).getComponentEntities].find(([s,a])=>s===r);o?t.setProxiedBy=o[1]:console.log(`Backing Service ${r} not found`)}},Pb=new WeakSet,UD=function(t){return new Pd(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t))},Ob=new WeakSet,HD=function(t,n){for(let o of t.getProperties())o.value=n.prop("entity/properties/"+o.getKey);let i=n.prop("entity/artifacts");for(const o of i){let s=new $v(o.type,o.file,o.repository,o.description,o.deploy_path,o.artifact_version,o.checksum,o.checksum_algorithm);t.setArtifact(o.key,s)}const r=n.getEmbeddedCells();for(const o of r)switch(o.prop("entity/type")){case _e.BACKING_DATA:let s=o.attr("label/textWrap/text"),a=[...O(this,Pt).getBackingDataEntities].filter(([l,u])=>u.getName===s);if(a.length>0){let l=new bd(o.id.toString(),ut(this,pr,Zr).call(this,o));for(let u of l.getProperties())u.value=o.prop("relationship/properties/"+u.getKey);t.addBackingDataEntity(a[0][1],l)}else throw new Error(`Backing Data with name ${s} should be there, but could not be found in ${O(this,Pt).getBackingDataEntities}`);break}},yg=new WeakSet,Dw=function(){let t=[];return O(this,qn).getElements().forEach(n=>{switch(n.prop("entity/type")){case _e.ENDPOINT:n.isEmbedded()||t.push(`Endpoint ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case _e.EXTERNAL_ENDPOINT:n.isEmbedded()||t.push(`External Endpoint ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case _e.DATA_AGGREGATE:n.isEmbedded()||t.push(`Data Aggregate ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case _e.BACKING_DATA:n.isEmbedded()||t.push(`Data Aggregate ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break}}),t},mh=new WeakSet,Yy=function(){let t=[],n=new Map;for(const[r,o]of O(this,Pt).getDeploymentMappingEntities.entries())o.getDeployedEntity&&n.set(o.getDeployedEntity.getId,r);for(let[r,o]of O(this,Pt).getComponentEntities.entries())if(!n.has(r)){let s=(a=>{switch(a.constructor){case Zl:return"Service";case Xc:return"Backing Service";case Xa:return"Storage Backing Service";case Ko:default:return"Component"}})(o);t.push(`${s} ${o.getName} is not deployed on any infrastructure.`)}let i=new Map;for(let[r,o]of O(this,Pt).getComponentEntities.entries())o.getDataAggregateEntities.forEach(s=>{let a=i.get(s.data.getId);a?(a.push(s.relation),i.set(s.data.getId,a)):i.set(s.data.getId,[s.relation])});for(let[r,o]of O(this,Pt).getDataAggregateEntities.entries())i.get(r).some(s=>s.getProperties().find(a=>a.getKey==="usage_relation").value==="persistence")||t.push(`Data Aggregate ${o.getName} is not persisted by any entity.`);for(let[r,o]of O(this,Pt).getRequestTraceEntities.entries())o.getExternalEndpoint||t.push(`Request Trace ${o.getName} has no external endpoint to which it refers.`),o.getLinks.size===0&&t.push(`Request Trace ${o.getName} has no links added to it.`);return t},Lb=new WeakSet,VD=function(t,n,i){let r;switch(t.prop("entity/type")){case _e.EXTERNAL_ENDPOINT:r=new D0(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t));break;case _e.ENDPOINT:default:r=new L0(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t))}for(let o of r.getProperties())o.value=t.prop("entity/properties/"+o.getKey);if(t.prop("entity/properties/uses_data")){let o=t.prop("entity/properties/uses_data");for(const s of o){let a=this.getGraph().getCell(s);if(a){let l=a.attr("label/textWrap/text"),u=i.getDataAggregateEntities.find(f=>f.data.getName===l);r.addDataAggregateEntity(u.data,u.relation)}}}return r},Db=new WeakSet,GD=function(t){const n=t.getSourceElement(),i=t.getTargetElement();if(!n&&i){const a="There exists a Link that is missing its source entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,"Target: "+i.attr("label/textWrap/text"),"Link Source Entity",a);return O(this,Ha).set(t.id,l),null}if(!i&&n){const a="There exists a Link that is missing its target entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,"Source: "+n.attr("label/textWrap/text"),"Link Target Entity ",a);return O(this,Ha).set(t.id,l),null}if(!i&&!n){const a="There exists a Link that is missing its source and target entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,t.id,"Link Source and Target Entity",a);return O(this,Ha).set(t.id,l),null}const r=O(this,Pt).getComponentEntities.get(n.id);if(!i.getParentCell())throw new Error(`Cannot create a link to the Endpoint ${i}, because it is not embedded`);const o=O(this,Pt).getComponentEntities.get(i.getParentCell().id).getEndpointEntities.filter(a=>a.getId===i.id);if(o.length===0)throw new Error(`Could not find Endpoint for: ${i}`);let s=new xC(t.id,r,o[0]);for(let a of s.getProperties())a.value=t.prop("entity/properties/"+a.getKey);return s},Nb=new WeakSet,WD=function(t){const n=t.getSourceElement(),i=t.getTargetElement();if(!n&&i){const a="There exists a Deployment Mapping that is missing its source entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,"Target: "+i.attr("label/textWrap/text"),"Deployment Mapping Source Entity",a);return O(this,Ha).set(t.id,l),null}if(!i&&n){const a="There exists a Deployment Mapping that is missing its target entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,"Source: "+n.attr("label/textWrap/text"),"Deployment Mapping Target Entity",a);return O(this,Ha).set(t.id,l),null}if(!i&&!n){const a="There exists a Deployment Mapping that is missing its source and target entity.",l=new sd(_e.LINK,Bc.INVALID_MODEL_ENTIY,t.id,"Deployment Mapping Source and Target Entity",a);return O(this,Ha).set(t.id,l),null}let r=O(this,Pt).getInfrastructureEntities.get(i.id),o;if(n.prop("entity/type")===_e.INFRASTRUCTURE?o=O(this,Pt).getInfrastructureEntities.get(n.id):o=O(this,Pt).getComponentEntities.get(n.id),!r||!o)return null;const s=new Mv(t.id,o,r);for(let a of s.getProperties())a.value=t.prop("entity/properties/"+a.getKey);return s},Mb=new WeakSet,jD=function(t){const n=new CC(t.id,t.attr("label/textWrap/text"),ut(this,pr,Zr).call(this,t)),i=t.prop("entity/properties/referred_endpoint"),r=[...O(this,Pt).getComponentEntities].map(([a,l])=>l).flatMap(a=>a.getExternalEndpointEntities).find(a=>a.getId===i);r?n.setExternalEndpoint=r:console.log(`External Endpoint ${i} not found in any component`);const s=t.prop("entity/properties/involved_links").map(a=>O(this,Pt).getLinkEntities.get(a));n.setLinks=s;for(let a of n.getProperties())a.value=t.prop("entity/properties/"+a.getKey);return n},pr=new WeakSet,Zr=function(t){return{label:t.attr("label/textWrap/text"),fontSize:t.attr("label/fontSize"),size:{width:t.size().width,height:t.size().height},position:{xCoord:t.position().x,yCoord:t.position().y}}},Fb=new WeakSet,KD=function(t){return new LC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Infrastructure"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},Rb=new WeakSet,YD=function(t,n){for(const r of wo.Infrastructure.specificProperties)r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value);let i=[];for(const[r,o]of t.getArtifacts.entries())i.push(o.getAsSimpleObject(r));n.prop(Gc.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i)},Bb=new WeakSet,XD=function(t){return new AC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Service"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},$b=new WeakSet,JD=function(t,n){for(const r of wo.Service.specificProperties)switch(r.providedFeature){case"proxiedBy":t.getProxiedBy&&n.prop("entity/properties/proxied_by",t.getProxiedBy.getId);break;default:r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}let i=[];for(const[r,o]of t.getArtifacts.entries())i.push(o.getAsSimpleObject(r));return n.prop(Gc.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i),n},qb=new WeakSet,QD=function(t){return new kC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},zb=new WeakSet,ZD=function(t,n){for(const r of wo.Service.specificProperties)switch(r.providedFeature){case"proxiedBy":t.getProxiedBy&&n.prop("entity/properties/proxied_by",t.getProxiedBy.getId);break;default:r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}let i=[];for(const[r,o]of t.getArtifacts.entries())i.push(o.getAsSimpleObject(r));return n.prop(Gc.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i),n},Ub=new WeakSet,eN=function(t){return new IC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},Hb=new WeakSet,tN=function(t,n){for(const r of wo.Service.specificProperties)switch(r.providedFeature){case"proxiedBy":t.getProxiedBy&&n.prop("entity/properties/proxied_by",t.getProxiedBy.getId);break;default:r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}let i=[];for(const[r,o]of t.getArtifacts.entries())i.push(o.getAsSimpleObject(r));return n.prop(Gc.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i),n},Vb=new WeakSet,nN=function(t){return new EC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Component"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},Gb=new WeakSet,iN=function(t,n){for(const r of wo.Service.specificProperties)switch(r.providedFeature){case"proxiedBy":t.getProxiedBy&&n.prop("entity/properties/proxied_by",t.getProxiedBy.getId);break;default:r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}let i=[];for(const[r,o]of t.getArtifacts.entries())i.push(o.getAsSimpleObject(r));return n.prop(Gc.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i),n},Wb=new WeakSet,rN=function(t,n,i){let r=t.relation.getMetaData.position.xCoord!==0?t.relation.getMetaData.position.xCoord:n.position().x+Math.floor(n.size().width/3)+t.data.getMetaData.size.width*i,o=t.relation.getMetaData.position.yCoord!==0?t.relation.getMetaData.position.yCoord:n.position().y+Math.floor(n.size().height/3)+t.data.getMetaData.size.height*i,s=t.relation.getMetaData.size.width!==t.data.getMetaData.size.width?t.relation.getMetaData.size.width:t.data.getMetaData.size.width,a=t.relation.getMetaData.size.height!==t.data.getMetaData.size.height?t.relation.getMetaData.size.height:t.data.getMetaData.size.height,l=new NC({position:{x:r,y:o},size:{width:s,height:a},attrs:{root:{title:"cna.qualityModel.DataAggregate"},body:{class:"entityHighlighting"},label:{fontSize:t.relation.getMetaData.fontSize!==t.data.getMetaData.fontSize?t.relation.getMetaData.fontSize:t.data.getMetaData.fontSize,textWrap:{text:t.data.getMetaData.label?t.data.getMetaData.label:t.data.getName}}}});n.embed(l);for(const u of wo.DataAggregate.specificProperties)switch(u.providedFeature){case"embedded":l.prop(u.jointJsConfig.modelPath,n.id.toString());break;case"dataAggregate-assignedFamily":l.prop(u.jointJsConfig.modelPath,t.data.getName);break;default:u.jointJsConfig.modelPath&&(t.data.getProperties().find(f=>f.getKey===u.providedFeature)?l.prop(u.jointJsConfig.modelPath,t.data.getProperties().find(f=>f.getKey===u.providedFeature).value):t.relation.getProperties().find(f=>f.getKey===u.providedFeature)&&l.prop(u.jointJsConfig.modelPath,t.relation.getProperties().find(f=>f.getKey===u.providedFeature).value));break}return l},vg=new WeakSet,Nw=function(t,n,i){let r=t.relation.getMetaData.position.xCoord!==0?t.relation.getMetaData.position.xCoord:n.position().x+Math.floor(n.size().width/3)+t.backingData.getMetaData.size.width*i,o=t.relation.getMetaData.position.yCoord!==0?t.relation.getMetaData.position.yCoord:n.position().y+Math.floor(n.size().height/3)+t.backingData.getMetaData.size.height*i,s=t.relation.getMetaData.size.width!==t.backingData.getMetaData.size.width?t.relation.getMetaData.size.width:t.backingData.getMetaData.size.width,a=t.relation.getMetaData.size.height!==t.backingData.getMetaData.size.height?t.relation.getMetaData.size.height:t.backingData.getMetaData.size.height,l=new MC({position:{x:r,y:o},size:{width:s,height:a},attrs:{root:{title:"cna.qualityModel.BackingData"},body:{class:"entityHighlighting"},label:{fontSize:t.relation.getMetaData.fontSize!==t.backingData.getMetaData.fontSize?t.relation.getMetaData.fontSize:t.backingData.getMetaData.fontSize,textWrap:{text:t.backingData.getMetaData.label?t.backingData.getMetaData.label:t.backingData.getName}}}});n.embed(l);for(const u of wo.BackingData.specificProperties)switch(u.providedFeature){case"embedded":l.prop(u.jointJsConfig.modelPath,n.id.toString());break;case"backingData-assignedFamily":l.prop(u.jointJsConfig.modelPath,t.backingData.getName);break;case"backingData-chooseEditMode":default:u.jointJsConfig.modelPath&&(t.backingData.getProperties().find(f=>f.getKey===u.providedFeature)?l.prop(u.jointJsConfig.modelPath,t.backingData.getProperties().find(f=>f.getKey===u.providedFeature).value):t.relation.getProperties().find(f=>f.getKey===u.providedFeature)&&l.prop(u.jointJsConfig.modelPath,t.relation.getProperties().find(f=>f.getKey===u.providedFeature).value));break}return l},jb=new WeakSet,oN=function(t,n){let i=new PC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.Endpoint"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});n.embed(i);for(const r of wo.Endpoint.specificProperties)if(r.jointJsConfig.modelPath)if(r.providedFeature==="embedded")i.prop(r.jointJsConfig.modelPath,n.id.toString());else{if(r.providedFeature==="uses_data")continue;i.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}return t.getDataAggregateEntities.length>0&&i.prop("entity/properties/uses_data",t.getDataAggregateEntities.map(r=>n.getEmbeddedCells().find(o=>o.prop("entity/assignedFamily")===r.data.getName).id)),i},Kb=new WeakSet,sN=function(t,n){let i=new OC({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.ExternalEndpoint"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});n.embed(i);for(const r of wo.ExternalEndpoint.specificProperties)if(r.jointJsConfig.modelPath)if(r.providedFeature==="embedded")i.prop(r.jointJsConfig.modelPath,n.id.toString());else{if(r.providedFeature==="uses_data")continue;i.prop(r.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===r.providedFeature).value)}return t.getDataAggregateEntities.length>0&&i.prop("entity/properties/uses_data",t.getDataAggregateEntities.map(r=>n.getEmbeddedCells().find(o=>o.prop("entity/assignedFamily")===r.data.getName).id)),i},Yb=new WeakSet,aN=function(t,n,i){let r=new DC({position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.RequestTrace"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});for(const o of wo.RequestTrace.specificProperties)switch(o.providedFeature){case"referred_endpoint":t.getExternalEndpoint?r.prop(o.jointJsConfig.modelPath,t.getExternalEndpoint.getId):r.prop(o.jointJsConfig.modelPath,"");break;default:o.jointJsConfig.modelPath&&r.prop(o.jointJsConfig.modelPath,t.getProperties().find(s=>s.getKey===o.providedFeature).value);break}return r};const ur=Object.freeze({BUTTON:"button",BUTTON_DROPDOWN:"button-dropdown"}),Ax=Object.freeze({BUTTON:"button",CHECKBOX:"checkbox"}),Ty={Tools:[{buttonGroupId:"general-paper-actions",content:[{providedFeature:"fullScreen",tooltipText:"Open fullscreen",text:"",iconClass:"fa-solid fa-expand",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"closefullScreen",tooltipText:"Close fullscreen",text:"",iconClass:"fa-solid fa-compress",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"fitActivePaperToContent",tooltipText:"Fit paper to content",text:"",iconClass:"fa-solid fa-crop",additionalCssClass:"",buttonType:ur.BUTTON}]},{buttonGroupId:"extern-clear",content:[{providedFeature:"clearActivePaper",tooltipText:"Clear current paper",text:"",iconClass:"fa-solid fa-trash-can",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"printActivePaper",tooltipText:"Print current paper",text:"",iconClass:"fa-solid fa-print",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"exportSvg",tooltipText:"Export current model as SVG",text:"",iconClass:"fa-solid fa-bezier-curve",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"validateModel",tooltipText:"Validate the current model for problems",text:"",iconClass:"fa-solid fa-file-circle-check",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"convertModeledSystemEntity",tooltipText:"Export modeled System",text:"",iconClass:"fa-solid fa-download",additionalCssClass:"",buttonType:ur.BUTTON_DROPDOWN,dropdownButtons:[{providedFeature:"convertModeledSystemEntityToJson",tooltipText:"Export modeled System to JSON",text:"Export to JSON",iconClass:"bi bi-filetype-json",additionalCssClass:""},{providedFeature:"convertModeledSystemEntityToTosca",tooltipText:"Export modeled System to TOSCA",text:"Transform to TOSCA",iconClass:"bi bi-filetype-yml",additionalCssClass:""}]},{providedFeature:"loadModeledSystemEntity",tooltipText:"Import modeled System",text:"",iconClass:"fa-solid fa-upload",additionalCssClass:"",buttonType:ur.BUTTON_DROPDOWN,dropdownButtons:[{providedFeature:"loadModeledSystemEntityFromJson",tooltipText:"Import modeled System from JSON",text:"Import from JSON",iconClass:"bi bi-filetype-json",additionalCssClass:""},{providedFeature:"loadModeledSystemEntityFromTosca",tooltipText:"Import modeled System from TOSCA",text:"Import from TOSCA",iconClass:"bi bi-filetype-yml",additionalCssClass:""}]}]},{buttonGroupId:"zoom",content:[{providedFeature:"zoomOutPaper",tooltipText:"Zoom out from modeling area",text:"",iconClass:"fa-solid fa-magnifying-glass-minus",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"zoomInPaper",tooltipText:"Zoom into modeling area",text:"",iconClass:"fa-solid fa-magnifying-glass-plus",additionalCssClass:"",buttonType:ur.BUTTON}]},{buttonGroupId:"paper-background",content:[{providedFeature:"changeGrid",tooltipText:"Clear grid",text:"",iconClass:"fa-solid fa-border-all",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"fitAllElementsToEmbedded",tooltipText:"Fit elements to embedded",text:"",iconClass:"bi bi-aspect-ratio-fill",additionalCssClass:"",buttonType:ur.BUTTON}]},{buttonGroupId:"paper-individual-elements",content:[{providedFeature:"expandAll",tooltipText:"Expand all entities",text:"",iconClass:"fa-regular fa-square-plus",additionalCssClass:"",buttonType:ur.BUTTON},{providedFeature:"collapseAll",tooltipText:"Collapse all entities",text:"",iconClass:"fa-regular fa-square-minus",additionalCssClass:"",buttonType:ur.BUTTON}]},{buttonGroupId:"requestTraceView",content:[{providedFeature:"exitRequestTraceView",tooltipText:"Exit current Request Trace view",text:"",iconClass:"fa-solid fa-arrow-right-from-bracket",additionalCssClass:"buttonInitialHide btn-danger exitRequestTraceView",buttonType:ur.BUTTON}]}],FilterConfig:[{key:"deploymentView",labelText:"Deployment View",tooltipText:"Show/Hide Infrastructure and Deployment Mapping Entities"},{key:"communicationView",labelText:"Communication View",tooltipText:"Show/Hide Endpoint and Link Entities"},{key:"backingView",labelText:"Backing Services View",tooltipText:"Show/Hide Backing Services"},{key:"dataView",labelText:"Data View",tooltipText:"Show/Hide Data Aggregates and Backing Data"},{key:"traceView",labelText:"Request Trace View",tooltipText:"Show/Hide Request Trace entities"}],ToolbarRowConfig:[{rowIndex:1,tools:[{buttonGroupId:"settings",content:[{buttonType:Ax.BUTTON,providedFeature:"applicationSettings",tooltipText:"Edit application settings",text:"",iconClass:"fa-solid fa-gear",additionalCssClass:""}]},{buttonGroupId:"additionalToolbar",content:[{buttonType:Ax.BUTTON,providedFeature:"showEntityToolbarRow",tooltipText:"Show entity specific options",text:"",iconClass:"fa-solid fa-angles-down",additionalCssClass:"buttonInitialHide"}]}]},{rowIndex:2,tools:[{buttonGroupId:"entireToolbarSecondRow",content:[{buttonType:Ax.BUTTON,providedFeature:"hideEntityToolbarRow",tooltipText:"Hide entity specific options",text:"",iconClass:"fa-solid fa-angles-up",additionalCssClass:""}]}]}]},AY=["data-group"],kY=["id","onClick","title"],IY={key:1,class:"buttonDropDownGroup dropdown"},PY=["id","title"],OY=["id","aria-labelledby"],LY=["id","onClick"],kx=Zi({__name:"ButtonGroup",props:{buttonGroupId:{},buttons:{}},emits:["toolbarButtonClicked"],setup(e,{emit:t}){const n=t;function i(r,o){n("toolbarButtonClicked",r,o)}return(r,o)=>(He(),Ke("div",{class:"button-group","data-group":r.buttonGroupId},[(He(!0),Ke(Gt,null,kn(r.buttons,s=>(He(),Ke("div",null,[s.buttonType==="button"?dn((He(),Ke("button",{key:0,id:s.providedFeature,onClick:a=>i(s.providedFeature,a),class:mn(["toolbarButton btn",s.additionalCssClass]),type:"button",title:s.tooltipText,"data-toggle":"tooltip","data-placement":"bottom"},[X("i",{class:mn(s.iconClass)},null,2),ii(Mt(s.text),1)],10,kY)),[[ir,s.show]]):cn("",!0),s.buttonType==="button-dropdown"?(He(),Ke("div",IY,[X("button",{id:s.providedFeature,class:mn(["toolbarDropdownButton btn dropdown-toggle",s.additionalCssClass]),type:"button",title:s.tooltipText,"data-toggle":"dropdown","data-tooltip-toggle":"tooltip","data-placement":"bottom","aria-expanded":"false"},[X("i",{class:mn(s.iconClass)},null,2),ii(Mt(s.text),1)],10,PY),X("div",{id:s.providedFeatureGroup,class:"dropdown-menu","aria-labelledby":s.providedFeatureGroup},[(He(!0),Ke(Gt,null,kn(s.dropdownButtons,a=>(He(),Ke("div",null,[X("button",{id:a.providedFeature,onClick:l=>i(a.providedFeature,l),class:mn(["toolbarDropdownButtonItem btn dropdown-item",a.additionalCssClass]),type:"button"},[X("i",{class:mn(a.iconClass),style:{"font-size":"1.1em"}},null,2),X("span",null,Mt(a.text),1)],10,LY)]))),256))],8,OY)])):cn("",!0)]))),256))],8,AY))}}),DY={class:"modal-content"},NY={class:"modal-header"},MY={key:0,class:"modalTitleIcon modal-title"},FY={key:1,class:"modalTitleIcon modal-title"},RY=["innerHTML"],BY={id:"modal-dialog-title",class:"modal-title"},$Y=X("i",{class:"fa fa-fw fa-x"},null,-1),qY=[$Y],zY={class:"modal-body"},UY={class:"container-fluid"},HY={class:"modal-footer"},VY=["tabindex","onClick"],qv=Zi({__name:"ModalWrapper",props:{show:{type:Boolean},dialogMetaData:{}},emits:["close:Modal","action:Modal"],setup(e,{emit:t}){const n=t;function i(){n("close:Modal")}function r(o){n("action:Modal",o)}return(o,s)=>(He(),Ke(Gt,null,[dn((He(),tl(iw,{to:"#modals"},[X("div",{class:mn(["modal",{show:o.show}]),tabindex:"-1","aria-labelledby":"modal-dialog-title","aria-hidden":"true"},[X("div",{class:mn(["modal-dialog modal-dialog-centered modal-dialog-scrollable",o.dialogMetaData.dialogSize])},[X("div",DY,[X("div",NY,[o.dialogMetaData.header.iconClass?(He(),Ke("h5",MY,[X("i",{class:mn(o.dialogMetaData.header.iconClass)},null,2)])):cn("",!0),o.dialogMetaData.header.svgRepresentation?(He(),Ke("h5",FY,[X("span",{innerHTML:o.dialogMetaData.header.svgRepresentation},null,8,RY)])):cn("",!0),X("h5",BY,Mt(o.dialogMetaData.header.text),1),X("div",{class:"close"},[X("button",{type:"button",class:"close","aria-label":"Close",onClick:i},qY)])]),X("div",zY,[X("div",UY,[hU(o.$slots,"modalContent")])]),X("div",HY,[dn(X("button",{type:"button",class:"btn btn-secondary",tabindex:"0",onClick:i},Mt(o.dialogMetaData.footer.cancelButtonText),513),[[ir,o.dialogMetaData.footer.showCancelButton]]),(He(!0),Ke(Gt,null,kn(o.dialogMetaData.footer.actionButtons.entries(),([a,l])=>(He(),Ke("button",{type:"button",class:"btn btn-primary",tabindex:a,onClick:u=>r(a)},[l.buttonIconClass?(He(),Ke("i",{key:0,class:mn(["mr-1",l.buttonIconClass])},null,2)):cn("",!0),X("span",null,Mt(l.buttonText),1)],8,VY))),256))])])],2)],2)],512)),[[ir,o.show]]),dn((He(),tl(iw,{to:"#modalBackground"},[dn(X("div",{class:mn(["modal-backdrop",{show:o.show}])},null,2),[[ir,o.show]])],512)),[[ir,o.show]])],64))}}),GY=["innerHTML"];function FC(){return{show:!1,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"",svgRepresentation:"",text:""},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Save"}]}},confirmationPrompt:"",onCancel:()=>{},actions:[]}}const RC=Zi({__name:"ModalConfirmationDialog",props:{show:{type:Boolean},dialogMetaData:{},confirmationPrompt:{},onCancel:{type:Function},actions:{}},setup(e){const t=e;function n(i){if(i<t.actions.length)t.actions[i]();else throw new Error(`There exists no action with index ${i} in ${t.actions}`)}return(i,r)=>(He(),tl(qv,{show:i.show,dialogMetaData:i.dialogMetaData,"onClose:Modal":i.onCancel,"onAction:Modal":r[0]||(r[0]=o=>n(o))},{modalContent:wu(()=>[X("div",{innerHTML:i.confirmationPrompt},null,8,GY)]),_:1},8,["show","dialogMetaData","onClose:Modal"]))}});function WY(e,t,n,i){let r=e.getCells().filter(o=>o.attributes.entity.type===_e.BACKING_SERVICE);if(t){let o=0;for(;o<r.length;){let s=r[o];s.getEmbeddedCells().forEach(u=>{if(u.attributes.entity.type===_e.ENDPOINT||u.attributes.entity.type===_e.EXTERNAL_ENDPOINT){let f=e.getConnectedLinks(u);r.push(...f),r.push(u)}});let l=e.getConnectedLinks(s).filter(u=>u.attributes.entity.type===_e.LINK);r.push(...l),o=o+1}}if(n){let o=0;for(;o<r.length;){let s=r[o],a=e.getConnectedLinks(s).filter(l=>l.attributes.entity.type===_e.DEPLOYMENT_MAPPING);r.push(...a),o=o+1}}if(i){let o=0;for(;o<r.length;)r[o].getEmbeddedCells().forEach(l=>{(l.attributes.entity.type===_e.DATA_AGGREGATE||l.attributes.entity.type===_e.BACKING_DATA)&&r.push(l)}),o=o+1}return r}function jY(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===_e.INFRASTRUCTURE||r.attributes.entity.type===_e.DEPLOYMENT_MAPPING);if(!t){let r=0;e:for(;r<i.length;){let o=i[r];if(o.attributes.entity.type===_e.DEPLOYMENT_MAPPING&&o.getSourceCell().attributes.entity.type===_e.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}if(n){let r=0;for(;r<i.length;)i[r].getEmbeddedCells().forEach(a=>{(a.attributes.entity.type===_e.DATA_AGGREGATE||a.attributes.entity.type===_e.BACKING_DATA)&&i.push(a)}),r=r+1}return i}function KY(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===_e.LINK||r.attributes.entity.type===_e.ENDPOINT||r.attributes.entity.type===_e.EXTERNAL_ENDPOINT||r.attributes.entity.type===_e.REQUEST_TRACE);if(!t){let r=0;e:for(;r<i.length;){let o=i[r];if(o.attributes.entity.type===_e.LINK){let s=o.getSourceCell(),a=o.getTargetCell();if(s.attributes.entity.type===_e.BACKING_SERVICE||a.isEmbedded()&&a.getParentCell().attributes.entity.type===_e.BACKING_SERVICE){i.splice(r,1);continue e}}if((o.attributes.entity.type===_e.ENDPOINT||o.attributes.entity.type===_e.EXTERNAL_ENDPOINT)&&o.isEmbedded()&&o.getParentCell().attributes.entity.type===_e.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}return n?i:i.filter(r=>r.attributes.entity.type!==_e.REQUEST_TRACE)}function YY(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===_e.DATA_AGGREGATE||r.attributes.entity.type===_e.BACKING_DATA);if(!t){let r=0;e:for(;r<i.length;){let o=i[r];if(o.isEmbedded()&&o.getParentCell().attributes.entity.types===_e.INFRASTRUCTURE){i.splice(r,1);continue e}r=r+1}}if(!n){let r=0;e:for(;r<i.length;){let o=i[r];if(o.isEmbedded()&&o.getParentCell().attributes.entity.types===_e.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}return i}function XY(e,t){return t?e.getCells().filter(i=>i.attributes.entity.type===_e.REQUEST_TRACE):[]}function zv(){return{paperWidth:3e3,paperHeight:3e3,paperGridSize:10,paperGridThickness:1,routerType:"manhattan"}}function lN(e){switch(e){case"normal":return{name:"normal"};case"metro":return{name:"metro",args:{step:10,padding:15,maximumLoops:5e3,maxAllowedDirectionChange:100}};case"manhattan":default:return{name:"manhattan",args:{step:10,padding:15,maximumLoops:5e3,maxAllowedDirectionChange:100}}}}const JY={class:"app-header-first-row"},QY={class:"input-group app-title"},ZY=["disabled"],eX={class:"input-group-append",id:"app-title-description"},tX=X("span",{class:"user-select-none input-group-text"},"Current System",-1),nX=X("i",{class:"fa-solid fa-pen-to-square"},null,-1),iX=[nX],rX=X("i",{class:"fa-solid fa-xmark"},null,-1),oX=[rX],sX=X("i",{class:"fa-solid fa-check"},null,-1),aX=[sX],lX=X("button",{id:"addNewSystemEntity",class:"btn btn-outline-secondary",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Add new System entity"},[X("i",{class:"fa-solid fa-plus"})],-1),cX={id:"modelAppToolbar",class:"toolbar-container"},uX={class:"app-toolbar"},dX={class:"app-toolbar-tools"},hX=X("div",{class:"group-divider"},null,-1),fX={class:"button-group","data-group":"first-row-config-button"},pX={class:"app-header-second-row"},gX={class:"entity-tools"},mX={class:"entity-overall-group","data-group":"entity-overall-group"},yX=["data-group","title"],vX=["id","onChange","data-entity-type","onUpdate:modelValue","value"],bX=["id","for"],_X=X("div",{class:"group-divider"},null,-1),xX={class:"second-row-tools","data-group":"second-row-config-tools"},wX=X("div",{class:"group-divider"},null,-1),CX={class:"modalDialogActionContainer container-fluid"},TX={id:"modeling-area-size-row"},SX=X("h5",null,"Modeling Area Size",-1),EX={class:"modalElementGroup"},AX={class:"form-group"},kX={class:"input-group"},IX=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},[X("i",{class:"fa-solid fa-ruler-horizontal"}),X("span",{class:"modalInputLabel"},"Width")])],-1),PX=X("small",{id:"paperWidth-helpText",class:"form-text text-muted"},"Due to the included content the value has to be greater than 26",-1),OX={class:"form-group"},LX={class:"input-group"},DX=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},[X("i",{class:"fa-solid fa-ruler-vertical"}),X("span",{class:"modalInputLabel"},"Height")])],-1),NX=X("small",{id:"paperHeight-helpText",class:"form-text text-muted"},"Due to the included content the value has to be greater than 26",-1),MX=X("hr",null,null,-1),FX=X("h5",null,"Modeling Area Grid",-1),RX={class:"modalElementGroup"},BX={class:"form-group"},$X={for:"gridSize",class:"align-baseline"},qX={class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},zX={class:"inputRow form-row"},UX={class:"form-group"},HX={for:"gridThickness",class:"align-baseline"},VX={id:"gridThickness-currentValue",class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},GX={class:"inputRow form-row"},WX=X("hr",null,null,-1),jX=X("h5",null,"Link Router Type",-1),KX={class:"modalElementGroup"},YX={class:"form-group"},XX={class:"input-group"},JX=X("div",{class:"input-group-prepend"},[X("span",{id:"defaultRouter-inputGroupIconText",class:"input-group-text"},[X("i",{class:""}),X("span",{class:"modalInputLabel"},"Link router")])],-1),QX=X("option",{value:"manhattan"},"Manhattan",-1),ZX=X("option",{value:"normal"},"Normal",-1),eJ=X("option",{value:"metro"},"Metro",-1),tJ=[QX,ZX,eJ],nJ=Zi({__name:"Toolbar",props:{systemName:{},appSettings:{},paper:{},graph:{},selectedRequestTrace:{}},emits:["update:systemName","update:appSettings","click:exitRequestTraceView","click:printActivePaper","click:exportSvg","click:validate","load:fromJson","save:toJson","request:reloadFromJson","load:fromTosca","save:toTosca"],setup(e,{emit:t}){const n=e,i=t,r=nn(n.systemName),o=nn("none"),s=nn(!0),a=nn(!1),l=nn(FC()),u=nn(!1),f={dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-gear",svgRepresentation:"",text:"Application Settings"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Apply changes"}]}};function d(le){let Ae=[];for(const ke of le){let rt=[];for(const Be of ke.content)if(Be.buttonType==="button-dropdown"){let st=[];for(const lt of Be.dropdownButtons)st.push({providedFeature:lt.providedFeature+"-dropdownItemButton",additionalCssClass:lt.additionalCssClass,iconClass:lt.iconClass,text:lt.text,show:!0});rt.push({buttonType:Be.buttonType,providedFeature:Be.providedFeature+"-buttonDropDown",tooltipText:Be.tooltipText,text:Be.text,iconClass:Be.iconClass,additionalCssClass:Be.additionalCssClass,show:!0,providedFeatureGroup:Be.providedFeature+"-buttonDropDownGroup",dropdownButtons:st})}else rt.push({buttonType:Be.buttonType,providedFeature:Be.providedFeature+"-button",tooltipText:Be.tooltipText,text:Be.text,iconClass:Be.iconClass,additionalCssClass:Be.additionalCssClass,show:!0});Ae.push({buttonGroupId:ke.buttonGroupId,buttons:rt})}return Ae}const m=nn(d(Ty.Tools)),b=nn((()=>{let le=[];for(const Ae of Ty.FilterConfig)le.push({viewKey:Ae.key,filterInput:Ae.key+"-checkBox",entityLabel:Ae.key+"-checkBoxLabel",labelText:Ae.labelText,tooltipText:Ae.tooltipText,filterState:!0});return le})()),x=nn(d(Ty.ToolbarRowConfig.find(le=>le.rowIndex===1).tools)),C=nn(d(Ty.ToolbarRowConfig.find(le=>le.rowIndex===2).tools));n.graph.on("change:attrs",te);function k(le,Ae){switch(le){case"editApplicationNameBtn":o.value="editing";break;case"cancelEditApplicationNameBtn":r.value=n.systemName,o.value="none";break;case"submitEditApplicationNameBtn":T();break;case"fullScreen-button":R();break;case"closefullScreen-button":F();break;case"fitActivePaperToContent-button":Z();break;case"clearActivePaper-button":ee();break;case"printActivePaper-button":i("click:printActivePaper");break;case"exportSvg-button":i("click:exportSvg");break;case"validateModel-button":i("click:validate");break;case"zoomOutPaper-button":M();break;case"zoomInPaper-button":L();break;case"exitRequestTraceView-button":i("click:exitRequestTraceView");break;case"expandAll-button":ce(Ae);break;case"collapseAll-button":ce(Ae);break;case"applicationSettings-button":pe();break;case"showEntityToolbarRow-button":s.value=!0;break;case"hideEntityToolbarRow-button":s.value=!1;break;case"convertModeledSystemEntityToJson-dropdownItemButton":i("save:toJson");break;case"convertModeledSystemEntityToTosca-dropdownItemButton":i("save:toTosca");break;case"loadModeledSystemEntityFromJson-dropdownItemButton":z();break;case"loadModeledSystemEntityFromTosca-dropdownItemButton":Q();break;case"changeGrid-button":g();case"fitAllElementsToEmbedded-button":de();break}}function T(){r.value?i("update:systemName",r.value):r.value=n.systemName,o.value="none"}pa(()=>(m.value.find(le=>le.buttonGroupId==="general-paper-actions").buttons.find(le=>le.providedFeature==="fullScreen-button").show=Jn(()=>!a.value),m.value.find(le=>le.buttonGroupId==="general-paper-actions").buttons.find(le=>le.providedFeature==="closefullScreen-button").show=Jn(()=>a.value),m.value.find(le=>le.buttonGroupId==="requestTraceView").buttons.find(le=>le.providedFeature==="exitRequestTraceView-button").show=Jn(()=>!!n.selectedRequestTrace),x.value.find(le=>le.buttonGroupId==="additionalToolbar").buttons.find(le=>le.providedFeature==="showEntityToolbarRow-button").show=Jn(()=>!s.value),C.value.find(le=>le.buttonGroupId==="entireToolbarSecondRow").buttons.find(le=>le.providedFeature==="hideEntityToolbarRow-button").show=Jn(()=>s.value),A(),this));function A(){if(n.paper)for(const le of b.value)le.filterState=!0,G(le.viewKey);else setTimeout(A,50)}function R(){FA(),a.value=!0}function F(){FA(),a.value=!1}function Z(){n.paper.fitToContent({padding:nl(25),minWidth:300,minHeight:250})}function ee(){l.value={show:!0,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!0,cancelButtonText:"No, Cancel",actionButtons:[{buttonIconClass:"fa-solid fa-trash-can",buttonText:"Yes, clear paper"}]}},confirmationPrompt:"Are you sure you want to clear the entire paper? You won't be able to undo this action.",onCancel:()=>l.value.show=!1,actions:[function(){n.graph.clear(),l.value.show=!1}]}}function g(){n.appSettings.paperGridThickness>0?(n.appSettings.paperGridThickness=0,n.paper.setGrid(!1)):(n.appSettings.paperGridThickness=1,n.paper.setGrid({name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]}))}function L(){const le=n.paper.getComputedSize();let Ae=n.paper.scale();Ae.sx>=1?n.paper.scale(Ae.sx+.5):n.paper.scale(Ae.sx*2),n.paper.fitToContent({padding:50,minWidth:le.width,minHeight:le.height})}function M(){const le=n.paper.getComputedSize();let Ae=n.paper.scale();Math.round(Ae.sx)<=1?n.paper.scale(Ae.sx*.5):n.paper.scale(Ae.sx-.5),n.paper.fitToContent({padding:50,minWidth:le.width,minHeight:le.height})}function z(){let le="";function Ae(Be){let st=Be.target.result.toString();i("load:fromJson",st,le)}let ke=document.createElement("input");ke.setAttribute("type","file"),ke.setAttribute("accept",".json");let rt=new FileReader;rt.onload=Ae,ke.onchange=()=>{le=ke.files[0].name,rt.readAsText(ke.files[0])},ke.click()}function Q(){let le="";function Ae(Be){let st=Be.target.result.toString();i("load:fromTosca",st,le)}let ke=document.createElement("input");ke.setAttribute("type","file"),ke.setAttribute("accept",".yaml");let rt=new FileReader;rt.onload=Ae,ke.onchange=()=>{le=ke.files[0].name,rt.readAsText(ke.files[0])},ke.click()}function de(){let le=n.graph.getElements();for(const Ae of le)Ae.getEmbeddedCells().length!==0&&Ae.fitEmbeds({deep:!0,padding:10,expandOnly:!0})}function ce(le){n.graph.getElements().forEach(ke=>{if(!ke.attr("icon")||ke.prop("entity/type")===_e.REQUEST_TRACE)return;ke.prop("collapsed",!!le.currentTarget.id.includes("collapse"));let rt=le.currentTarget.id.includes("collapse")?"visible":"hidden",Be=ke.attr("root/visibility")==="hidden"?"hidden":rt;ke.attr("icon/visibility",Be,{isolate:!0}),ke.getEmbeddedCells({deep:!0}).forEach(lt=>{const Se=le.currentTarget.id.includes("collapse")?"hidden":"visible",qe=lt.prop("entityTypeHidden")?"hidden":Se;lt.attr("root/visibility",qe,{isolate:!0}),lt.prop("parentCollapsed","hidden".localeCompare(rt)!==0)})})}function pe(){n.appSettings.paperWidth=n.paper.options.width,n.appSettings.paperHeight=n.paper.options.height,n.appSettings.paperGridSize=n.paper.options.gridSize,n.appSettings.paperGridThickness=n.paper.options.drawGrid?n.paper.options.drawGrid.thickness:zv().paperGridThickness,n.appSettings.routerType=n.paper.options.defaultRouter.name,u.value=!0}function ae(){if((n.appSettings.paperWidth!==n.paper.options.width||n.appSettings.paperHeight!==n.paper.options.height)&&n.paper.setDimensions(n.appSettings.paperWidth,n.appSettings.paperHeight),n.appSettings.paperGridSize!==n.paper.options.gridSize&&n.paper.setGridSize(n.appSettings.paperGridSize),n.appSettings.paperGridThickness!==n.paper.options.drawGrid.thickness&&n.paper.setGrid({name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]}),n.appSettings.routerType!==n.paper.options.defaultRouter.name){n.graph.getLinks().forEach(ke=>{ke.unset("router")}),n.paper.options.defaultRouter=lN(n.appSettings.routerType);let le=JSON.stringify(n.graph.toJSON()),Ae=n.systemName;n.paper.render(),i("request:reloadFromJson",le,Ae)}i("update:appSettings",n.appSettings),u.value=!1}function q(le){return b.value.find(Ae=>Ae.viewKey===le).filterState}function G(le){let ke=b.value.find(Be=>Be.viewKey===le).filterState?"visible":"hidden",rt=[];switch(le){case"deploymentView":rt.push(...jY(n.graph,q("backingView"),q("dataView")));break;case"communicationView":rt.push(...KY(n.graph,q("backingView"),q("traceView")));break;case"backingView":rt.push(...WY(n.graph,q("communicationView"),q("deploymentView"),q("dataView")));break;case"dataView":rt.push(...YY(n.graph,q("deploymentView"),q("backingView")));break;case"traceView":rt.push(...XY(n.graph,q("communicationView")));break}rt.forEach(Be=>{j(Be,ke)})}function j(le,Ae){if(le.prop("entityTypeHidden",Ae==="hidden"),le.attr("icon")){let ke=le.get("collapsed")===!0?"visible":"hidden",rt=Ae==="visible"?ke:"hidden";le.attr("icon/visibility",rt,{isolate:!0})}le.prop("parentCollapsed")&&(Ae="hidden"),le.attr("root/visibility",Ae,{isolate:!0})}function te(le,Ae,ke){if(ke.propertyPath&&ke.propertyPath.includes("visibility")){let rt=le.findView(n.paper);rt.hideTools(),Ka.remove(rt)}}return(le,Ae)=>(He(),Ke(Gt,null,[X("div",JY,[X("div",QY,[dn(X("input",{id:"appNameTitle",type:"text",class:"user-select-all form-control","onUpdate:modelValue":Ae[0]||(Ae[0]=ke=>r.value=ke),"aria-label":"Application name of current System entity","aria-describedby":"app-title-description",disabled:o.value==="none"},null,8,ZY),[[vs,r.value]]),X("div",eX,[tX,dn(X("button",{id:"editApplicationNameBtn",class:"btn btn-outline-secondary",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Edit name of System entity",onClick:Ae[1]||(Ae[1]=ke=>k("editApplicationNameBtn",ke))},iX,512),[[ir,o.value==="none"]]),dn(X("button",{id:"cancelEditApplicationNameBtn",class:"btn btn-outline-danger submitEditApplicationNameBtnGroup",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Cancel editing",onClick:Ae[2]||(Ae[2]=ke=>k("cancelEditApplicationNameBtn",ke))},oX,512),[[ir,o.value==="editing"]]),dn(X("button",{id:"submitEditApplicationNameBtn",class:"btn btn-outline-success submitEditApplicationNameBtnGroup",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Submit name of System entity",onClick:Ae[3]||(Ae[3]=ke=>k("submitEditApplicationNameBtn",ke))},aX,512),[[ir,o.value==="editing"]]),lX])]),X("div",cX,[X("div",uX,[(He(!0),Ke(Gt,null,kn(m.value,ke=>(He(),Ke("div",dX,[Dn(kx,{buttonGroupId:ke.buttonGroupId,buttons:ke.buttons,onToolbarButtonClicked:k},null,8,["buttonGroupId","buttons"]),hX]))),256)),X("div",fX,[(He(!0),Ke(Gt,null,kn(x.value,ke=>(He(),tl(kx,{buttonGroupId:ke.buttonGroupId,buttons:ke.buttons,onToolbarButtonClicked:k},null,8,["buttonGroupId","buttons"]))),256))])])])]),dn(X("div",pX,[X("div",gX,[X("div",mX,[(He(!0),Ke(Gt,null,kn(b.value,ke=>(He(),Ke("div",null,[X("div",{class:"entity-group form-check form-check-inline","data-group":ke.viewKey,title:ke.tooltipText,"data-toggle":"tooltip","data-placement":"bottom"},[dn(X("input",{id:ke.filterInput,onChange:rt=>G(ke.viewKey),"data-entity-type":ke.viewKey,"onUpdate:modelValue":rt=>ke.filterState=rt,class:"entityCheckBox form-check-input",type:"checkbox",value:ke.viewKey,checked:""},null,40,vX),[[Ed,ke.filterState]]),X("label",{id:ke.entityLabel,class:"user-select-none entityCheckBoxLabel form-check-label",for:ke.filterInput},Mt(ke.labelText),9,bX)],8,yX),_X]))),256))])]),(He(!0),Ke(Gt,null,kn(C.value,ke=>(He(),Ke("div",xX,[wX,Dn(kx,{buttonGroupId:ke.buttonGroupId,buttons:ke.buttons,onToolbarButtonClicked:k},null,8,["buttonGroupId","buttons"])]))),256))],512),[[ir,s.value]]),Dn(RC,c1(l0(l.value)),null,16),Dn(qv,{show:u.value,dialogMetaData:f,"onClose:Modal":Ae[13]||(Ae[13]=ke=>u.value=!1),"onAction:Modal":ae},{modalContent:wu(()=>[X("div",CX,[X("div",TX,[SX,X("div",EX,[X("form",AX,[X("div",kX,[IX,dn(X("input",{id:"paperWidth",class:"form-control",type:"number",placeholder:"Default: 3000","onUpdate:modelValue":Ae[4]||(Ae[4]=ke=>le.appSettings.paperWidth=ke),"aria-describedby":"paperWidth-helpText",min:"26"},null,512),[[vs,le.appSettings.paperWidth]]),X("button",{id:"paperWidth-resetButton",class:"btn btn-outline-secondary",type:"reset",onClick:Ae[5]||(Ae[5]=ke=>le.appSettings.paperWidth=3e3)},"Reset"),PX])]),X("form",OX,[X("div",LX,[DX,dn(X("input",{id:"paperHeight",class:"form-control",type:"number",placeholder:"Default: 3000","onUpdate:modelValue":Ae[6]||(Ae[6]=ke=>le.appSettings.paperHeight=ke),"aria-describedby":"paperHeight-helpText",min:"26"},null,512),[[vs,le.appSettings.paperHeight]]),X("button",{class:"btn btn-outline-secondary",type:"reset",onClick:Ae[7]||(Ae[7]=ke=>le.appSettings.paperHeight=3e3)},"Reset"),NX])])]),MX]),X("div",null,[FX,X("div",RX,[X("form",BX,[X("div",null,[X("label",$X,[ii("Size:"),X("span",qX,Mt(le.appSettings.paperGridSize),1)]),X("div",zX,[dn(X("input",{class:"col px-md-2 form-control-range",id:"gridSize",type:"range",min:"1",max:"50","onUpdate:modelValue":Ae[8]||(Ae[8]=ke=>le.appSettings.paperGridSize=ke),step:"1"},null,512),[[vs,le.appSettings.paperGridSize]]),X("button",{id:"gridSize-resetButton",class:"btn btn-outline-secondary ml-2 btn-sm",type:"reset",onClick:Ae[9]||(Ae[9]=ke=>le.appSettings.paperGridSize=10)},"Reset")])])]),X("form",UX,[X("div",null,[X("label",HX,[ii("Thickness: "),X("span",VX,Mt(le.appSettings.paperGridThickness),1)]),X("div",GX,[dn(X("input",{class:"col px-md-2 form-control-range",id:"gridThickness",type:"range",min:"1",max:"10","onUpdate:modelValue":Ae[10]||(Ae[10]=ke=>le.appSettings.paperGridThickness=ke),step:"1"},null,512),[[vs,le.appSettings.paperGridThickness]]),X("button",{id:"gridThickness-resetButton",class:"btn btn-outline-secondary ml-2 btn-sm",type:"reset",onClick:Ae[11]||(Ae[11]=ke=>le.appSettings.paperGridThickness=1)},"Reset")])])])]),WX]),X("div",null,[jX,X("div",KX,[X("form",YX,[X("div",XX,[JX,dn(X("select",{id:"defaultRouter",class:"form-control","onUpdate:modelValue":Ae[12]||(Ae[12]=ke=>le.appSettings.routerType=ke)},tJ,512),[[kh,le.appSettings.routerType]])])])])])])]),_:1},8,["show"])],64))}});var Uv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Uv.exports;(function(e,t){(function(){var n,i="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",d=1,m=2,b=4,x=1,C=2,k=1,T=2,A=4,R=8,F=16,Z=32,ee=64,g=128,L=256,M=512,z=30,Q="...",de=800,ce=16,pe=1,ae=2,q=3,G=1/0,j=9007199254740991,te=17976931348623157e292,le=NaN,Ae=4294967295,ke=Ae-1,rt=Ae>>>1,Be=[["ary",g],["bind",k],["bindKey",T],["curry",R],["curryRight",F],["flip",M],["partial",Z],["partialRight",ee],["rearg",L]],st="[object Arguments]",lt="[object Array]",Se="[object AsyncFunction]",$e="[object Boolean]",qe="[object Date]",Fe="[object DOMException]",xe="[object Error]",Ie="[object Function]",U="[object GeneratorFunction]",K="[object Map]",ne="[object Number]",we="[object Null]",fe="[object Object]",ze="[object Promise]",tt="[object Proxy]",Je="[object RegExp]",nt="[object Set]",Xe="[object String]",ht="[object Symbol]",vt="[object Undefined]",Ge="[object WeakMap]",ft="[object WeakSet]",Et="[object ArrayBuffer]",Jt="[object DataView]",yn="[object Float32Array]",Fn="[object Float64Array]",Rn="[object Int8Array]",Cn="[object Int16Array]",bn="[object Int32Array]",Gn="[object Uint8Array]",yi="[object Uint8ClampedArray]",Qn="[object Uint16Array]",ti="[object Uint32Array]",Bi=/\b__p \+= '';/g,ho=/\b(__p \+=) '' \+/g,qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,On=/&(?:amp|lt|gt|quot|#39);/g,Ti=/[&<>"']/g,Oo=RegExp(On.source),zr=RegExp(Ti.source),Wn=/<%-([\s\S]+?)%>/g,ci=/<%([\s\S]+?)%>/g,Lo=/<%=([\s\S]+?)%>/g,yc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Is=/^\w*$/,ts=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ur=/[\\^$.*+?()[\]{}|]/g,Si=RegExp(Ur.source),Hr=/^\s+/,ns=/\s/,ll=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vc=/\{\n\/\* \[wrapped with (.+)\] \*/,Ps=/,? & /,ji=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cl=/[()=,{}\[\]\/\s]/,va=/\\(\\)?/g,Os=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,is=/\w*$/,fo=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Te=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,Tn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,oi=/['\n\r\u2028\u2029\\]/g,ni="\\ud800-\\udfff",fi="\\u0300-\\u036f",po="\\ufe20-\\ufe2f",_i="\\u20d0-\\u20ff",Ls=fi+po+_i,go="\\u2700-\\u27bf",bc="a-z\\xdf-\\xf6\\xf8-\\xff",ul="\\xac\\xb1\\xd7\\xf7",dl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$u="\\u2000-\\u206f",_c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vr="A-Z\\xc0-\\xd6\\xd8-\\xde",xi="\\ufe0e\\ufe0f",rs=ul+dl+$u+_c,os="['’]",Ds="["+ni+"]",ba="["+rs+"]",ss="["+Ls+"]",hl="\\d+",_a="["+go+"]",Ns="["+bc+"]",xc="[^"+ni+rs+hl+go+bc+Vr+"]",xa="\\ud83c[\\udffb-\\udfff]",sr="(?:"+ss+"|"+xa+")",fl="[^"+ni+"]",Do="(?:\\ud83c[\\udde6-\\uddff]){2}",wa="[\\ud800-\\udbff][\\udc00-\\udfff]",Ms="["+Vr+"]",ar="\\u200d",No="(?:"+Ns+"|"+xc+")",wc="(?:"+Ms+"|"+xc+")",qu="(?:"+os+"(?:d|ll|m|re|s|t|ve))?",as="(?:"+os+"(?:D|LL|M|RE|S|T|VE))?",pl=sr+"?",Fs="["+xi+"]?",zu="(?:"+ar+"(?:"+[fl,Do,wa].join("|")+")"+Fs+pl+")*",Uu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rs=Fs+pl+zu,gl="(?:"+[_a,Do,wa].join("|")+")"+Rs,Ca="(?:"+[fl+ss+"?",ss,Do,wa,Ds].join("|")+")",Ta=RegExp(os,"g"),ml=RegExp(ss,"g"),yl=RegExp(xa+"(?="+xa+")|"+Ca+Rs,"g"),ef=RegExp([Ms+"?"+Ns+"+"+qu+"(?="+[ba,Ms,"$"].join("|")+")",wc+"+"+as+"(?="+[ba,Ms+No,"$"].join("|")+")",Ms+"?"+No+"+"+qu,Ms+"+"+as,Zh,Uu,hl,gl].join("|"),"g"),tf=RegExp("["+ar+ni+Ls+xi+"]"),nf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ls=-1,Bn={};Bn[yn]=Bn[Fn]=Bn[Rn]=Bn[Cn]=Bn[bn]=Bn[Gn]=Bn[yi]=Bn[Qn]=Bn[ti]=!0,Bn[st]=Bn[lt]=Bn[Et]=Bn[$e]=Bn[Jt]=Bn[qe]=Bn[xe]=Bn[Ie]=Bn[K]=Bn[ne]=Bn[fe]=Bn[Je]=Bn[nt]=Bn[Xe]=Bn[Ge]=!1;var $n={};$n[st]=$n[lt]=$n[Et]=$n[Jt]=$n[$e]=$n[qe]=$n[yn]=$n[Fn]=$n[Rn]=$n[Cn]=$n[bn]=$n[K]=$n[ne]=$n[fe]=$n[Je]=$n[nt]=$n[Xe]=$n[ht]=$n[Gn]=$n[yi]=$n[Qn]=$n[ti]=!0,$n[xe]=$n[Ie]=$n[Ge]=!1;var Hu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Cc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bs=parseFloat,cs=parseInt,vl=typeof Va=="object"&&Va&&Va.Object===Object&&Va,of=typeof self=="object"&&self&&self.Object===Object&&self,Hn=vl||of||Function("return this")(),Sa=t&&!t.nodeType&&t,Gr=Sa&&!0&&e&&!e.nodeType&&e,Tc=Gr&&Gr.exports===Sa,Sc=Tc&&vl.process,Li=function(){try{var J=Gr&&Gr.require&&Gr.require("util").types;return J||Sc&&Sc.binding&&Sc.binding("util")}catch{}}(),p=Li&&Li.isArrayBuffer,v=Li&&Li.isDate,w=Li&&Li.isMap,S=Li&&Li.isRegExp,D=Li&&Li.isSet,N=Li&&Li.isTypedArray;function H(J,ye,me){switch(me.length){case 0:return J.call(ye);case 1:return J.call(ye,me[0]);case 2:return J.call(ye,me[0],me[1]);case 3:return J.call(ye,me[0],me[1],me[2])}return J.apply(ye,me)}function he(J,ye,me,je){for(var Qe=-1,kt=J==null?0:J.length;++Qe<kt;){var It=J[Qe];ye(je,It,me(It),J)}return je}function se(J,ye){for(var me=-1,je=J==null?0:J.length;++me<je&&ye(J[me],me,J)!==!1;);return J}function Ee(J,ye){for(var me=J==null?0:J.length;me--&&ye(J[me],me,J)!==!1;);return J}function Ue(J,ye){for(var me=-1,je=J==null?0:J.length;++me<je;)if(!ye(J[me],me,J))return!1;return!0}function Ve(J,ye){for(var me=-1,je=J==null?0:J.length,Qe=0,kt=[];++me<je;){var It=J[me];ye(It,me,J)&&(kt[Qe++]=It)}return kt}function Ne(J,ye){var me=J==null?0:J.length;return!!me&&Le(J,ye,0)>-1}function at(J,ye,me){for(var je=-1,Qe=J==null?0:J.length;++je<Qe;)if(me(ye,J[je]))return!0;return!1}function Tt(J,ye){for(var me=-1,je=J==null?0:J.length,Qe=Array(je);++me<je;)Qe[me]=ye(J[me],me,J);return Qe}function Zt(J,ye){for(var me=-1,je=ye.length,Qe=J.length;++me<je;)J[Qe+me]=ye[me];return J}function Yt(J,ye,me,je){var Qe=-1,kt=J==null?0:J.length;for(je&&kt&&(me=J[++Qe]);++Qe<kt;)me=ye(me,J[Qe],Qe,J);return me}function P(J,ye,me,je){var Qe=J==null?0:J.length;for(je&&Qe&&(me=J[--Qe]);Qe--;)me=ye(me,J[Qe],Qe,J);return me}function B(J,ye){for(var me=-1,je=J==null?0:J.length;++me<je;)if(ye(J[me],me,J))return!0;return!1}var _=yt("length");function I(J){return J.split("")}function V(J){return J.match(ji)||[]}function oe(J,ye,me){var je;return me(J,function(Qe,kt,It){if(ye(Qe,kt,It))return je=kt,!1}),je}function re(J,ye,me,je){for(var Qe=J.length,kt=me+(je?1:-1);je?kt--:++kt<Qe;)if(ye(J[kt],kt,J))return kt;return-1}function Le(J,ye,me){return ye===ye?Z0(J,ye,me):re(J,gt,me)}function Ye(J,ye,me,je){for(var Qe=me-1,kt=J.length;++Qe<kt;)if(je(J[Qe],ye))return Qe;return-1}function gt(J){return J!==J}function mt(J,ye){var me=J==null?0:J.length;return me?vn(J,ye)/me:le}function yt(J){return function(ye){return ye==null?n:ye[J]}}function At(J){return function(ye){return J==null?n:J[ye]}}function qt(J,ye,me,je,Qe){return Qe(J,function(kt,It,St){me=je?(je=!1,kt):ye(me,kt,It,St)}),me}function hn(J,ye){var me=J.length;for(J.sort(ye);me--;)J[me]=J[me].value;return J}function vn(J,ye){for(var me,je=-1,Qe=J.length;++je<Qe;){var kt=ye(J[je]);kt!==n&&(me=me===n?kt:me+kt)}return me}function Zn(J,ye){for(var me=-1,je=Array(J);++me<J;)je[me]=ye(me);return je}function pi(J,ye){return Tt(ye,function(me){return[me,J[me]]})}function Nn(J){return J&&J.slice(0,mm(J)+1).replace(Hr,"")}function fn(J){return function(ye){return J(ye)}}function $i(J,ye){return Tt(ye,function(me){return J[me]})}function Di(J,ye){return J.has(ye)}function Ht(J,ye){for(var me=-1,je=J.length;++me<je&&Le(ye,J[me],0)>-1;);return me}function Ei(J,ye){for(var me=J.length;me--&&Le(ye,J[me],0)>-1;);return me}function si(J,ye){for(var me=J.length,je=0;me--;)J[me]===ye&&++je;return je}var Mo=At(Hu),bl=At(Cc);function _l(J){return"\\"+Gu[J]}function $s(J,ye){return J==null?n:J[ye]}function Ai(J){return tf.test(J)}function Wr(J){return nf.test(J)}function mo(J){for(var ye,me=[];!(ye=J.next()).done;)me.push(ye.value);return me}function Ea(J){var ye=-1,me=Array(J.size);return J.forEach(function(je,Qe){me[++ye]=[Qe,je]}),me}function qs(J,ye){return function(me){return J(ye(me))}}function yo(J,ye){for(var me=-1,je=J.length,Qe=0,kt=[];++me<je;){var It=J[me];(It===ye||It===f)&&(J[me]=f,kt[Qe++]=me)}return kt}function Aa(J){var ye=-1,me=Array(J.size);return J.forEach(function(je){me[++ye]=je}),me}function sf(J){var ye=-1,me=Array(J.size);return J.forEach(function(je){me[++ye]=[je,je]}),me}function Z0(J,ye,me){for(var je=me-1,Qe=J.length;++je<Qe;)if(J[je]===ye)return je;return-1}function Wu(J,ye,me){for(var je=me+1;je--;)if(J[je]===ye)return je;return je}function zs(J){return Ai(J)?ym(J):_(J)}function wr(J){return Ai(J)?ie(J):I(J)}function mm(J){for(var ye=J.length;ye--&&ns.test(J.charAt(ye)););return ye}var af=At(Vu);function ym(J){for(var ye=yl.lastIndex=0;yl.test(J);)++ye;return ye}function ie(J){return J.match(yl)||[]}function be(J){return J.match(ef)||[]}var Me=function J(ye){ye=ye==null?Hn:Re.defaults(Hn.Object(),ye,Re.pick(Hn,rf));var me=ye.Array,je=ye.Date,Qe=ye.Error,kt=ye.Function,It=ye.Math,St=ye.Object,on=ye.RegExp,$t=ye.String,pn=ye.TypeError,qi=me.prototype,Ki=kt.prototype,zi=St.prototype,Cr=ye["__core-js_shared__"],us=Ki.toString,en=zi.hasOwnProperty,jF=0,xT=function(){var c=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),vm=zi.toString,KF=us.call(St),YF=Hn._,XF=on("^"+us.call(en).replace(Ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bm=Tc?ye.Buffer:n,xl=ye.Symbol,_m=ye.Uint8Array,wT=bm?bm.allocUnsafe:n,xm=qs(St.getPrototypeOf,St),CT=St.create,TT=zi.propertyIsEnumerable,wm=qi.splice,ST=xl?xl.isConcatSpreadable:n,lf=xl?xl.iterator:n,Ec=xl?xl.toStringTag:n,Cm=function(){try{var c=Oc(St,"defineProperty");return c({},"",{}),c}catch{}}(),JF=ye.clearTimeout!==Hn.clearTimeout&&ye.clearTimeout,QF=je&&je.now!==Hn.Date.now&&je.now,ZF=ye.setTimeout!==Hn.setTimeout&&ye.setTimeout,Tm=It.ceil,Sm=It.floor,e_=St.getOwnPropertySymbols,eR=bm?bm.isBuffer:n,ET=ye.isFinite,tR=qi.join,nR=qs(St.keys,St),Ui=It.max,lr=It.min,iR=je.now,rR=ye.parseInt,AT=It.random,oR=qi.reverse,t_=Oc(ye,"DataView"),cf=Oc(ye,"Map"),n_=Oc(ye,"Promise"),ju=Oc(ye,"Set"),uf=Oc(ye,"WeakMap"),df=Oc(St,"create"),Em=uf&&new uf,Ku={},sR=Lc(t_),aR=Lc(cf),lR=Lc(n_),cR=Lc(ju),uR=Lc(uf),Am=xl?xl.prototype:n,hf=Am?Am.valueOf:n,kT=Am?Am.toString:n;function W(c){if(wi(c)&&!tn(c)&&!(c instanceof Sn)){if(c instanceof Fo)return c;if(en.call(c,"__wrapped__"))return IS(c)}return new Fo(c)}var Yu=function(){function c(){}return function(h){if(!vi(h))return{};if(CT)return CT(h);c.prototype=h;var y=new c;return c.prototype=n,y}}();function km(){}function Fo(c,h){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}W.templateSettings={escape:Wn,evaluate:ci,interpolate:Lo,variable:"",imports:{_:W}},W.prototype=km.prototype,W.prototype.constructor=W,Fo.prototype=Yu(km.prototype),Fo.prototype.constructor=Fo;function Sn(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function dR(){var c=new Sn(this.__wrapped__);return c.__actions__=jr(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=jr(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=jr(this.__views__),c}function hR(){if(this.__filtered__){var c=new Sn(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function fR(){var c=this.__wrapped__.value(),h=this.__dir__,y=tn(c),E=h<0,$=y?c.length:0,Y=SB(0,$,this.__views__),ue=Y.start,ve=Y.end,Pe=ve-ue,Ze=E?ve:ue-1,et=this.__iteratees__,ot=et.length,wt=0,Nt=lr(Pe,this.__takeCount__);if(!y||!E&&$==Pe&&Nt==Pe)return QT(c,this.__actions__);var jt=[];e:for(;Pe--&&wt<Nt;){Ze+=h;for(var ln=-1,Kt=c[Ze];++ln<ot;){var _n=et[ln],Pn=_n.iteratee,_o=_n.type,Er=Pn(Kt);if(_o==ae)Kt=Er;else if(!Er){if(_o==pe)continue e;break e}}jt[wt++]=Kt}return jt}Sn.prototype=Yu(km.prototype),Sn.prototype.constructor=Sn;function Ac(c){var h=-1,y=c==null?0:c.length;for(this.clear();++h<y;){var E=c[h];this.set(E[0],E[1])}}function pR(){this.__data__=df?df(null):{},this.size=0}function gR(c){var h=this.has(c)&&delete this.__data__[c];return this.size-=h?1:0,h}function mR(c){var h=this.__data__;if(df){var y=h[c];return y===l?n:y}return en.call(h,c)?h[c]:n}function yR(c){var h=this.__data__;return df?h[c]!==n:en.call(h,c)}function vR(c,h){var y=this.__data__;return this.size+=this.has(c)?0:1,y[c]=df&&h===n?l:h,this}Ac.prototype.clear=pR,Ac.prototype.delete=gR,Ac.prototype.get=mR,Ac.prototype.has=yR,Ac.prototype.set=vR;function ka(c){var h=-1,y=c==null?0:c.length;for(this.clear();++h<y;){var E=c[h];this.set(E[0],E[1])}}function bR(){this.__data__=[],this.size=0}function _R(c){var h=this.__data__,y=Im(h,c);if(y<0)return!1;var E=h.length-1;return y==E?h.pop():wm.call(h,y,1),--this.size,!0}function xR(c){var h=this.__data__,y=Im(h,c);return y<0?n:h[y][1]}function wR(c){return Im(this.__data__,c)>-1}function CR(c,h){var y=this.__data__,E=Im(y,c);return E<0?(++this.size,y.push([c,h])):y[E][1]=h,this}ka.prototype.clear=bR,ka.prototype.delete=_R,ka.prototype.get=xR,ka.prototype.has=wR,ka.prototype.set=CR;function Ia(c){var h=-1,y=c==null?0:c.length;for(this.clear();++h<y;){var E=c[h];this.set(E[0],E[1])}}function TR(){this.size=0,this.__data__={hash:new Ac,map:new(cf||ka),string:new Ac}}function SR(c){var h=zm(this,c).delete(c);return this.size-=h?1:0,h}function ER(c){return zm(this,c).get(c)}function AR(c){return zm(this,c).has(c)}function kR(c,h){var y=zm(this,c),E=y.size;return y.set(c,h),this.size+=y.size==E?0:1,this}Ia.prototype.clear=TR,Ia.prototype.delete=SR,Ia.prototype.get=ER,Ia.prototype.has=AR,Ia.prototype.set=kR;function kc(c){var h=-1,y=c==null?0:c.length;for(this.__data__=new Ia;++h<y;)this.add(c[h])}function IR(c){return this.__data__.set(c,l),this}function PR(c){return this.__data__.has(c)}kc.prototype.add=kc.prototype.push=IR,kc.prototype.has=PR;function ds(c){var h=this.__data__=new ka(c);this.size=h.size}function OR(){this.__data__=new ka,this.size=0}function LR(c){var h=this.__data__,y=h.delete(c);return this.size=h.size,y}function DR(c){return this.__data__.get(c)}function NR(c){return this.__data__.has(c)}function MR(c,h){var y=this.__data__;if(y instanceof ka){var E=y.__data__;if(!cf||E.length<r-1)return E.push([c,h]),this.size=++y.size,this;y=this.__data__=new Ia(E)}return y.set(c,h),this.size=y.size,this}ds.prototype.clear=OR,ds.prototype.delete=LR,ds.prototype.get=DR,ds.prototype.has=NR,ds.prototype.set=MR;function IT(c,h){var y=tn(c),E=!y&&Dc(c),$=!y&&!E&&El(c),Y=!y&&!E&&!$&&Zu(c),ue=y||E||$||Y,ve=ue?Zn(c.length,$t):[],Pe=ve.length;for(var Ze in c)(h||en.call(c,Ze))&&!(ue&&(Ze=="length"||$&&(Ze=="offset"||Ze=="parent")||Y&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Da(Ze,Pe)))&&ve.push(Ze);return ve}function PT(c){var h=c.length;return h?c[f_(0,h-1)]:n}function FR(c,h){return Um(jr(c),Ic(h,0,c.length))}function RR(c){return Um(jr(c))}function i_(c,h,y){(y!==n&&!hs(c[h],y)||y===n&&!(h in c))&&Pa(c,h,y)}function ff(c,h,y){var E=c[h];(!(en.call(c,h)&&hs(E,y))||y===n&&!(h in c))&&Pa(c,h,y)}function Im(c,h){for(var y=c.length;y--;)if(hs(c[y][0],h))return y;return-1}function BR(c,h,y,E){return wl(c,function($,Y,ue){h(E,$,y($),ue)}),E}function OT(c,h){return c&&Hs(h,Yi(h),c)}function $R(c,h){return c&&Hs(h,Yr(h),c)}function Pa(c,h,y){h=="__proto__"&&Cm?Cm(c,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):c[h]=y}function r_(c,h){for(var y=-1,E=h.length,$=me(E),Y=c==null;++y<E;)$[y]=Y?n:B_(c,h[y]);return $}function Ic(c,h,y){return c===c&&(y!==n&&(c=c<=y?c:y),h!==n&&(c=c>=h?c:h)),c}function Ro(c,h,y,E,$,Y){var ue,ve=h&d,Pe=h&m,Ze=h&b;if(y&&(ue=$?y(c,E,$,Y):y(c)),ue!==n)return ue;if(!vi(c))return c;var et=tn(c);if(et){if(ue=AB(c),!ve)return jr(c,ue)}else{var ot=cr(c),wt=ot==Ie||ot==U;if(El(c))return tS(c,ve);if(ot==fe||ot==st||wt&&!$){if(ue=Pe||wt?{}:_S(c),!ve)return Pe?mB(c,$R(ue,c)):gB(c,OT(ue,c))}else{if(!$n[ot])return $?c:{};ue=kB(c,ot,ve)}}Y||(Y=new ds);var Nt=Y.get(c);if(Nt)return Nt;Y.set(c,ue),YS(c)?c.forEach(function(Kt){ue.add(Ro(Kt,h,y,Kt,c,Y))}):jS(c)&&c.forEach(function(Kt,_n){ue.set(_n,Ro(Kt,h,y,_n,c,Y))});var jt=Ze?Pe?T_:C_:Pe?Yr:Yi,ln=et?n:jt(c);return se(ln||c,function(Kt,_n){ln&&(_n=Kt,Kt=c[_n]),ff(ue,_n,Ro(Kt,h,y,_n,c,Y))}),ue}function qR(c){var h=Yi(c);return function(y){return LT(y,c,h)}}function LT(c,h,y){var E=y.length;if(c==null)return!E;for(c=St(c);E--;){var $=y[E],Y=h[$],ue=c[$];if(ue===n&&!($ in c)||!Y(ue))return!1}return!0}function DT(c,h,y){if(typeof c!="function")throw new pn(s);return _f(function(){c.apply(n,y)},h)}function pf(c,h,y,E){var $=-1,Y=Ne,ue=!0,ve=c.length,Pe=[],Ze=h.length;if(!ve)return Pe;y&&(h=Tt(h,fn(y))),E?(Y=at,ue=!1):h.length>=r&&(Y=Di,ue=!1,h=new kc(h));e:for(;++$<ve;){var et=c[$],ot=y==null?et:y(et);if(et=E||et!==0?et:0,ue&&ot===ot){for(var wt=Ze;wt--;)if(h[wt]===ot)continue e;Pe.push(et)}else Y(h,ot,E)||Pe.push(et)}return Pe}var wl=sS(Us),NT=sS(s_,!0);function zR(c,h){var y=!0;return wl(c,function(E,$,Y){return y=!!h(E,$,Y),y}),y}function Pm(c,h,y){for(var E=-1,$=c.length;++E<$;){var Y=c[E],ue=h(Y);if(ue!=null&&(ve===n?ue===ue&&!bo(ue):y(ue,ve)))var ve=ue,Pe=Y}return Pe}function UR(c,h,y,E){var $=c.length;for(y=sn(y),y<0&&(y=-y>$?0:$+y),E=E===n||E>$?$:sn(E),E<0&&(E+=$),E=y>E?0:JS(E);y<E;)c[y++]=h;return c}function MT(c,h){var y=[];return wl(c,function(E,$,Y){h(E,$,Y)&&y.push(E)}),y}function er(c,h,y,E,$){var Y=-1,ue=c.length;for(y||(y=PB),$||($=[]);++Y<ue;){var ve=c[Y];h>0&&y(ve)?h>1?er(ve,h-1,y,E,$):Zt($,ve):E||($[$.length]=ve)}return $}var o_=aS(),FT=aS(!0);function Us(c,h){return c&&o_(c,h,Yi)}function s_(c,h){return c&&FT(c,h,Yi)}function Om(c,h){return Ve(h,function(y){return Na(c[y])})}function Pc(c,h){h=Tl(h,c);for(var y=0,E=h.length;c!=null&&y<E;)c=c[Vs(h[y++])];return y&&y==E?c:n}function RT(c,h,y){var E=h(c);return tn(c)?E:Zt(E,y(c))}function Tr(c){return c==null?c===n?vt:we:Ec&&Ec in St(c)?TB(c):RB(c)}function a_(c,h){return c>h}function HR(c,h){return c!=null&&en.call(c,h)}function VR(c,h){return c!=null&&h in St(c)}function GR(c,h,y){return c>=lr(h,y)&&c<Ui(h,y)}function l_(c,h,y){for(var E=y?at:Ne,$=c[0].length,Y=c.length,ue=Y,ve=me(Y),Pe=1/0,Ze=[];ue--;){var et=c[ue];ue&&h&&(et=Tt(et,fn(h))),Pe=lr(et.length,Pe),ve[ue]=!y&&(h||$>=120&&et.length>=120)?new kc(ue&&et):n}et=c[0];var ot=-1,wt=ve[0];e:for(;++ot<$&&Ze.length<Pe;){var Nt=et[ot],jt=h?h(Nt):Nt;if(Nt=y||Nt!==0?Nt:0,!(wt?Di(wt,jt):E(Ze,jt,y))){for(ue=Y;--ue;){var ln=ve[ue];if(!(ln?Di(ln,jt):E(c[ue],jt,y)))continue e}wt&&wt.push(jt),Ze.push(Nt)}}return Ze}function WR(c,h,y,E){return Us(c,function($,Y,ue){h(E,y($),Y,ue)}),E}function gf(c,h,y){h=Tl(h,c),c=TS(c,h);var E=c==null?c:c[Vs($o(h))];return E==null?n:H(E,c,y)}function BT(c){return wi(c)&&Tr(c)==st}function jR(c){return wi(c)&&Tr(c)==Et}function KR(c){return wi(c)&&Tr(c)==qe}function mf(c,h,y,E,$){return c===h?!0:c==null||h==null||!wi(c)&&!wi(h)?c!==c&&h!==h:YR(c,h,y,E,mf,$)}function YR(c,h,y,E,$,Y){var ue=tn(c),ve=tn(h),Pe=ue?lt:cr(c),Ze=ve?lt:cr(h);Pe=Pe==st?fe:Pe,Ze=Ze==st?fe:Ze;var et=Pe==fe,ot=Ze==fe,wt=Pe==Ze;if(wt&&El(c)){if(!El(h))return!1;ue=!0,et=!1}if(wt&&!et)return Y||(Y=new ds),ue||Zu(c)?yS(c,h,y,E,$,Y):wB(c,h,Pe,y,E,$,Y);if(!(y&x)){var Nt=et&&en.call(c,"__wrapped__"),jt=ot&&en.call(h,"__wrapped__");if(Nt||jt){var ln=Nt?c.value():c,Kt=jt?h.value():h;return Y||(Y=new ds),$(ln,Kt,y,E,Y)}}return wt?(Y||(Y=new ds),CB(c,h,y,E,$,Y)):!1}function XR(c){return wi(c)&&cr(c)==K}function c_(c,h,y,E){var $=y.length,Y=$,ue=!E;if(c==null)return!Y;for(c=St(c);$--;){var ve=y[$];if(ue&&ve[2]?ve[1]!==c[ve[0]]:!(ve[0]in c))return!1}for(;++$<Y;){ve=y[$];var Pe=ve[0],Ze=c[Pe],et=ve[1];if(ue&&ve[2]){if(Ze===n&&!(Pe in c))return!1}else{var ot=new ds;if(E)var wt=E(Ze,et,Pe,c,h,ot);if(!(wt===n?mf(et,Ze,x|C,E,ot):wt))return!1}}return!0}function $T(c){if(!vi(c)||LB(c))return!1;var h=Na(c)?XF:Te;return h.test(Lc(c))}function JR(c){return wi(c)&&Tr(c)==Je}function QR(c){return wi(c)&&cr(c)==nt}function ZR(c){return wi(c)&&Km(c.length)&&!!Bn[Tr(c)]}function qT(c){return typeof c=="function"?c:c==null?Xr:typeof c=="object"?tn(c)?HT(c[0],c[1]):UT(c):lE(c)}function u_(c){if(!bf(c))return nR(c);var h=[];for(var y in St(c))en.call(c,y)&&y!="constructor"&&h.push(y);return h}function eB(c){if(!vi(c))return FB(c);var h=bf(c),y=[];for(var E in c)E=="constructor"&&(h||!en.call(c,E))||y.push(E);return y}function d_(c,h){return c<h}function zT(c,h){var y=-1,E=Kr(c)?me(c.length):[];return wl(c,function($,Y,ue){E[++y]=h($,Y,ue)}),E}function UT(c){var h=E_(c);return h.length==1&&h[0][2]?wS(h[0][0],h[0][1]):function(y){return y===c||c_(y,c,h)}}function HT(c,h){return k_(c)&&xS(h)?wS(Vs(c),h):function(y){var E=B_(y,c);return E===n&&E===h?$_(y,c):mf(h,E,x|C)}}function Lm(c,h,y,E,$){c!==h&&o_(h,function(Y,ue){if($||($=new ds),vi(Y))tB(c,h,ue,y,Lm,E,$);else{var ve=E?E(P_(c,ue),Y,ue+"",c,h,$):n;ve===n&&(ve=Y),i_(c,ue,ve)}},Yr)}function tB(c,h,y,E,$,Y,ue){var ve=P_(c,y),Pe=P_(h,y),Ze=ue.get(Pe);if(Ze){i_(c,y,Ze);return}var et=Y?Y(ve,Pe,y+"",c,h,ue):n,ot=et===n;if(ot){var wt=tn(Pe),Nt=!wt&&El(Pe),jt=!wt&&!Nt&&Zu(Pe);et=Pe,wt||Nt||jt?tn(ve)?et=ve:ki(ve)?et=jr(ve):Nt?(ot=!1,et=tS(Pe,!0)):jt?(ot=!1,et=nS(Pe,!0)):et=[]:xf(Pe)||Dc(Pe)?(et=ve,Dc(ve)?et=QS(ve):(!vi(ve)||Na(ve))&&(et=_S(Pe))):ot=!1}ot&&(ue.set(Pe,et),$(et,Pe,E,Y,ue),ue.delete(Pe)),i_(c,y,et)}function VT(c,h){var y=c.length;if(y)return h+=h<0?y:0,Da(h,y)?c[h]:n}function GT(c,h,y){h.length?h=Tt(h,function(Y){return tn(Y)?function(ue){return Pc(ue,Y.length===1?Y[0]:Y)}:Y}):h=[Xr];var E=-1;h=Tt(h,fn(Vt()));var $=zT(c,function(Y,ue,ve){var Pe=Tt(h,function(Ze){return Ze(Y)});return{criteria:Pe,index:++E,value:Y}});return hn($,function(Y,ue){return pB(Y,ue,y)})}function nB(c,h){return WT(c,h,function(y,E){return $_(c,E)})}function WT(c,h,y){for(var E=-1,$=h.length,Y={};++E<$;){var ue=h[E],ve=Pc(c,ue);y(ve,ue)&&yf(Y,Tl(ue,c),ve)}return Y}function iB(c){return function(h){return Pc(h,c)}}function h_(c,h,y,E){var $=E?Ye:Le,Y=-1,ue=h.length,ve=c;for(c===h&&(h=jr(h)),y&&(ve=Tt(c,fn(y)));++Y<ue;)for(var Pe=0,Ze=h[Y],et=y?y(Ze):Ze;(Pe=$(ve,et,Pe,E))>-1;)ve!==c&&wm.call(ve,Pe,1),wm.call(c,Pe,1);return c}function jT(c,h){for(var y=c?h.length:0,E=y-1;y--;){var $=h[y];if(y==E||$!==Y){var Y=$;Da($)?wm.call(c,$,1):m_(c,$)}}return c}function f_(c,h){return c+Sm(AT()*(h-c+1))}function rB(c,h,y,E){for(var $=-1,Y=Ui(Tm((h-c)/(y||1)),0),ue=me(Y);Y--;)ue[E?Y:++$]=c,c+=y;return ue}function p_(c,h){var y="";if(!c||h<1||h>j)return y;do h%2&&(y+=c),h=Sm(h/2),h&&(c+=c);while(h);return y}function gn(c,h){return O_(CS(c,h,Xr),c+"")}function oB(c){return PT(ed(c))}function sB(c,h){var y=ed(c);return Um(y,Ic(h,0,y.length))}function yf(c,h,y,E){if(!vi(c))return c;h=Tl(h,c);for(var $=-1,Y=h.length,ue=Y-1,ve=c;ve!=null&&++$<Y;){var Pe=Vs(h[$]),Ze=y;if(Pe==="__proto__"||Pe==="constructor"||Pe==="prototype")return c;if($!=ue){var et=ve[Pe];Ze=E?E(et,Pe,ve):n,Ze===n&&(Ze=vi(et)?et:Da(h[$+1])?[]:{})}ff(ve,Pe,Ze),ve=ve[Pe]}return c}var KT=Em?function(c,h){return Em.set(c,h),c}:Xr,aB=Cm?function(c,h){return Cm(c,"toString",{configurable:!0,enumerable:!1,value:z_(h),writable:!0})}:Xr;function lB(c){return Um(ed(c))}function Bo(c,h,y){var E=-1,$=c.length;h<0&&(h=-h>$?0:$+h),y=y>$?$:y,y<0&&(y+=$),$=h>y?0:y-h>>>0,h>>>=0;for(var Y=me($);++E<$;)Y[E]=c[E+h];return Y}function cB(c,h){var y;return wl(c,function(E,$,Y){return y=h(E,$,Y),!y}),!!y}function Dm(c,h,y){var E=0,$=c==null?E:c.length;if(typeof h=="number"&&h===h&&$<=rt){for(;E<$;){var Y=E+$>>>1,ue=c[Y];ue!==null&&!bo(ue)&&(y?ue<=h:ue<h)?E=Y+1:$=Y}return $}return g_(c,h,Xr,y)}function g_(c,h,y,E){var $=0,Y=c==null?0:c.length;if(Y===0)return 0;h=y(h);for(var ue=h!==h,ve=h===null,Pe=bo(h),Ze=h===n;$<Y;){var et=Sm(($+Y)/2),ot=y(c[et]),wt=ot!==n,Nt=ot===null,jt=ot===ot,ln=bo(ot);if(ue)var Kt=E||jt;else Ze?Kt=jt&&(E||wt):ve?Kt=jt&&wt&&(E||!Nt):Pe?Kt=jt&&wt&&!Nt&&(E||!ln):Nt||ln?Kt=!1:Kt=E?ot<=h:ot<h;Kt?$=et+1:Y=et}return lr(Y,ke)}function YT(c,h){for(var y=-1,E=c.length,$=0,Y=[];++y<E;){var ue=c[y],ve=h?h(ue):ue;if(!y||!hs(ve,Pe)){var Pe=ve;Y[$++]=ue===0?0:ue}}return Y}function XT(c){return typeof c=="number"?c:bo(c)?le:+c}function vo(c){if(typeof c=="string")return c;if(tn(c))return Tt(c,vo)+"";if(bo(c))return kT?kT.call(c):"";var h=c+"";return h=="0"&&1/c==-G?"-0":h}function Cl(c,h,y){var E=-1,$=Ne,Y=c.length,ue=!0,ve=[],Pe=ve;if(y)ue=!1,$=at;else if(Y>=r){var Ze=h?null:_B(c);if(Ze)return Aa(Ze);ue=!1,$=Di,Pe=new kc}else Pe=h?[]:ve;e:for(;++E<Y;){var et=c[E],ot=h?h(et):et;if(et=y||et!==0?et:0,ue&&ot===ot){for(var wt=Pe.length;wt--;)if(Pe[wt]===ot)continue e;h&&Pe.push(ot),ve.push(et)}else $(Pe,ot,y)||(Pe!==ve&&Pe.push(ot),ve.push(et))}return ve}function m_(c,h){return h=Tl(h,c),c=TS(c,h),c==null||delete c[Vs($o(h))]}function JT(c,h,y,E){return yf(c,h,y(Pc(c,h)),E)}function Nm(c,h,y,E){for(var $=c.length,Y=E?$:-1;(E?Y--:++Y<$)&&h(c[Y],Y,c););return y?Bo(c,E?0:Y,E?Y+1:$):Bo(c,E?Y+1:0,E?$:Y)}function QT(c,h){var y=c;return y instanceof Sn&&(y=y.value()),Yt(h,function(E,$){return $.func.apply($.thisArg,Zt([E],$.args))},y)}function y_(c,h,y){var E=c.length;if(E<2)return E?Cl(c[0]):[];for(var $=-1,Y=me(E);++$<E;)for(var ue=c[$],ve=-1;++ve<E;)ve!=$&&(Y[$]=pf(Y[$]||ue,c[ve],h,y));return Cl(er(Y,1),h,y)}function ZT(c,h,y){for(var E=-1,$=c.length,Y=h.length,ue={};++E<$;){var ve=E<Y?h[E]:n;y(ue,c[E],ve)}return ue}function v_(c){return ki(c)?c:[]}function b_(c){return typeof c=="function"?c:Xr}function Tl(c,h){return tn(c)?c:k_(c,h)?[c]:kS(jn(c))}var uB=gn;function Sl(c,h,y){var E=c.length;return y=y===n?E:y,!h&&y>=E?c:Bo(c,h,y)}var eS=JF||function(c){return Hn.clearTimeout(c)};function tS(c,h){if(h)return c.slice();var y=c.length,E=wT?wT(y):new c.constructor(y);return c.copy(E),E}function __(c){var h=new c.constructor(c.byteLength);return new _m(h).set(new _m(c)),h}function dB(c,h){var y=h?__(c.buffer):c.buffer;return new c.constructor(y,c.byteOffset,c.byteLength)}function hB(c){var h=new c.constructor(c.source,is.exec(c));return h.lastIndex=c.lastIndex,h}function fB(c){return hf?St(hf.call(c)):{}}function nS(c,h){var y=h?__(c.buffer):c.buffer;return new c.constructor(y,c.byteOffset,c.length)}function iS(c,h){if(c!==h){var y=c!==n,E=c===null,$=c===c,Y=bo(c),ue=h!==n,ve=h===null,Pe=h===h,Ze=bo(h);if(!ve&&!Ze&&!Y&&c>h||Y&&ue&&Pe&&!ve&&!Ze||E&&ue&&Pe||!y&&Pe||!$)return 1;if(!E&&!Y&&!Ze&&c<h||Ze&&y&&$&&!E&&!Y||ve&&y&&$||!ue&&$||!Pe)return-1}return 0}function pB(c,h,y){for(var E=-1,$=c.criteria,Y=h.criteria,ue=$.length,ve=y.length;++E<ue;){var Pe=iS($[E],Y[E]);if(Pe){if(E>=ve)return Pe;var Ze=y[E];return Pe*(Ze=="desc"?-1:1)}}return c.index-h.index}function rS(c,h,y,E){for(var $=-1,Y=c.length,ue=y.length,ve=-1,Pe=h.length,Ze=Ui(Y-ue,0),et=me(Pe+Ze),ot=!E;++ve<Pe;)et[ve]=h[ve];for(;++$<ue;)(ot||$<Y)&&(et[y[$]]=c[$]);for(;Ze--;)et[ve++]=c[$++];return et}function oS(c,h,y,E){for(var $=-1,Y=c.length,ue=-1,ve=y.length,Pe=-1,Ze=h.length,et=Ui(Y-ve,0),ot=me(et+Ze),wt=!E;++$<et;)ot[$]=c[$];for(var Nt=$;++Pe<Ze;)ot[Nt+Pe]=h[Pe];for(;++ue<ve;)(wt||$<Y)&&(ot[Nt+y[ue]]=c[$++]);return ot}function jr(c,h){var y=-1,E=c.length;for(h||(h=me(E));++y<E;)h[y]=c[y];return h}function Hs(c,h,y,E){var $=!y;y||(y={});for(var Y=-1,ue=h.length;++Y<ue;){var ve=h[Y],Pe=E?E(y[ve],c[ve],ve,y,c):n;Pe===n&&(Pe=c[ve]),$?Pa(y,ve,Pe):ff(y,ve,Pe)}return y}function gB(c,h){return Hs(c,A_(c),h)}function mB(c,h){return Hs(c,vS(c),h)}function Mm(c,h){return function(y,E){var $=tn(y)?he:BR,Y=h?h():{};return $(y,c,Vt(E,2),Y)}}function Xu(c){return gn(function(h,y){var E=-1,$=y.length,Y=$>1?y[$-1]:n,ue=$>2?y[2]:n;for(Y=c.length>3&&typeof Y=="function"?($--,Y):n,ue&&Sr(y[0],y[1],ue)&&(Y=$<3?n:Y,$=1),h=St(h);++E<$;){var ve=y[E];ve&&c(h,ve,E,Y)}return h})}function sS(c,h){return function(y,E){if(y==null)return y;if(!Kr(y))return c(y,E);for(var $=y.length,Y=h?$:-1,ue=St(y);(h?Y--:++Y<$)&&E(ue[Y],Y,ue)!==!1;);return y}}function aS(c){return function(h,y,E){for(var $=-1,Y=St(h),ue=E(h),ve=ue.length;ve--;){var Pe=ue[c?ve:++$];if(y(Y[Pe],Pe,Y)===!1)break}return h}}function yB(c,h,y){var E=h&k,$=vf(c);function Y(){var ue=this&&this!==Hn&&this instanceof Y?$:c;return ue.apply(E?y:this,arguments)}return Y}function lS(c){return function(h){h=jn(h);var y=Ai(h)?wr(h):n,E=y?y[0]:h.charAt(0),$=y?Sl(y,1).join(""):h.slice(1);return E[c]()+$}}function Ju(c){return function(h){return Yt(sE(oE(h).replace(Ta,"")),c,"")}}function vf(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=Yu(c.prototype),E=c.apply(y,h);return vi(E)?E:y}}function vB(c,h,y){var E=vf(c);function $(){for(var Y=arguments.length,ue=me(Y),ve=Y,Pe=Qu($);ve--;)ue[ve]=arguments[ve];var Ze=Y<3&&ue[0]!==Pe&&ue[Y-1]!==Pe?[]:yo(ue,Pe);if(Y-=Ze.length,Y<y)return fS(c,h,Fm,$.placeholder,n,ue,Ze,n,n,y-Y);var et=this&&this!==Hn&&this instanceof $?E:c;return H(et,this,ue)}return $}function cS(c){return function(h,y,E){var $=St(h);if(!Kr(h)){var Y=Vt(y,3);h=Yi(h),y=function(ve){return Y($[ve],ve,$)}}var ue=c(h,y,E);return ue>-1?$[Y?h[ue]:ue]:n}}function uS(c){return La(function(h){var y=h.length,E=y,$=Fo.prototype.thru;for(c&&h.reverse();E--;){var Y=h[E];if(typeof Y!="function")throw new pn(s);if($&&!ue&&qm(Y)=="wrapper")var ue=new Fo([],!0)}for(E=ue?E:y;++E<y;){Y=h[E];var ve=qm(Y),Pe=ve=="wrapper"?S_(Y):n;Pe&&I_(Pe[0])&&Pe[1]==(g|R|Z|L)&&!Pe[4].length&&Pe[9]==1?ue=ue[qm(Pe[0])].apply(ue,Pe[3]):ue=Y.length==1&&I_(Y)?ue[ve]():ue.thru(Y)}return function(){var Ze=arguments,et=Ze[0];if(ue&&Ze.length==1&&tn(et))return ue.plant(et).value();for(var ot=0,wt=y?h[ot].apply(this,Ze):et;++ot<y;)wt=h[ot].call(this,wt);return wt}})}function Fm(c,h,y,E,$,Y,ue,ve,Pe,Ze){var et=h&g,ot=h&k,wt=h&T,Nt=h&(R|F),jt=h&M,ln=wt?n:vf(c);function Kt(){for(var _n=arguments.length,Pn=me(_n),_o=_n;_o--;)Pn[_o]=arguments[_o];if(Nt)var Er=Qu(Kt),xo=si(Pn,Er);if(E&&(Pn=rS(Pn,E,$,Nt)),Y&&(Pn=oS(Pn,Y,ue,Nt)),_n-=xo,Nt&&_n<Ze){var Ii=yo(Pn,Er);return fS(c,h,Fm,Kt.placeholder,y,Pn,Ii,ve,Pe,Ze-_n)}var fs=ot?y:this,Fa=wt?fs[c]:c;return _n=Pn.length,ve?Pn=BB(Pn,ve):jt&&_n>1&&Pn.reverse(),et&&Pe<_n&&(Pn.length=Pe),this&&this!==Hn&&this instanceof Kt&&(Fa=ln||vf(Fa)),Fa.apply(fs,Pn)}return Kt}function dS(c,h){return function(y,E){return WR(y,c,h(E),{})}}function Rm(c,h){return function(y,E){var $;if(y===n&&E===n)return h;if(y!==n&&($=y),E!==n){if($===n)return E;typeof y=="string"||typeof E=="string"?(y=vo(y),E=vo(E)):(y=XT(y),E=XT(E)),$=c(y,E)}return $}}function x_(c){return La(function(h){return h=Tt(h,fn(Vt())),gn(function(y){var E=this;return c(h,function($){return H($,E,y)})})})}function Bm(c,h){h=h===n?" ":vo(h);var y=h.length;if(y<2)return y?p_(h,c):h;var E=p_(h,Tm(c/zs(h)));return Ai(h)?Sl(wr(E),0,c).join(""):E.slice(0,c)}function bB(c,h,y,E){var $=h&k,Y=vf(c);function ue(){for(var ve=-1,Pe=arguments.length,Ze=-1,et=E.length,ot=me(et+Pe),wt=this&&this!==Hn&&this instanceof ue?Y:c;++Ze<et;)ot[Ze]=E[Ze];for(;Pe--;)ot[Ze++]=arguments[++ve];return H(wt,$?y:this,ot)}return ue}function hS(c){return function(h,y,E){return E&&typeof E!="number"&&Sr(h,y,E)&&(y=E=n),h=Ma(h),y===n?(y=h,h=0):y=Ma(y),E=E===n?h<y?1:-1:Ma(E),rB(h,y,E,c)}}function $m(c){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=qo(h),y=qo(y)),c(h,y)}}function fS(c,h,y,E,$,Y,ue,ve,Pe,Ze){var et=h&R,ot=et?ue:n,wt=et?n:ue,Nt=et?Y:n,jt=et?n:Y;h|=et?Z:ee,h&=~(et?ee:Z),h&A||(h&=~(k|T));var ln=[c,h,$,Nt,ot,jt,wt,ve,Pe,Ze],Kt=y.apply(n,ln);return I_(c)&&SS(Kt,ln),Kt.placeholder=E,ES(Kt,c,h)}function w_(c){var h=It[c];return function(y,E){if(y=qo(y),E=E==null?0:lr(sn(E),292),E&&ET(y)){var $=(jn(y)+"e").split("e"),Y=h($[0]+"e"+(+$[1]+E));return $=(jn(Y)+"e").split("e"),+($[0]+"e"+(+$[1]-E))}return h(y)}}var _B=ju&&1/Aa(new ju([,-0]))[1]==G?function(c){return new ju(c)}:V_;function pS(c){return function(h){var y=cr(h);return y==K?Ea(h):y==nt?sf(h):pi(h,c(h))}}function Oa(c,h,y,E,$,Y,ue,ve){var Pe=h&T;if(!Pe&&typeof c!="function")throw new pn(s);var Ze=E?E.length:0;if(Ze||(h&=~(Z|ee),E=$=n),ue=ue===n?ue:Ui(sn(ue),0),ve=ve===n?ve:sn(ve),Ze-=$?$.length:0,h&ee){var et=E,ot=$;E=$=n}var wt=Pe?n:S_(c),Nt=[c,h,y,E,$,et,ot,Y,ue,ve];if(wt&&MB(Nt,wt),c=Nt[0],h=Nt[1],y=Nt[2],E=Nt[3],$=Nt[4],ve=Nt[9]=Nt[9]===n?Pe?0:c.length:Ui(Nt[9]-Ze,0),!ve&&h&(R|F)&&(h&=~(R|F)),!h||h==k)var jt=yB(c,h,y);else h==R||h==F?jt=vB(c,h,ve):(h==Z||h==(k|Z))&&!$.length?jt=bB(c,h,y,E):jt=Fm.apply(n,Nt);var ln=wt?KT:SS;return ES(ln(jt,Nt),c,h)}function gS(c,h,y,E){return c===n||hs(c,zi[y])&&!en.call(E,y)?h:c}function mS(c,h,y,E,$,Y){return vi(c)&&vi(h)&&(Y.set(h,c),Lm(c,h,n,mS,Y),Y.delete(h)),c}function xB(c){return xf(c)?n:c}function yS(c,h,y,E,$,Y){var ue=y&x,ve=c.length,Pe=h.length;if(ve!=Pe&&!(ue&&Pe>ve))return!1;var Ze=Y.get(c),et=Y.get(h);if(Ze&&et)return Ze==h&&et==c;var ot=-1,wt=!0,Nt=y&C?new kc:n;for(Y.set(c,h),Y.set(h,c);++ot<ve;){var jt=c[ot],ln=h[ot];if(E)var Kt=ue?E(ln,jt,ot,h,c,Y):E(jt,ln,ot,c,h,Y);if(Kt!==n){if(Kt)continue;wt=!1;break}if(Nt){if(!B(h,function(_n,Pn){if(!Di(Nt,Pn)&&(jt===_n||$(jt,_n,y,E,Y)))return Nt.push(Pn)})){wt=!1;break}}else if(!(jt===ln||$(jt,ln,y,E,Y))){wt=!1;break}}return Y.delete(c),Y.delete(h),wt}function wB(c,h,y,E,$,Y,ue){switch(y){case Jt:if(c.byteLength!=h.byteLength||c.byteOffset!=h.byteOffset)return!1;c=c.buffer,h=h.buffer;case Et:return!(c.byteLength!=h.byteLength||!Y(new _m(c),new _m(h)));case $e:case qe:case ne:return hs(+c,+h);case xe:return c.name==h.name&&c.message==h.message;case Je:case Xe:return c==h+"";case K:var ve=Ea;case nt:var Pe=E&x;if(ve||(ve=Aa),c.size!=h.size&&!Pe)return!1;var Ze=ue.get(c);if(Ze)return Ze==h;E|=C,ue.set(c,h);var et=yS(ve(c),ve(h),E,$,Y,ue);return ue.delete(c),et;case ht:if(hf)return hf.call(c)==hf.call(h)}return!1}function CB(c,h,y,E,$,Y){var ue=y&x,ve=C_(c),Pe=ve.length,Ze=C_(h),et=Ze.length;if(Pe!=et&&!ue)return!1;for(var ot=Pe;ot--;){var wt=ve[ot];if(!(ue?wt in h:en.call(h,wt)))return!1}var Nt=Y.get(c),jt=Y.get(h);if(Nt&&jt)return Nt==h&&jt==c;var ln=!0;Y.set(c,h),Y.set(h,c);for(var Kt=ue;++ot<Pe;){wt=ve[ot];var _n=c[wt],Pn=h[wt];if(E)var _o=ue?E(Pn,_n,wt,h,c,Y):E(_n,Pn,wt,c,h,Y);if(!(_o===n?_n===Pn||$(_n,Pn,y,E,Y):_o)){ln=!1;break}Kt||(Kt=wt=="constructor")}if(ln&&!Kt){var Er=c.constructor,xo=h.constructor;Er!=xo&&"constructor"in c&&"constructor"in h&&!(typeof Er=="function"&&Er instanceof Er&&typeof xo=="function"&&xo instanceof xo)&&(ln=!1)}return Y.delete(c),Y.delete(h),ln}function La(c){return O_(CS(c,n,LS),c+"")}function C_(c){return RT(c,Yi,A_)}function T_(c){return RT(c,Yr,vS)}var S_=Em?function(c){return Em.get(c)}:V_;function qm(c){for(var h=c.name+"",y=Ku[h],E=en.call(Ku,h)?y.length:0;E--;){var $=y[E],Y=$.func;if(Y==null||Y==c)return $.name}return h}function Qu(c){var h=en.call(W,"placeholder")?W:c;return h.placeholder}function Vt(){var c=W.iteratee||U_;return c=c===U_?qT:c,arguments.length?c(arguments[0],arguments[1]):c}function zm(c,h){var y=c.__data__;return OB(h)?y[typeof h=="string"?"string":"hash"]:y.map}function E_(c){for(var h=Yi(c),y=h.length;y--;){var E=h[y],$=c[E];h[y]=[E,$,xS($)]}return h}function Oc(c,h){var y=$s(c,h);return $T(y)?y:n}function TB(c){var h=en.call(c,Ec),y=c[Ec];try{c[Ec]=n;var E=!0}catch{}var $=vm.call(c);return E&&(h?c[Ec]=y:delete c[Ec]),$}var A_=e_?function(c){return c==null?[]:(c=St(c),Ve(e_(c),function(h){return TT.call(c,h)}))}:G_,vS=e_?function(c){for(var h=[];c;)Zt(h,A_(c)),c=xm(c);return h}:G_,cr=Tr;(t_&&cr(new t_(new ArrayBuffer(1)))!=Jt||cf&&cr(new cf)!=K||n_&&cr(n_.resolve())!=ze||ju&&cr(new ju)!=nt||uf&&cr(new uf)!=Ge)&&(cr=function(c){var h=Tr(c),y=h==fe?c.constructor:n,E=y?Lc(y):"";if(E)switch(E){case sR:return Jt;case aR:return K;case lR:return ze;case cR:return nt;case uR:return Ge}return h});function SB(c,h,y){for(var E=-1,$=y.length;++E<$;){var Y=y[E],ue=Y.size;switch(Y.type){case"drop":c+=ue;break;case"dropRight":h-=ue;break;case"take":h=lr(h,c+ue);break;case"takeRight":c=Ui(c,h-ue);break}}return{start:c,end:h}}function EB(c){var h=c.match(vc);return h?h[1].split(Ps):[]}function bS(c,h,y){h=Tl(h,c);for(var E=-1,$=h.length,Y=!1;++E<$;){var ue=Vs(h[E]);if(!(Y=c!=null&&y(c,ue)))break;c=c[ue]}return Y||++E!=$?Y:($=c==null?0:c.length,!!$&&Km($)&&Da(ue,$)&&(tn(c)||Dc(c)))}function AB(c){var h=c.length,y=new c.constructor(h);return h&&typeof c[0]=="string"&&en.call(c,"index")&&(y.index=c.index,y.input=c.input),y}function _S(c){return typeof c.constructor=="function"&&!bf(c)?Yu(xm(c)):{}}function kB(c,h,y){var E=c.constructor;switch(h){case Et:return __(c);case $e:case qe:return new E(+c);case Jt:return dB(c,y);case yn:case Fn:case Rn:case Cn:case bn:case Gn:case yi:case Qn:case ti:return nS(c,y);case K:return new E;case ne:case Xe:return new E(c);case Je:return hB(c);case nt:return new E;case ht:return fB(c)}}function IB(c,h){var y=h.length;if(!y)return c;var E=y-1;return h[E]=(y>1?"& ":"")+h[E],h=h.join(y>2?", ":" "),c.replace(ll,`{
/* [wrapped with `+h+`] */
`)}function PB(c){return tn(c)||Dc(c)||!!(ST&&c&&c[ST])}function Da(c,h){var y=typeof c;return h=h??j,!!h&&(y=="number"||y!="symbol"&&Ct.test(c))&&c>-1&&c%1==0&&c<h}function Sr(c,h,y){if(!vi(y))return!1;var E=typeof h;return(E=="number"?Kr(y)&&Da(h,y.length):E=="string"&&h in y)?hs(y[h],c):!1}function k_(c,h){if(tn(c))return!1;var y=typeof c;return y=="number"||y=="symbol"||y=="boolean"||c==null||bo(c)?!0:Is.test(c)||!yc.test(c)||h!=null&&c in St(h)}function OB(c){var h=typeof c;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?c!=="__proto__":c===null}function I_(c){var h=qm(c),y=W[h];if(typeof y!="function"||!(h in Sn.prototype))return!1;if(c===y)return!0;var E=S_(y);return!!E&&c===E[0]}function LB(c){return!!xT&&xT in c}var DB=Cr?Na:W_;function bf(c){var h=c&&c.constructor,y=typeof h=="function"&&h.prototype||zi;return c===y}function xS(c){return c===c&&!vi(c)}function wS(c,h){return function(y){return y==null?!1:y[c]===h&&(h!==n||c in St(y))}}function NB(c){var h=Wm(c,function(E){return y.size===u&&y.clear(),E}),y=h.cache;return h}function MB(c,h){var y=c[1],E=h[1],$=y|E,Y=$<(k|T|g),ue=E==g&&y==R||E==g&&y==L&&c[7].length<=h[8]||E==(g|L)&&h[7].length<=h[8]&&y==R;if(!(Y||ue))return c;E&k&&(c[2]=h[2],$|=y&k?0:A);var ve=h[3];if(ve){var Pe=c[3];c[3]=Pe?rS(Pe,ve,h[4]):ve,c[4]=Pe?yo(c[3],f):h[4]}return ve=h[5],ve&&(Pe=c[5],c[5]=Pe?oS(Pe,ve,h[6]):ve,c[6]=Pe?yo(c[5],f):h[6]),ve=h[7],ve&&(c[7]=ve),E&g&&(c[8]=c[8]==null?h[8]:lr(c[8],h[8])),c[9]==null&&(c[9]=h[9]),c[0]=h[0],c[1]=$,c}function FB(c){var h=[];if(c!=null)for(var y in St(c))h.push(y);return h}function RB(c){return vm.call(c)}function CS(c,h,y){return h=Ui(h===n?c.length-1:h,0),function(){for(var E=arguments,$=-1,Y=Ui(E.length-h,0),ue=me(Y);++$<Y;)ue[$]=E[h+$];$=-1;for(var ve=me(h+1);++$<h;)ve[$]=E[$];return ve[h]=y(ue),H(c,this,ve)}}function TS(c,h){return h.length<2?c:Pc(c,Bo(h,0,-1))}function BB(c,h){for(var y=c.length,E=lr(h.length,y),$=jr(c);E--;){var Y=h[E];c[E]=Da(Y,y)?$[Y]:n}return c}function P_(c,h){if(!(h==="constructor"&&typeof c[h]=="function")&&h!="__proto__")return c[h]}var SS=AS(KT),_f=ZF||function(c,h){return Hn.setTimeout(c,h)},O_=AS(aB);function ES(c,h,y){var E=h+"";return O_(c,IB(E,$B(EB(E),y)))}function AS(c){var h=0,y=0;return function(){var E=iR(),$=ce-(E-y);if(y=E,$>0){if(++h>=de)return arguments[0]}else h=0;return c.apply(n,arguments)}}function Um(c,h){var y=-1,E=c.length,$=E-1;for(h=h===n?E:h;++y<h;){var Y=f_(y,$),ue=c[Y];c[Y]=c[y],c[y]=ue}return c.length=h,c}var kS=NB(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(ts,function(y,E,$,Y){h.push($?Y.replace(va,"$1"):E||y)}),h});function Vs(c){if(typeof c=="string"||bo(c))return c;var h=c+"";return h=="0"&&1/c==-G?"-0":h}function Lc(c){if(c!=null){try{return us.call(c)}catch{}try{return c+""}catch{}}return""}function $B(c,h){return se(Be,function(y){var E="_."+y[0];h&y[1]&&!Ne(c,E)&&c.push(E)}),c.sort()}function IS(c){if(c instanceof Sn)return c.clone();var h=new Fo(c.__wrapped__,c.__chain__);return h.__actions__=jr(c.__actions__),h.__index__=c.__index__,h.__values__=c.__values__,h}function qB(c,h,y){(y?Sr(c,h,y):h===n)?h=1:h=Ui(sn(h),0);var E=c==null?0:c.length;if(!E||h<1)return[];for(var $=0,Y=0,ue=me(Tm(E/h));$<E;)ue[Y++]=Bo(c,$,$+=h);return ue}function zB(c){for(var h=-1,y=c==null?0:c.length,E=0,$=[];++h<y;){var Y=c[h];Y&&($[E++]=Y)}return $}function UB(){var c=arguments.length;if(!c)return[];for(var h=me(c-1),y=arguments[0],E=c;E--;)h[E-1]=arguments[E];return Zt(tn(y)?jr(y):[y],er(h,1))}var HB=gn(function(c,h){return ki(c)?pf(c,er(h,1,ki,!0)):[]}),VB=gn(function(c,h){var y=$o(h);return ki(y)&&(y=n),ki(c)?pf(c,er(h,1,ki,!0),Vt(y,2)):[]}),GB=gn(function(c,h){var y=$o(h);return ki(y)&&(y=n),ki(c)?pf(c,er(h,1,ki,!0),n,y):[]});function WB(c,h,y){var E=c==null?0:c.length;return E?(h=y||h===n?1:sn(h),Bo(c,h<0?0:h,E)):[]}function jB(c,h,y){var E=c==null?0:c.length;return E?(h=y||h===n?1:sn(h),h=E-h,Bo(c,0,h<0?0:h)):[]}function KB(c,h){return c&&c.length?Nm(c,Vt(h,3),!0,!0):[]}function YB(c,h){return c&&c.length?Nm(c,Vt(h,3),!0):[]}function XB(c,h,y,E){var $=c==null?0:c.length;return $?(y&&typeof y!="number"&&Sr(c,h,y)&&(y=0,E=$),UR(c,h,y,E)):[]}function PS(c,h,y){var E=c==null?0:c.length;if(!E)return-1;var $=y==null?0:sn(y);return $<0&&($=Ui(E+$,0)),re(c,Vt(h,3),$)}function OS(c,h,y){var E=c==null?0:c.length;if(!E)return-1;var $=E-1;return y!==n&&($=sn(y),$=y<0?Ui(E+$,0):lr($,E-1)),re(c,Vt(h,3),$,!0)}function LS(c){var h=c==null?0:c.length;return h?er(c,1):[]}function JB(c){var h=c==null?0:c.length;return h?er(c,G):[]}function QB(c,h){var y=c==null?0:c.length;return y?(h=h===n?1:sn(h),er(c,h)):[]}function ZB(c){for(var h=-1,y=c==null?0:c.length,E={};++h<y;){var $=c[h];E[$[0]]=$[1]}return E}function DS(c){return c&&c.length?c[0]:n}function e3(c,h,y){var E=c==null?0:c.length;if(!E)return-1;var $=y==null?0:sn(y);return $<0&&($=Ui(E+$,0)),Le(c,h,$)}function t3(c){var h=c==null?0:c.length;return h?Bo(c,0,-1):[]}var n3=gn(function(c){var h=Tt(c,v_);return h.length&&h[0]===c[0]?l_(h):[]}),i3=gn(function(c){var h=$o(c),y=Tt(c,v_);return h===$o(y)?h=n:y.pop(),y.length&&y[0]===c[0]?l_(y,Vt(h,2)):[]}),r3=gn(function(c){var h=$o(c),y=Tt(c,v_);return h=typeof h=="function"?h:n,h&&y.pop(),y.length&&y[0]===c[0]?l_(y,n,h):[]});function o3(c,h){return c==null?"":tR.call(c,h)}function $o(c){var h=c==null?0:c.length;return h?c[h-1]:n}function s3(c,h,y){var E=c==null?0:c.length;if(!E)return-1;var $=E;return y!==n&&($=sn(y),$=$<0?Ui(E+$,0):lr($,E-1)),h===h?Wu(c,h,$):re(c,gt,$,!0)}function a3(c,h){return c&&c.length?VT(c,sn(h)):n}var l3=gn(NS);function NS(c,h){return c&&c.length&&h&&h.length?h_(c,h):c}function c3(c,h,y){return c&&c.length&&h&&h.length?h_(c,h,Vt(y,2)):c}function u3(c,h,y){return c&&c.length&&h&&h.length?h_(c,h,n,y):c}var d3=La(function(c,h){var y=c==null?0:c.length,E=r_(c,h);return jT(c,Tt(h,function($){return Da($,y)?+$:$}).sort(iS)),E});function h3(c,h){var y=[];if(!(c&&c.length))return y;var E=-1,$=[],Y=c.length;for(h=Vt(h,3);++E<Y;){var ue=c[E];h(ue,E,c)&&(y.push(ue),$.push(E))}return jT(c,$),y}function L_(c){return c==null?c:oR.call(c)}function f3(c,h,y){var E=c==null?0:c.length;return E?(y&&typeof y!="number"&&Sr(c,h,y)?(h=0,y=E):(h=h==null?0:sn(h),y=y===n?E:sn(y)),Bo(c,h,y)):[]}function p3(c,h){return Dm(c,h)}function g3(c,h,y){return g_(c,h,Vt(y,2))}function m3(c,h){var y=c==null?0:c.length;if(y){var E=Dm(c,h);if(E<y&&hs(c[E],h))return E}return-1}function y3(c,h){return Dm(c,h,!0)}function v3(c,h,y){return g_(c,h,Vt(y,2),!0)}function b3(c,h){var y=c==null?0:c.length;if(y){var E=Dm(c,h,!0)-1;if(hs(c[E],h))return E}return-1}function _3(c){return c&&c.length?YT(c):[]}function x3(c,h){return c&&c.length?YT(c,Vt(h,2)):[]}function w3(c){var h=c==null?0:c.length;return h?Bo(c,1,h):[]}function C3(c,h,y){return c&&c.length?(h=y||h===n?1:sn(h),Bo(c,0,h<0?0:h)):[]}function T3(c,h,y){var E=c==null?0:c.length;return E?(h=y||h===n?1:sn(h),h=E-h,Bo(c,h<0?0:h,E)):[]}function S3(c,h){return c&&c.length?Nm(c,Vt(h,3),!1,!0):[]}function E3(c,h){return c&&c.length?Nm(c,Vt(h,3)):[]}var A3=gn(function(c){return Cl(er(c,1,ki,!0))}),k3=gn(function(c){var h=$o(c);return ki(h)&&(h=n),Cl(er(c,1,ki,!0),Vt(h,2))}),I3=gn(function(c){var h=$o(c);return h=typeof h=="function"?h:n,Cl(er(c,1,ki,!0),n,h)});function P3(c){return c&&c.length?Cl(c):[]}function O3(c,h){return c&&c.length?Cl(c,Vt(h,2)):[]}function L3(c,h){return h=typeof h=="function"?h:n,c&&c.length?Cl(c,n,h):[]}function D_(c){if(!(c&&c.length))return[];var h=0;return c=Ve(c,function(y){if(ki(y))return h=Ui(y.length,h),!0}),Zn(h,function(y){return Tt(c,yt(y))})}function MS(c,h){if(!(c&&c.length))return[];var y=D_(c);return h==null?y:Tt(y,function(E){return H(h,n,E)})}var D3=gn(function(c,h){return ki(c)?pf(c,h):[]}),N3=gn(function(c){return y_(Ve(c,ki))}),M3=gn(function(c){var h=$o(c);return ki(h)&&(h=n),y_(Ve(c,ki),Vt(h,2))}),F3=gn(function(c){var h=$o(c);return h=typeof h=="function"?h:n,y_(Ve(c,ki),n,h)}),R3=gn(D_);function B3(c,h){return ZT(c||[],h||[],ff)}function $3(c,h){return ZT(c||[],h||[],yf)}var q3=gn(function(c){var h=c.length,y=h>1?c[h-1]:n;return y=typeof y=="function"?(c.pop(),y):n,MS(c,y)});function FS(c){var h=W(c);return h.__chain__=!0,h}function z3(c,h){return h(c),c}function Hm(c,h){return h(c)}var U3=La(function(c){var h=c.length,y=h?c[0]:0,E=this.__wrapped__,$=function(Y){return r_(Y,c)};return h>1||this.__actions__.length||!(E instanceof Sn)||!Da(y)?this.thru($):(E=E.slice(y,+y+(h?1:0)),E.__actions__.push({func:Hm,args:[$],thisArg:n}),new Fo(E,this.__chain__).thru(function(Y){return h&&!Y.length&&Y.push(n),Y}))});function H3(){return FS(this)}function V3(){return new Fo(this.value(),this.__chain__)}function G3(){this.__values__===n&&(this.__values__=XS(this.value()));var c=this.__index__>=this.__values__.length,h=c?n:this.__values__[this.__index__++];return{done:c,value:h}}function W3(){return this}function j3(c){for(var h,y=this;y instanceof km;){var E=IS(y);E.__index__=0,E.__values__=n,h?$.__wrapped__=E:h=E;var $=E;y=y.__wrapped__}return $.__wrapped__=c,h}function K3(){var c=this.__wrapped__;if(c instanceof Sn){var h=c;return this.__actions__.length&&(h=new Sn(this)),h=h.reverse(),h.__actions__.push({func:Hm,args:[L_],thisArg:n}),new Fo(h,this.__chain__)}return this.thru(L_)}function Y3(){return QT(this.__wrapped__,this.__actions__)}var X3=Mm(function(c,h,y){en.call(c,y)?++c[y]:Pa(c,y,1)});function J3(c,h,y){var E=tn(c)?Ue:zR;return y&&Sr(c,h,y)&&(h=n),E(c,Vt(h,3))}function Q3(c,h){var y=tn(c)?Ve:MT;return y(c,Vt(h,3))}var Z3=cS(PS),e$=cS(OS);function t$(c,h){return er(Vm(c,h),1)}function n$(c,h){return er(Vm(c,h),G)}function i$(c,h,y){return y=y===n?1:sn(y),er(Vm(c,h),y)}function RS(c,h){var y=tn(c)?se:wl;return y(c,Vt(h,3))}function BS(c,h){var y=tn(c)?Ee:NT;return y(c,Vt(h,3))}var r$=Mm(function(c,h,y){en.call(c,y)?c[y].push(h):Pa(c,y,[h])});function o$(c,h,y,E){c=Kr(c)?c:ed(c),y=y&&!E?sn(y):0;var $=c.length;return y<0&&(y=Ui($+y,0)),Ym(c)?y<=$&&c.indexOf(h,y)>-1:!!$&&Le(c,h,y)>-1}var s$=gn(function(c,h,y){var E=-1,$=typeof h=="function",Y=Kr(c)?me(c.length):[];return wl(c,function(ue){Y[++E]=$?H(h,ue,y):gf(ue,h,y)}),Y}),a$=Mm(function(c,h,y){Pa(c,y,h)});function Vm(c,h){var y=tn(c)?Tt:zT;return y(c,Vt(h,3))}function l$(c,h,y,E){return c==null?[]:(tn(h)||(h=h==null?[]:[h]),y=E?n:y,tn(y)||(y=y==null?[]:[y]),GT(c,h,y))}var c$=Mm(function(c,h,y){c[y?0:1].push(h)},function(){return[[],[]]});function u$(c,h,y){var E=tn(c)?Yt:qt,$=arguments.length<3;return E(c,Vt(h,4),y,$,wl)}function d$(c,h,y){var E=tn(c)?P:qt,$=arguments.length<3;return E(c,Vt(h,4),y,$,NT)}function h$(c,h){var y=tn(c)?Ve:MT;return y(c,jm(Vt(h,3)))}function f$(c){var h=tn(c)?PT:oB;return h(c)}function p$(c,h,y){(y?Sr(c,h,y):h===n)?h=1:h=sn(h);var E=tn(c)?FR:sB;return E(c,h)}function g$(c){var h=tn(c)?RR:lB;return h(c)}function m$(c){if(c==null)return 0;if(Kr(c))return Ym(c)?zs(c):c.length;var h=cr(c);return h==K||h==nt?c.size:u_(c).length}function y$(c,h,y){var E=tn(c)?B:cB;return y&&Sr(c,h,y)&&(h=n),E(c,Vt(h,3))}var v$=gn(function(c,h){if(c==null)return[];var y=h.length;return y>1&&Sr(c,h[0],h[1])?h=[]:y>2&&Sr(h[0],h[1],h[2])&&(h=[h[0]]),GT(c,er(h,1),[])}),Gm=QF||function(){return Hn.Date.now()};function b$(c,h){if(typeof h!="function")throw new pn(s);return c=sn(c),function(){if(--c<1)return h.apply(this,arguments)}}function $S(c,h,y){return h=y?n:h,h=c&&h==null?c.length:h,Oa(c,g,n,n,n,n,h)}function qS(c,h){var y;if(typeof h!="function")throw new pn(s);return c=sn(c),function(){return--c>0&&(y=h.apply(this,arguments)),c<=1&&(h=n),y}}var N_=gn(function(c,h,y){var E=k;if(y.length){var $=yo(y,Qu(N_));E|=Z}return Oa(c,E,h,y,$)}),zS=gn(function(c,h,y){var E=k|T;if(y.length){var $=yo(y,Qu(zS));E|=Z}return Oa(h,E,c,y,$)});function US(c,h,y){h=y?n:h;var E=Oa(c,R,n,n,n,n,n,h);return E.placeholder=US.placeholder,E}function HS(c,h,y){h=y?n:h;var E=Oa(c,F,n,n,n,n,n,h);return E.placeholder=HS.placeholder,E}function VS(c,h,y){var E,$,Y,ue,ve,Pe,Ze=0,et=!1,ot=!1,wt=!0;if(typeof c!="function")throw new pn(s);h=qo(h)||0,vi(y)&&(et=!!y.leading,ot="maxWait"in y,Y=ot?Ui(qo(y.maxWait)||0,h):Y,wt="trailing"in y?!!y.trailing:wt);function Nt(Ii){var fs=E,Fa=$;return E=$=n,Ze=Ii,ue=c.apply(Fa,fs),ue}function jt(Ii){return Ze=Ii,ve=_f(_n,h),et?Nt(Ii):ue}function ln(Ii){var fs=Ii-Pe,Fa=Ii-Ze,cE=h-fs;return ot?lr(cE,Y-Fa):cE}function Kt(Ii){var fs=Ii-Pe,Fa=Ii-Ze;return Pe===n||fs>=h||fs<0||ot&&Fa>=Y}function _n(){var Ii=Gm();if(Kt(Ii))return Pn(Ii);ve=_f(_n,ln(Ii))}function Pn(Ii){return ve=n,wt&&E?Nt(Ii):(E=$=n,ue)}function _o(){ve!==n&&eS(ve),Ze=0,E=Pe=$=ve=n}function Er(){return ve===n?ue:Pn(Gm())}function xo(){var Ii=Gm(),fs=Kt(Ii);if(E=arguments,$=this,Pe=Ii,fs){if(ve===n)return jt(Pe);if(ot)return eS(ve),ve=_f(_n,h),Nt(Pe)}return ve===n&&(ve=_f(_n,h)),ue}return xo.cancel=_o,xo.flush=Er,xo}var _$=gn(function(c,h){return DT(c,1,h)}),x$=gn(function(c,h,y){return DT(c,qo(h)||0,y)});function w$(c){return Oa(c,M)}function Wm(c,h){if(typeof c!="function"||h!=null&&typeof h!="function")throw new pn(s);var y=function(){var E=arguments,$=h?h.apply(this,E):E[0],Y=y.cache;if(Y.has($))return Y.get($);var ue=c.apply(this,E);return y.cache=Y.set($,ue)||Y,ue};return y.cache=new(Wm.Cache||Ia),y}Wm.Cache=Ia;function jm(c){if(typeof c!="function")throw new pn(s);return function(){var h=arguments;switch(h.length){case 0:return!c.call(this);case 1:return!c.call(this,h[0]);case 2:return!c.call(this,h[0],h[1]);case 3:return!c.call(this,h[0],h[1],h[2])}return!c.apply(this,h)}}function C$(c){return qS(2,c)}var T$=uB(function(c,h){h=h.length==1&&tn(h[0])?Tt(h[0],fn(Vt())):Tt(er(h,1),fn(Vt()));var y=h.length;return gn(function(E){for(var $=-1,Y=lr(E.length,y);++$<Y;)E[$]=h[$].call(this,E[$]);return H(c,this,E)})}),M_=gn(function(c,h){var y=yo(h,Qu(M_));return Oa(c,Z,n,h,y)}),GS=gn(function(c,h){var y=yo(h,Qu(GS));return Oa(c,ee,n,h,y)}),S$=La(function(c,h){return Oa(c,L,n,n,n,h)});function E$(c,h){if(typeof c!="function")throw new pn(s);return h=h===n?h:sn(h),gn(c,h)}function A$(c,h){if(typeof c!="function")throw new pn(s);return h=h==null?0:Ui(sn(h),0),gn(function(y){var E=y[h],$=Sl(y,0,h);return E&&Zt($,E),H(c,this,$)})}function k$(c,h,y){var E=!0,$=!0;if(typeof c!="function")throw new pn(s);return vi(y)&&(E="leading"in y?!!y.leading:E,$="trailing"in y?!!y.trailing:$),VS(c,h,{leading:E,maxWait:h,trailing:$})}function I$(c){return $S(c,1)}function P$(c,h){return M_(b_(h),c)}function O$(){if(!arguments.length)return[];var c=arguments[0];return tn(c)?c:[c]}function L$(c){return Ro(c,b)}function D$(c,h){return h=typeof h=="function"?h:n,Ro(c,b,h)}function N$(c){return Ro(c,d|b)}function M$(c,h){return h=typeof h=="function"?h:n,Ro(c,d|b,h)}function F$(c,h){return h==null||LT(c,h,Yi(h))}function hs(c,h){return c===h||c!==c&&h!==h}var R$=$m(a_),B$=$m(function(c,h){return c>=h}),Dc=BT(function(){return arguments}())?BT:function(c){return wi(c)&&en.call(c,"callee")&&!TT.call(c,"callee")},tn=me.isArray,$$=p?fn(p):jR;function Kr(c){return c!=null&&Km(c.length)&&!Na(c)}function ki(c){return wi(c)&&Kr(c)}function q$(c){return c===!0||c===!1||wi(c)&&Tr(c)==$e}var El=eR||W_,z$=v?fn(v):KR;function U$(c){return wi(c)&&c.nodeType===1&&!xf(c)}function H$(c){if(c==null)return!0;if(Kr(c)&&(tn(c)||typeof c=="string"||typeof c.splice=="function"||El(c)||Zu(c)||Dc(c)))return!c.length;var h=cr(c);if(h==K||h==nt)return!c.size;if(bf(c))return!u_(c).length;for(var y in c)if(en.call(c,y))return!1;return!0}function V$(c,h){return mf(c,h)}function G$(c,h,y){y=typeof y=="function"?y:n;var E=y?y(c,h):n;return E===n?mf(c,h,n,y):!!E}function F_(c){if(!wi(c))return!1;var h=Tr(c);return h==xe||h==Fe||typeof c.message=="string"&&typeof c.name=="string"&&!xf(c)}function W$(c){return typeof c=="number"&&ET(c)}function Na(c){if(!vi(c))return!1;var h=Tr(c);return h==Ie||h==U||h==Se||h==tt}function WS(c){return typeof c=="number"&&c==sn(c)}function Km(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=j}function vi(c){var h=typeof c;return c!=null&&(h=="object"||h=="function")}function wi(c){return c!=null&&typeof c=="object"}var jS=w?fn(w):XR;function j$(c,h){return c===h||c_(c,h,E_(h))}function K$(c,h,y){return y=typeof y=="function"?y:n,c_(c,h,E_(h),y)}function Y$(c){return KS(c)&&c!=+c}function X$(c){if(DB(c))throw new Qe(o);return $T(c)}function J$(c){return c===null}function Q$(c){return c==null}function KS(c){return typeof c=="number"||wi(c)&&Tr(c)==ne}function xf(c){if(!wi(c)||Tr(c)!=fe)return!1;var h=xm(c);if(h===null)return!0;var y=en.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&us.call(y)==KF}var R_=S?fn(S):JR;function Z$(c){return WS(c)&&c>=-j&&c<=j}var YS=D?fn(D):QR;function Ym(c){return typeof c=="string"||!tn(c)&&wi(c)&&Tr(c)==Xe}function bo(c){return typeof c=="symbol"||wi(c)&&Tr(c)==ht}var Zu=N?fn(N):ZR;function eq(c){return c===n}function tq(c){return wi(c)&&cr(c)==Ge}function nq(c){return wi(c)&&Tr(c)==ft}var iq=$m(d_),rq=$m(function(c,h){return c<=h});function XS(c){if(!c)return[];if(Kr(c))return Ym(c)?wr(c):jr(c);if(lf&&c[lf])return mo(c[lf]());var h=cr(c),y=h==K?Ea:h==nt?Aa:ed;return y(c)}function Ma(c){if(!c)return c===0?c:0;if(c=qo(c),c===G||c===-G){var h=c<0?-1:1;return h*te}return c===c?c:0}function sn(c){var h=Ma(c),y=h%1;return h===h?y?h-y:h:0}function JS(c){return c?Ic(sn(c),0,Ae):0}function qo(c){if(typeof c=="number")return c;if(bo(c))return le;if(vi(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=vi(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=Nn(c);var y=Lt.test(c);return y||ct.test(c)?cs(c.slice(2),y?2:8):fo.test(c)?le:+c}function QS(c){return Hs(c,Yr(c))}function oq(c){return c?Ic(sn(c),-j,j):c===0?c:0}function jn(c){return c==null?"":vo(c)}var sq=Xu(function(c,h){if(bf(h)||Kr(h)){Hs(h,Yi(h),c);return}for(var y in h)en.call(h,y)&&ff(c,y,h[y])}),ZS=Xu(function(c,h){Hs(h,Yr(h),c)}),Xm=Xu(function(c,h,y,E){Hs(h,Yr(h),c,E)}),aq=Xu(function(c,h,y,E){Hs(h,Yi(h),c,E)}),lq=La(r_);function cq(c,h){var y=Yu(c);return h==null?y:OT(y,h)}var uq=gn(function(c,h){c=St(c);var y=-1,E=h.length,$=E>2?h[2]:n;for($&&Sr(h[0],h[1],$)&&(E=1);++y<E;)for(var Y=h[y],ue=Yr(Y),ve=-1,Pe=ue.length;++ve<Pe;){var Ze=ue[ve],et=c[Ze];(et===n||hs(et,zi[Ze])&&!en.call(c,Ze))&&(c[Ze]=Y[Ze])}return c}),dq=gn(function(c){return c.push(n,mS),H(eE,n,c)});function hq(c,h){return oe(c,Vt(h,3),Us)}function fq(c,h){return oe(c,Vt(h,3),s_)}function pq(c,h){return c==null?c:o_(c,Vt(h,3),Yr)}function gq(c,h){return c==null?c:FT(c,Vt(h,3),Yr)}function mq(c,h){return c&&Us(c,Vt(h,3))}function yq(c,h){return c&&s_(c,Vt(h,3))}function vq(c){return c==null?[]:Om(c,Yi(c))}function bq(c){return c==null?[]:Om(c,Yr(c))}function B_(c,h,y){var E=c==null?n:Pc(c,h);return E===n?y:E}function _q(c,h){return c!=null&&bS(c,h,HR)}function $_(c,h){return c!=null&&bS(c,h,VR)}var xq=dS(function(c,h,y){h!=null&&typeof h.toString!="function"&&(h=vm.call(h)),c[h]=y},z_(Xr)),wq=dS(function(c,h,y){h!=null&&typeof h.toString!="function"&&(h=vm.call(h)),en.call(c,h)?c[h].push(y):c[h]=[y]},Vt),Cq=gn(gf);function Yi(c){return Kr(c)?IT(c):u_(c)}function Yr(c){return Kr(c)?IT(c,!0):eB(c)}function Tq(c,h){var y={};return h=Vt(h,3),Us(c,function(E,$,Y){Pa(y,h(E,$,Y),E)}),y}function Sq(c,h){var y={};return h=Vt(h,3),Us(c,function(E,$,Y){Pa(y,$,h(E,$,Y))}),y}var Eq=Xu(function(c,h,y){Lm(c,h,y)}),eE=Xu(function(c,h,y,E){Lm(c,h,y,E)}),Aq=La(function(c,h){var y={};if(c==null)return y;var E=!1;h=Tt(h,function(Y){return Y=Tl(Y,c),E||(E=Y.length>1),Y}),Hs(c,T_(c),y),E&&(y=Ro(y,d|m|b,xB));for(var $=h.length;$--;)m_(y,h[$]);return y});function kq(c,h){return tE(c,jm(Vt(h)))}var Iq=La(function(c,h){return c==null?{}:nB(c,h)});function tE(c,h){if(c==null)return{};var y=Tt(T_(c),function(E){return[E]});return h=Vt(h),WT(c,y,function(E,$){return h(E,$[0])})}function Pq(c,h,y){h=Tl(h,c);var E=-1,$=h.length;for($||($=1,c=n);++E<$;){var Y=c==null?n:c[Vs(h[E])];Y===n&&(E=$,Y=y),c=Na(Y)?Y.call(c):Y}return c}function Oq(c,h,y){return c==null?c:yf(c,h,y)}function Lq(c,h,y,E){return E=typeof E=="function"?E:n,c==null?c:yf(c,h,y,E)}var nE=pS(Yi),iE=pS(Yr);function Dq(c,h,y){var E=tn(c),$=E||El(c)||Zu(c);if(h=Vt(h,4),y==null){var Y=c&&c.constructor;$?y=E?new Y:[]:vi(c)?y=Na(Y)?Yu(xm(c)):{}:y={}}return($?se:Us)(c,function(ue,ve,Pe){return h(y,ue,ve,Pe)}),y}function Nq(c,h){return c==null?!0:m_(c,h)}function Mq(c,h,y){return c==null?c:JT(c,h,b_(y))}function Fq(c,h,y,E){return E=typeof E=="function"?E:n,c==null?c:JT(c,h,b_(y),E)}function ed(c){return c==null?[]:$i(c,Yi(c))}function Rq(c){return c==null?[]:$i(c,Yr(c))}function Bq(c,h,y){return y===n&&(y=h,h=n),y!==n&&(y=qo(y),y=y===y?y:0),h!==n&&(h=qo(h),h=h===h?h:0),Ic(qo(c),h,y)}function $q(c,h,y){return h=Ma(h),y===n?(y=h,h=0):y=Ma(y),c=qo(c),GR(c,h,y)}function qq(c,h,y){if(y&&typeof y!="boolean"&&Sr(c,h,y)&&(h=y=n),y===n&&(typeof h=="boolean"?(y=h,h=n):typeof c=="boolean"&&(y=c,c=n)),c===n&&h===n?(c=0,h=1):(c=Ma(c),h===n?(h=c,c=0):h=Ma(h)),c>h){var E=c;c=h,h=E}if(y||c%1||h%1){var $=AT();return lr(c+$*(h-c+Bs("1e-"+(($+"").length-1))),h)}return f_(c,h)}var zq=Ju(function(c,h,y){return h=h.toLowerCase(),c+(y?rE(h):h)});function rE(c){return q_(jn(c).toLowerCase())}function oE(c){return c=jn(c),c&&c.replace(Tn,Mo).replace(ml,"")}function Uq(c,h,y){c=jn(c),h=vo(h);var E=c.length;y=y===n?E:Ic(sn(y),0,E);var $=y;return y-=h.length,y>=0&&c.slice(y,$)==h}function Hq(c){return c=jn(c),c&&zr.test(c)?c.replace(Ti,bl):c}function Vq(c){return c=jn(c),c&&Si.test(c)?c.replace(Ur,"\\$&"):c}var Gq=Ju(function(c,h,y){return c+(y?"-":"")+h.toLowerCase()}),Wq=Ju(function(c,h,y){return c+(y?" ":"")+h.toLowerCase()}),jq=lS("toLowerCase");function Kq(c,h,y){c=jn(c),h=sn(h);var E=h?zs(c):0;if(!h||E>=h)return c;var $=(h-E)/2;return Bm(Sm($),y)+c+Bm(Tm($),y)}function Yq(c,h,y){c=jn(c),h=sn(h);var E=h?zs(c):0;return h&&E<h?c+Bm(h-E,y):c}function Xq(c,h,y){c=jn(c),h=sn(h);var E=h?zs(c):0;return h&&E<h?Bm(h-E,y)+c:c}function Jq(c,h,y){return y||h==null?h=0:h&&(h=+h),rR(jn(c).replace(Hr,""),h||0)}function Qq(c,h,y){return(y?Sr(c,h,y):h===n)?h=1:h=sn(h),p_(jn(c),h)}function Zq(){var c=arguments,h=jn(c[0]);return c.length<3?h:h.replace(c[1],c[2])}var e5=Ju(function(c,h,y){return c+(y?"_":"")+h.toLowerCase()});function t5(c,h,y){return y&&typeof y!="number"&&Sr(c,h,y)&&(h=y=n),y=y===n?Ae:y>>>0,y?(c=jn(c),c&&(typeof h=="string"||h!=null&&!R_(h))&&(h=vo(h),!h&&Ai(c))?Sl(wr(c),0,y):c.split(h,y)):[]}var n5=Ju(function(c,h,y){return c+(y?" ":"")+q_(h)});function i5(c,h,y){return c=jn(c),y=y==null?0:Ic(sn(y),0,c.length),h=vo(h),c.slice(y,y+h.length)==h}function r5(c,h,y){var E=W.templateSettings;y&&Sr(c,h,y)&&(h=n),c=jn(c),h=Xm({},h,E,gS);var $=Xm({},h.imports,E.imports,gS),Y=Yi($),ue=$i($,Y),ve,Pe,Ze=0,et=h.interpolate||ui,ot="__p += '",wt=on((h.escape||ui).source+"|"+et.source+"|"+(et===Lo?Os:ui).source+"|"+(h.evaluate||ui).source+"|$","g"),Nt="//# sourceURL="+(en.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ls+"]")+`
`;c.replace(wt,function(Kt,_n,Pn,_o,Er,xo){return Pn||(Pn=_o),ot+=c.slice(Ze,xo).replace(oi,_l),_n&&(ve=!0,ot+=`' +
__e(`+_n+`) +
'`),Er&&(Pe=!0,ot+=`';
`+Er+`;
__p += '`),Pn&&(ot+=`' +
((__t = (`+Pn+`)) == null ? '' : __t) +
'`),Ze=xo+Kt.length,Kt}),ot+=`';
`;var jt=en.call(h,"variable")&&h.variable;if(!jt)ot=`with (obj) {
`+ot+`
}
`;else if(cl.test(jt))throw new Qe(a);ot=(Pe?ot.replace(Bi,""):ot).replace(ho,"$1").replace(qr,"$1;"),ot="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ve?", __e = _.escape":"")+(Pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ot+`return __p
}`;var ln=aE(function(){return kt(Y,Nt+"return "+ot).apply(n,ue)});if(ln.source=ot,F_(ln))throw ln;return ln}function o5(c){return jn(c).toLowerCase()}function s5(c){return jn(c).toUpperCase()}function a5(c,h,y){if(c=jn(c),c&&(y||h===n))return Nn(c);if(!c||!(h=vo(h)))return c;var E=wr(c),$=wr(h),Y=Ht(E,$),ue=Ei(E,$)+1;return Sl(E,Y,ue).join("")}function l5(c,h,y){if(c=jn(c),c&&(y||h===n))return c.slice(0,mm(c)+1);if(!c||!(h=vo(h)))return c;var E=wr(c),$=Ei(E,wr(h))+1;return Sl(E,0,$).join("")}function c5(c,h,y){if(c=jn(c),c&&(y||h===n))return c.replace(Hr,"");if(!c||!(h=vo(h)))return c;var E=wr(c),$=Ht(E,wr(h));return Sl(E,$).join("")}function u5(c,h){var y=z,E=Q;if(vi(h)){var $="separator"in h?h.separator:$;y="length"in h?sn(h.length):y,E="omission"in h?vo(h.omission):E}c=jn(c);var Y=c.length;if(Ai(c)){var ue=wr(c);Y=ue.length}if(y>=Y)return c;var ve=y-zs(E);if(ve<1)return E;var Pe=ue?Sl(ue,0,ve).join(""):c.slice(0,ve);if($===n)return Pe+E;if(ue&&(ve+=Pe.length-ve),R_($)){if(c.slice(ve).search($)){var Ze,et=Pe;for($.global||($=on($.source,jn(is.exec($))+"g")),$.lastIndex=0;Ze=$.exec(et);)var ot=Ze.index;Pe=Pe.slice(0,ot===n?ve:ot)}}else if(c.indexOf(vo($),ve)!=ve){var wt=Pe.lastIndexOf($);wt>-1&&(Pe=Pe.slice(0,wt))}return Pe+E}function d5(c){return c=jn(c),c&&Oo.test(c)?c.replace(On,af):c}var h5=Ju(function(c,h,y){return c+(y?" ":"")+h.toUpperCase()}),q_=lS("toUpperCase");function sE(c,h,y){return c=jn(c),h=y?n:h,h===n?Wr(c)?be(c):V(c):c.match(h)||[]}var aE=gn(function(c,h){try{return H(c,n,h)}catch(y){return F_(y)?y:new Qe(y)}}),f5=La(function(c,h){return se(h,function(y){y=Vs(y),Pa(c,y,N_(c[y],c))}),c});function p5(c){var h=c==null?0:c.length,y=Vt();return c=h?Tt(c,function(E){if(typeof E[1]!="function")throw new pn(s);return[y(E[0]),E[1]]}):[],gn(function(E){for(var $=-1;++$<h;){var Y=c[$];if(H(Y[0],this,E))return H(Y[1],this,E)}})}function g5(c){return qR(Ro(c,d))}function z_(c){return function(){return c}}function m5(c,h){return c==null||c!==c?h:c}var y5=uS(),v5=uS(!0);function Xr(c){return c}function U_(c){return qT(typeof c=="function"?c:Ro(c,d))}function b5(c){return UT(Ro(c,d))}function _5(c,h){return HT(c,Ro(h,d))}var x5=gn(function(c,h){return function(y){return gf(y,c,h)}}),w5=gn(function(c,h){return function(y){return gf(c,y,h)}});function H_(c,h,y){var E=Yi(h),$=Om(h,E);y==null&&!(vi(h)&&($.length||!E.length))&&(y=h,h=c,c=this,$=Om(h,Yi(h)));var Y=!(vi(y)&&"chain"in y)||!!y.chain,ue=Na(c);return se($,function(ve){var Pe=h[ve];c[ve]=Pe,ue&&(c.prototype[ve]=function(){var Ze=this.__chain__;if(Y||Ze){var et=c(this.__wrapped__),ot=et.__actions__=jr(this.__actions__);return ot.push({func:Pe,args:arguments,thisArg:c}),et.__chain__=Ze,et}return Pe.apply(c,Zt([this.value()],arguments))})}),c}function C5(){return Hn._===this&&(Hn._=YF),this}function V_(){}function T5(c){return c=sn(c),gn(function(h){return VT(h,c)})}var S5=x_(Tt),E5=x_(Ue),A5=x_(B);function lE(c){return k_(c)?yt(Vs(c)):iB(c)}function k5(c){return function(h){return c==null?n:Pc(c,h)}}var I5=hS(),P5=hS(!0);function G_(){return[]}function W_(){return!1}function O5(){return{}}function L5(){return""}function D5(){return!0}function N5(c,h){if(c=sn(c),c<1||c>j)return[];var y=Ae,E=lr(c,Ae);h=Vt(h),c-=Ae;for(var $=Zn(E,h);++y<c;)h(y);return $}function M5(c){return tn(c)?Tt(c,Vs):bo(c)?[c]:jr(kS(jn(c)))}function F5(c){var h=++jF;return jn(c)+h}var R5=Rm(function(c,h){return c+h},0),B5=w_("ceil"),$5=Rm(function(c,h){return c/h},1),q5=w_("floor");function z5(c){return c&&c.length?Pm(c,Xr,a_):n}function U5(c,h){return c&&c.length?Pm(c,Vt(h,2),a_):n}function H5(c){return mt(c,Xr)}function V5(c,h){return mt(c,Vt(h,2))}function G5(c){return c&&c.length?Pm(c,Xr,d_):n}function W5(c,h){return c&&c.length?Pm(c,Vt(h,2),d_):n}var j5=Rm(function(c,h){return c*h},1),K5=w_("round"),Y5=Rm(function(c,h){return c-h},0);function X5(c){return c&&c.length?vn(c,Xr):0}function J5(c,h){return c&&c.length?vn(c,Vt(h,2)):0}return W.after=b$,W.ary=$S,W.assign=sq,W.assignIn=ZS,W.assignInWith=Xm,W.assignWith=aq,W.at=lq,W.before=qS,W.bind=N_,W.bindAll=f5,W.bindKey=zS,W.castArray=O$,W.chain=FS,W.chunk=qB,W.compact=zB,W.concat=UB,W.cond=p5,W.conforms=g5,W.constant=z_,W.countBy=X3,W.create=cq,W.curry=US,W.curryRight=HS,W.debounce=VS,W.defaults=uq,W.defaultsDeep=dq,W.defer=_$,W.delay=x$,W.difference=HB,W.differenceBy=VB,W.differenceWith=GB,W.drop=WB,W.dropRight=jB,W.dropRightWhile=KB,W.dropWhile=YB,W.fill=XB,W.filter=Q3,W.flatMap=t$,W.flatMapDeep=n$,W.flatMapDepth=i$,W.flatten=LS,W.flattenDeep=JB,W.flattenDepth=QB,W.flip=w$,W.flow=y5,W.flowRight=v5,W.fromPairs=ZB,W.functions=vq,W.functionsIn=bq,W.groupBy=r$,W.initial=t3,W.intersection=n3,W.intersectionBy=i3,W.intersectionWith=r3,W.invert=xq,W.invertBy=wq,W.invokeMap=s$,W.iteratee=U_,W.keyBy=a$,W.keys=Yi,W.keysIn=Yr,W.map=Vm,W.mapKeys=Tq,W.mapValues=Sq,W.matches=b5,W.matchesProperty=_5,W.memoize=Wm,W.merge=Eq,W.mergeWith=eE,W.method=x5,W.methodOf=w5,W.mixin=H_,W.negate=jm,W.nthArg=T5,W.omit=Aq,W.omitBy=kq,W.once=C$,W.orderBy=l$,W.over=S5,W.overArgs=T$,W.overEvery=E5,W.overSome=A5,W.partial=M_,W.partialRight=GS,W.partition=c$,W.pick=Iq,W.pickBy=tE,W.property=lE,W.propertyOf=k5,W.pull=l3,W.pullAll=NS,W.pullAllBy=c3,W.pullAllWith=u3,W.pullAt=d3,W.range=I5,W.rangeRight=P5,W.rearg=S$,W.reject=h$,W.remove=h3,W.rest=E$,W.reverse=L_,W.sampleSize=p$,W.set=Oq,W.setWith=Lq,W.shuffle=g$,W.slice=f3,W.sortBy=v$,W.sortedUniq=_3,W.sortedUniqBy=x3,W.split=t5,W.spread=A$,W.tail=w3,W.take=C3,W.takeRight=T3,W.takeRightWhile=S3,W.takeWhile=E3,W.tap=z3,W.throttle=k$,W.thru=Hm,W.toArray=XS,W.toPairs=nE,W.toPairsIn=iE,W.toPath=M5,W.toPlainObject=QS,W.transform=Dq,W.unary=I$,W.union=A3,W.unionBy=k3,W.unionWith=I3,W.uniq=P3,W.uniqBy=O3,W.uniqWith=L3,W.unset=Nq,W.unzip=D_,W.unzipWith=MS,W.update=Mq,W.updateWith=Fq,W.values=ed,W.valuesIn=Rq,W.without=D3,W.words=sE,W.wrap=P$,W.xor=N3,W.xorBy=M3,W.xorWith=F3,W.zip=R3,W.zipObject=B3,W.zipObjectDeep=$3,W.zipWith=q3,W.entries=nE,W.entriesIn=iE,W.extend=ZS,W.extendWith=Xm,H_(W,W),W.add=R5,W.attempt=aE,W.camelCase=zq,W.capitalize=rE,W.ceil=B5,W.clamp=Bq,W.clone=L$,W.cloneDeep=N$,W.cloneDeepWith=M$,W.cloneWith=D$,W.conformsTo=F$,W.deburr=oE,W.defaultTo=m5,W.divide=$5,W.endsWith=Uq,W.eq=hs,W.escape=Hq,W.escapeRegExp=Vq,W.every=J3,W.find=Z3,W.findIndex=PS,W.findKey=hq,W.findLast=e$,W.findLastIndex=OS,W.findLastKey=fq,W.floor=q5,W.forEach=RS,W.forEachRight=BS,W.forIn=pq,W.forInRight=gq,W.forOwn=mq,W.forOwnRight=yq,W.get=B_,W.gt=R$,W.gte=B$,W.has=_q,W.hasIn=$_,W.head=DS,W.identity=Xr,W.includes=o$,W.indexOf=e3,W.inRange=$q,W.invoke=Cq,W.isArguments=Dc,W.isArray=tn,W.isArrayBuffer=$$,W.isArrayLike=Kr,W.isArrayLikeObject=ki,W.isBoolean=q$,W.isBuffer=El,W.isDate=z$,W.isElement=U$,W.isEmpty=H$,W.isEqual=V$,W.isEqualWith=G$,W.isError=F_,W.isFinite=W$,W.isFunction=Na,W.isInteger=WS,W.isLength=Km,W.isMap=jS,W.isMatch=j$,W.isMatchWith=K$,W.isNaN=Y$,W.isNative=X$,W.isNil=Q$,W.isNull=J$,W.isNumber=KS,W.isObject=vi,W.isObjectLike=wi,W.isPlainObject=xf,W.isRegExp=R_,W.isSafeInteger=Z$,W.isSet=YS,W.isString=Ym,W.isSymbol=bo,W.isTypedArray=Zu,W.isUndefined=eq,W.isWeakMap=tq,W.isWeakSet=nq,W.join=o3,W.kebabCase=Gq,W.last=$o,W.lastIndexOf=s3,W.lowerCase=Wq,W.lowerFirst=jq,W.lt=iq,W.lte=rq,W.max=z5,W.maxBy=U5,W.mean=H5,W.meanBy=V5,W.min=G5,W.minBy=W5,W.stubArray=G_,W.stubFalse=W_,W.stubObject=O5,W.stubString=L5,W.stubTrue=D5,W.multiply=j5,W.nth=a3,W.noConflict=C5,W.noop=V_,W.now=Gm,W.pad=Kq,W.padEnd=Yq,W.padStart=Xq,W.parseInt=Jq,W.random=qq,W.reduce=u$,W.reduceRight=d$,W.repeat=Qq,W.replace=Zq,W.result=Pq,W.round=K5,W.runInContext=J,W.sample=f$,W.size=m$,W.snakeCase=e5,W.some=y$,W.sortedIndex=p3,W.sortedIndexBy=g3,W.sortedIndexOf=m3,W.sortedLastIndex=y3,W.sortedLastIndexBy=v3,W.sortedLastIndexOf=b3,W.startCase=n5,W.startsWith=i5,W.subtract=Y5,W.sum=X5,W.sumBy=J5,W.template=r5,W.times=N5,W.toFinite=Ma,W.toInteger=sn,W.toLength=JS,W.toLower=o5,W.toNumber=qo,W.toSafeInteger=oq,W.toString=jn,W.toUpper=s5,W.trim=a5,W.trimEnd=l5,W.trimStart=c5,W.truncate=u5,W.unescape=d5,W.uniqueId=F5,W.upperCase=h5,W.upperFirst=q_,W.each=RS,W.eachRight=BS,W.first=DS,H_(W,function(){var c={};return Us(W,function(h,y){en.call(W.prototype,y)||(c[y]=h)}),c}(),{chain:!1}),W.VERSION=i,se(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){W[c].placeholder=W}),se(["drop","take"],function(c,h){Sn.prototype[c]=function(y){y=y===n?1:Ui(sn(y),0);var E=this.__filtered__&&!h?new Sn(this):this.clone();return E.__filtered__?E.__takeCount__=lr(y,E.__takeCount__):E.__views__.push({size:lr(y,Ae),type:c+(E.__dir__<0?"Right":"")}),E},Sn.prototype[c+"Right"]=function(y){return this.reverse()[c](y).reverse()}}),se(["filter","map","takeWhile"],function(c,h){var y=h+1,E=y==pe||y==q;Sn.prototype[c]=function($){var Y=this.clone();return Y.__iteratees__.push({iteratee:Vt($,3),type:y}),Y.__filtered__=Y.__filtered__||E,Y}}),se(["head","last"],function(c,h){var y="take"+(h?"Right":"");Sn.prototype[c]=function(){return this[y](1).value()[0]}}),se(["initial","tail"],function(c,h){var y="drop"+(h?"":"Right");Sn.prototype[c]=function(){return this.__filtered__?new Sn(this):this[y](1)}}),Sn.prototype.compact=function(){return this.filter(Xr)},Sn.prototype.find=function(c){return this.filter(c).head()},Sn.prototype.findLast=function(c){return this.reverse().find(c)},Sn.prototype.invokeMap=gn(function(c,h){return typeof c=="function"?new Sn(this):this.map(function(y){return gf(y,c,h)})}),Sn.prototype.reject=function(c){return this.filter(jm(Vt(c)))},Sn.prototype.slice=function(c,h){c=sn(c);var y=this;return y.__filtered__&&(c>0||h<0)?new Sn(y):(c<0?y=y.takeRight(-c):c&&(y=y.drop(c)),h!==n&&(h=sn(h),y=h<0?y.dropRight(-h):y.take(h-c)),y)},Sn.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Sn.prototype.toArray=function(){return this.take(Ae)},Us(Sn.prototype,function(c,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),E=/^(?:head|last)$/.test(h),$=W[E?"take"+(h=="last"?"Right":""):h],Y=E||/^find/.test(h);$&&(W.prototype[h]=function(){var ue=this.__wrapped__,ve=E?[1]:arguments,Pe=ue instanceof Sn,Ze=ve[0],et=Pe||tn(ue),ot=function(_n){var Pn=$.apply(W,Zt([_n],ve));return E&&wt?Pn[0]:Pn};et&&y&&typeof Ze=="function"&&Ze.length!=1&&(Pe=et=!1);var wt=this.__chain__,Nt=!!this.__actions__.length,jt=Y&&!wt,ln=Pe&&!Nt;if(!Y&&et){ue=ln?ue:new Sn(this);var Kt=c.apply(ue,ve);return Kt.__actions__.push({func:Hm,args:[ot],thisArg:n}),new Fo(Kt,wt)}return jt&&ln?c.apply(this,ve):(Kt=this.thru(ot),jt?E?Kt.value()[0]:Kt.value():Kt)})}),se(["pop","push","shift","sort","splice","unshift"],function(c){var h=qi[c],y=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",E=/^(?:pop|shift)$/.test(c);W.prototype[c]=function(){var $=arguments;if(E&&!this.__chain__){var Y=this.value();return h.apply(tn(Y)?Y:[],$)}return this[y](function(ue){return h.apply(tn(ue)?ue:[],$)})}}),Us(Sn.prototype,function(c,h){var y=W[h];if(y){var E=y.name+"";en.call(Ku,E)||(Ku[E]=[]),Ku[E].push({name:h,func:y})}}),Ku[Fm(n,T).name]=[{name:"wrapper",func:n}],Sn.prototype.clone=dR,Sn.prototype.reverse=hR,Sn.prototype.value=fR,W.prototype.at=U3,W.prototype.chain=H3,W.prototype.commit=V3,W.prototype.next=G3,W.prototype.plant=j3,W.prototype.reverse=K3,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Y3,W.prototype.first=W.prototype.head,lf&&(W.prototype[lf]=W3),W},Re=Me();Gr?((Gr.exports=Re)._=Re,Sa._=Re):Hn._=Re}).call(Va)})(Uv,Uv.exports);var iJ=Uv.exports;class rJ{constructor(t){Hi(this,"graph");this.graph=t}validateLinks(t,n,i,r,o,s){if(!t||!i)return this.handleSidebarLink(t,i,o,s);if(n&&r&&n===r||i&&t&&(i.model.isLink()||t.model.isLink())||t===i||this.checkIfConnectionAlreadyExists(t,i))return!1;if(!n||!r&&!n){if(i&&i.model.prop("entity/type")==_e.ENDPOINT||i.model.prop("entity/type")==_e.EXTERNAL_ENDPOINT)return this.connectableEntity(t)&&!i.model.isEmbeddedIn(t.model);if(i&&i.model.attributes.entity.type===_e.INFRASTRUCTURE)return this.deployableEntity(t)}return o==="source"?!1:this.connectableEntity(t)?i.model.attributes.entity.type===_e.ENDPOINT||i.model.attributes.entity.type===_e.EXTERNAL_ENDPOINT?!i.model.isEmbeddedIn(t.model)&&i.model.getParentCell():i.model.attributes.entity.type===_e.INFRASTRUCTURE:t.model.attributes.entity.type===_e.INFRASTRUCTURE?this.deployableEntity(i):!1}handleSidebarLink(t,n,i,r){return!t&&n&&i==="target"?r.model.prop("entity/type")===_e.DEPLOYMENT_MAPPING?n.model.attributes.entity.type===_e.INFRASTRUCTURE:(n.model.attributes.entity.type===_e.ENDPOINT||n.model.attributes.entity.type===_e.EXTERNAL_ENDPOINT)&&n.model.getParentCell():!n&&t&&i==="source"?r.model.prop("entity/type")===_e.LINK?this.connectableEntity(t):this.deployableEntity(t):!1}deployableEntity(t){return t.model.attributes.entity.type===_e.COMPONENT||t.model.attributes.entity.type===_e.SERVICE||t.model.attributes.entity.type===_e.BACKING_SERVICE||t.model.attributes.entity.type===_e.STORAGE_BACKING_SERVICE||t.model.attributes.entity.type===_e.INFRASTRUCTURE}connectableEntity(t){return t.model.attributes.entity.type===_e.COMPONENT||t.model.attributes.entity.type===_e.SERVICE||t.model.attributes.entity.type===_e.BACKING_SERVICE||t.model.attributes.entity.type===_e.STORAGE_BACKING_SERVICE}checkIfConnectionAlreadyExists(t,n){let i=!1;return this.graph.getConnectedLinks(n.model).forEach(r=>{if(r.prop("target/id")===n.model.id&&r.prop("source/id")===t.model.id){i=!0;return}else if(r.prop("source/id")===n.model.id&&r.prop("target/id")===t.model.id){i=!0;return}}),i}validateEmbedding(t,n){switch(n.model.attributes.entity.type){case _e.COMPONENT:case _e.SERVICE:case _e.BACKING_SERVICE:case _e.STORAGE_BACKING_SERVICE:return this.checkIfConnectionAlreadyExists(t,n)?!1:t.model.attributes.entity.type===_e.ENDPOINT||t.model.attributes.entity.type===_e.EXTERNAL_ENDPOINT||t.model.attributes.entity.type===_e.DATA_AGGREGATE||t.model.attributes.entity.type===_e.BACKING_DATA;case _e.INFRASTRUCTURE:return t.model.attributes.entity.type===_e.BACKING_DATA;default:return!1}}validateUnembedding(t){return t.model.attributes.entity.type!==_e.ENDPOINT||t.model.attributes.entity.type!==_e.EXTERNAL_ENDPOINT||t.model.attributes.entity.type!==_e.DATA_AGGREGATE||t.model.attributes.entity.type!==_e.BACKING_DATA}checkCreatedLink(t,n){return t.targetBBox.x===0&&t.targetBBox.y===0||t.sourceBBox.x===0&&t.sourceBBox.y===0}defaultLink(t,n){return t.model.attributes.entity.type===_e.INFRASTRUCTURE?new lm:new am}}let oJ=jL.extend({name:"remove",children:[{tagName:"title",selector:"iconTooltip",textContent:"Remove entire entity"},{tagName:"circle",selector:"button",attributes:{r:7,fill:"#33334F",cursor:"pointer",class:"entityTool"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,pointerEvents:"none"}}]});class cN extends UL{constructor(n=!1){super({name:"ConnectionTools"});Hi(this,"use strict");Hi(this,"tools",[]);this.options.tools=[this.createRemoveTool(),this.createArrowHeadTool(),this.createSourceAnchorTool(),this.createTargetAnchorTool(),this.createVerticesTools(),this.createSegmentsTool()],n&&this.options.tools.push(this.createSourceArrowHeadTool()),this.tools=this.options.tools}createRemoveTool(){return new oJ({focusOpacity:.5,distance:20,offset:-15})}createSourceArrowHeadTool(){return new gj({focusOpacity:.5})}createArrowHeadTool(){return new pj({focusOpacity:.5})}createSourceAnchorTool(){let n=new yj({focusOpacity:.5});return n.options.customAnchorAttributes.r=4,n.options.defaultAnchorAttributes.r=5,n}createTargetAnchorTool(){return new vj({focusOpacity:.5})}createSegmentsTool(){return new fj({focusOpacity:.5})}createVerticesTools(){return new dj({focusOpacity:.5,vertexAdding:!0,vertexRemoving:!0})}}let sJ=P0.extend({name:"clone-button",options:{markup:[{tagName:"title",selector:"iconTooltip",textContent:"Copy entity"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/copy-solid.svg",fill:"black",transform:"translate(-6, -6) scale(0.1)",cursor:"pointer",class:"entityTool"}}],x:"100%",y:"100%",offset:{x:0,y:0},rotate:!0,action:function(e,t){let n=t.model.clone();n.position(t.model.position().x+20,t.model.position().y+20),t.model.graph.addCell(n),BC(n,t.paper)}}}),aJ=bj.extend({name:"link",children:[{tagName:"title",selector:"iconTooltip",textContent:"Create a Link or Deployment Mapping to another entity"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/arrows-split-up-and-left-solid.svg",fill:"white",transform:"scale(0.1) rotate(90)",cursor:"pointer",class:"entityTool"}}]}),lJ=jL.extend({name:"remove",children:[{tagName:"title",selector:"iconTooltip",textContent:"Remove entire entity"},{tagName:"circle",selector:"button",attributes:{r:7,fill:"black",cursor:"pointer",class:"entityTool"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,pointerEvents:"none"}}]}),cJ=P0.extend({name:"collapse-button",options:{markup:[{tagName:"title",selector:"iconTooltip",textContent:"Collapse to hide embedded entities"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/circle-minus-solid.svg",transform:"translate(-6, -6) scale(0.1)",cursor:"pointer",class:"entityTool"}}],x:"100%",y:"100%",offset:{x:0,y:0},rotate:!0,action:function(e,t){let n=t.model;n.attr("icon/visibility",!0,{isolate:!0}),n.prop("collapsed",!0),n.getEmbeddedCells({deep:!0}).forEach(r=>{r.attr("root/visibility","hidden",{isolate:!0}),r.prop("parentCollapsed",!0)})}}});class uJ extends UL{constructor(n=!1,i=!1){super({name:"EntityTools"});Hi(this,"use strict");Hi(this,"tools",[]);this.options.tools=[this.createBoundaryTool(),this.createRemoveTool(),this.createCopyTool()],n&&this.options.tools.push(this.createConnectTool()),i&&this.options.tools.push(this.createCollapseTool()),this.tools=this.options.tools}createBoundaryTool(){return new mj({padding:2,attributes:{fill:"none",stroke:"#FEB663","stroke-width":"3"}})}createRemoveTool(){return new lJ({focusOpacity:.5,x:"0%",y:"0%",offset:{x:-11,y:-7}})}createConnectTool(){return new aJ({focusOpacity:.5,x:"100%",y:"50%",offset:{x:22,y:-7},magnet:"body"})}createCopyTool(){return new sJ({focusOpacity:.5,x:"100%",y:"100%",offset:{x:12,y:5}})}createCollapseTool(){return new cJ({focusOpacity:.5,x:"0%",y:"100%",offset:{x:-12,y:7}})}}function BC(e,t){if(e.isLink())return;let n=e.prop("entity/type")===_e.COMPONENT||e.prop("entity/type")===_e.SERVICE||e.prop("entity/type")===_e.BACKING_SERVICE||e.prop("entity/type")===_e.STORAGE_BACKING_SERVICE||e.prop("entity/type")===_e.INFRASTRUCTURE,i=!!(e.prop("entity/type")===_e.REQUEST_TRACE||n),r=new uJ(n,i);var o=t.requireView(e);o.addTools(r),o.hideTools()}function Mw(e,t){return new Promise((n,i)=>{let r=[];for(const o of e){let s=Promise.resolve();if(o.isElement()){let a=o.prop("size/width"),l=o.prop("size/height");r.push(s.then(()=>new Promise((u,f)=>{o.resize(a+10,l+10),setTimeout(()=>{u()},100)})).then(()=>new Promise((u,f)=>{o.resize(a,l),setTimeout(()=>{u()},100)})).then(()=>new Promise((u,f)=>{BC(t.requireView(o).model,t),setTimeout(()=>{u()},100)})))}else o.isLink&&o.findView(t).requestConnectionUpdate()}Promise.all(r).then(()=>{t.hideTools(),n()})})}const dJ={id:"print-section",class:"system-container printable","data-cursor":"grab"},hJ={class:"system-container-modeling-area"},fJ={class:"paperArea"},pJ=["id"],gJ=Zi({__name:"ModelingArea",props:{pageId:{},graph:{},paper:{},currentElementSelection:{},currentRequestTraceSelection:{},printing:{type:Boolean},appSettings:{}},emits:["update:paper","select:Element","select:RequestTrace","deselect:Element","deselect:RequestTrace"],setup(e,{emit:t}){const n=e,i=t,r=nn(FC());pa(()=>{var m=new rJ(n.graph),b=new wv({el:ws(`#${n.pageId}`),width:n.appSettings.paperWidth,height:n.appSettings.paperHeight,gridSize:n.appSettings.paperGridSize,drawGrid:{name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]},model:n.graph,embeddingMode:!0,background:{color:"rgba(192, 192, 192, 0.3)"},async:!0,sorting:wv.sorting.APPROX,cellViewNamespace:cm,routerNamespace:BL,defaultLink:(C,k)=>m.defaultLink(C,k),defaultRouter:lN(n.appSettings.routerType),defaultConnector:{name:"jumpover",args:{radius:4}},defaultConnectionPoint:{name:"boundary",args:{sticky:!0,stroke:!0}},linkView:Id.extend({pointerdblclick:function(C,k,T){this.addVertex(k,T)}}),validateConnection:(C,k,T,A,R,F)=>m.validateLinks(C,k,T,A,R,F),validateEmbedding:(C,k)=>m.validateEmbedding(C,k),validateUnembedding:C=>m.validateUnembedding(C),allowLink:(C,k)=>m.checkCreatedLink(C,k),interactive:{labelMove:!1,addLinkFromMagnet:!0,linkMove:!0},restrictTranslate:!0,markAvailable:!0,multiLinks:!1});b.on({"element:pointerdown":function(C,k,T,A){if(this.hideTools(),o(),s(C),C.showTools(),n.graph.getConnectedLinks(C.model).forEach(R=>{R.attr("root/visibility")==="visible"&&Ka.add(n.paper.requireView(R),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})}),C.model.prop("entity/type")===_e.REQUEST_TRACE){const R=C.model.prop("entity/properties/involved_links");if(R&&R.length>0)for(const F of R){const Z=n.graph.getCell(F);Z.attr("root/visibility")==="visible"&&Ka.add(n.paper.requireView(Z),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})}}},"blank:pointerdown":function(C,k,T){this.hideTools(),a(),o()},"element:contextmenu":function(C,k,T,A){C.showTools()},"element:pointerup":function(C,k){if(C.model.isEmbedded()){let T=C.model.getParentCell(),A=T.size().height*T.size().width;if(T.getEmbeddedCells().map(F=>F.size().height*F.size().width*1.5).reduce((F,Z)=>F+Z,0)>=A*.3){let F=T.size().width+100,Z=T.size().height,ee=Z;if(T.prop("entity/type")!==_e.INFRASTRUCTURE){const g=T.prop("defaults/size"),L=g.height/g.width;ee=Number((L*F).toFixed(2))}T.resize(F,ee,{deep:!0}),T.position(T.position().x-50,T.position().y-(ee-Z)*.5)}}},"link:pointerclick":function(C,k){if(o(),s(C),C.highlight(),!C.hasTools()){let T=new cN;C.addTools(T)}C.showTools()},"cell:highlight":function(C,k,T){C.model.isLink()&&(this.hideTools(),this.model.getLinks().forEach(function(A){if(A!==C.model){Ka.remove(A.findView(C.paper));return}}))},"link:connect":(C,k,T,A,R)=>f(C,k,T),"element:icon:pointerclick":(C,k)=>l(k,C),"requestTrace:icon:pointerclick":(C,k,T,A)=>u(C,k)});var x=iJ.partial(d,n.graph,b);n.graph.on("add remove change:source change:target",x),b.on("cell:pointerup",x),b.render(),n.graph.resetCells(n.graph.getCells()),Mw(n.graph.getCells(),b),i("update:paper",b)});function o(){n.graph.getLinks().forEach(function(m){Ka.remove(m.findView(n.paper))})}function s(m){i("select:Element",m)}function a(){i("deselect:Element")}function l(m,b){m.stopPropagation(),b.model.prop("collapsed",!1),b.model.attr("icon/visibility","hidden"),b.model.getEmbeddedCells({deep:!0}).forEach(C=>{const T=C.prop("entityTypeHidden")?"hidden":"visible";C.attr("root/visibility",T,{isolate:!0}),C.prop("parentCollapsed",!1)})}function u(m,b){b.stopPropagation(),i("select:RequestTrace",m.model)}function f(m,b,x,C,k){let T=m.model.attributes.source,A=m.model.attributes.target;if(m.model.prop("entity/type")===_e.LINK&&x.model.prop("entity/type")===_e.INFRASTRUCTURE){let R=new lm;m.model.source(T,{anchor:{name:"perpendicular"}}),m.model.target(A),m.model.set("type",R.prop("type")),m.model.attr("root",R.attr("root")),m.model.attr("line",R.attr("line")),m.model.prop("entity",R.prop("entity"),{previousType:_e.LINK})}if(m.model.prop("entity/type")===_e.DEPLOYMENT_MAPPING&&(x.model.prop("entity/type")===_e.ENDPOINT||x.model.prop("entity/type")===_e.EXTERNAL_ENDPOINT)){let R=new am;m.model.source(T,{anchor:{name:"perpendicular"}}),m.model.target(A),m.model.set("type",R.prop("type")),m.model.attr("root",R.attr("root")),m.model.attr("line",R.attr("line")),m.model.prop("entity",R.prop("entity"),{previousType:_e.DEPLOYMENT_MAPPING});return}!m.model.getSourceElement()||!m.model.getTargetElement()||(m.model.prop("entity/type"),_e.LINK)}function d(m,b,x){if(x instanceof un&&(x=x.model),x instanceof mi){m.getConnectedLinks(x).forEach(A=>d(m,b,A)),x.getEmbeddedCells().forEach(A=>m.getConnectedLinks(A).forEach(R=>d(m,b,R)));return}else if(x instanceof om){var C=x.getSourceCell();if(C&&b.options.defaultRouter)if(b.options.defaultRouter.name==="manhattan"){var k=m.getConnectedLinks(C),T=0;for(const[R,F]of k.entries())if(F.id===x.id){T=R;break}let A=10+T*5;x.router({name:"manhattan",args:{step:5,padding:A,maximumLoops:5e3,maxAllowedDirectionChange:100}})}else x.router(b.options.defaultRouter);x.findView(b).requestConnectionUpdate()}}return(m,b)=>(He(),Ke(Gt,null,[(He(),tl(iw,{disabled:!m.printing,to:"body"},[X("div",dJ,[X("div",hJ,[X("div",fJ,[X("div",{id:m.pageId},null,8,pJ)])])])],8,["disabled"])),Dn(RC,c1(l0(r.value)),null,16)],64))}}),mJ=["data-group-context","data-group-id"],yJ=["id"],vJ=["for"],bJ=["innerHTML"],_J=["innerHTML"],xJ={key:2,class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},wJ=["id","disabled","required","rows","maxlength","onUpdate:modelValue","aria-describedby","data-property-type","onKeydown"],CJ=["id","disabled","required","min","max","onUpdate:modelValue","step","aria-describedby","data-property-type","onKeydown"],TJ=["id","disabled","required","min","max","step","maxlength","onUpdate:modelValue","aria-describedby","data-property-type","onKeydown"],SJ={key:3,class:"input-group"},EJ={key:0,class:"input-group-prepend"},AJ={class:"input-group-text"},kJ={class:"modalInputLabel"},IJ=["id","disabled","required","placeholder","onUpdate:modelValue","aria-describedby","data-property-type","list","onKeydown"],PJ=["id"],OJ=["value"],LJ=["id","disabled","required","checked","aria-describedby","data-property-type","onUpdate:modelValue","onChange"],DJ=["id","disabled","required","size","multiple","data-property-type","onUpdate:modelValue","onChange"],NJ=["value","placeholder","title","disabled"],MJ=["onClick"],FJ=["for"],RJ={class:"custom-control custom-switch toggle-group"},BJ=["id","aria-describedby","data-property-type","disabled","required","onUpdate:modelValue"],$J=["for"],qJ={key:7},zJ=["id","data-property-type","disabled","required","onClick"],UJ={class:"table-responsive"},HJ={class:"table table-hover"},VJ={class:"thead-dark"},GJ=["data-table-context"],WJ={key:1,class:"form-check"},jJ=["value","disabled","checked","onUpdate:modelValue"],KJ={key:8},YJ=["id","data-property-type","disabled","required","onClick"],XJ={class:"dynamic-list-wrapper"},JJ={class:"table-responsive"},QJ={class:"table table-hover"},ZJ={class:"thead-dark"},eQ={key:0,class:"overloaded"},tQ=X("th",null,"Delete",-1),nQ={class:"tableRow"},iQ=["data-table-context"],rQ={key:0},oQ={key:1,class:"overloaded"},sQ={key:2},aQ=["onClick"],lQ=X("i",{class:"fa-solid fa-trash-can"},null,-1),cQ=[lQ],uQ=X("h5",null,"Add new Item",-1),dQ={class:"input-group"},hQ={class:"input-group-prepend"},fQ={class:"input-group-text"},pQ={class:"modalInputLabel"},gQ=["id","placeholder","onUpdate:modelValue"],mQ=["id","onUpdate:modelValue"],yQ=["value"],vQ=["onClick"],bQ={key:9,class:"input-group-append"},_Q=["id","disabled","onClick"],xQ=X("i",{class:"enterPropertyButtonIcon fa-solid fa-check"},null,-1),wQ=[xQ],CQ=["id"],TQ={class:"invalid-feedback"},SQ={class:"valid-feedback"};function Hk(e){let t=[];for(const n of e){let i={providedFeature:n.providedFeature,enterButtonId:n.providedFeature+"-enterButton",helpTextId:n.providedFeature+"-helpText",contentType:n.contentType,label:n.label,inputProperties:n.inputProperties,helpText:n.helpText,show:n.show,provideEnterButton:n.provideEnterButton,jointJsConfig:n.jointJsConfig,includeFormCheck:!0,validationState:"",attributes:{},value:""};switch(n.contentType){case Ot.TEXTAREA:let o=n;t.push({...i,attributes:o.attributes,value:""});break;case Ot.INPUT_TEXTBOX:let s=n;t.push({...i,attributes:s.attributes,value:""});break;case Ot.INPUT_NUMBERBOX:let a=n;t.push({...i,attributes:a.attributes,value:0});break;case Ot.INPUT_RANGE:let l=n;t.push({...i,attributes:l.attributes,value:0});break;case Ot.CHECKBOX:let u=n;t.push({...i,attributes:u.attributes,value:""});break;case Ot.DROPDOWN:let f=n;t.push({...i,attributes:f.attributes,dropdownOptions:f.dropdownOptions,value:f.attributes.defaultValue});break;case Ot.TOGGLE:let d=n;t.push({...i,attributes:{labels:d.labels},value:"",checked:d.inputProperties.checked});break;case Ot.MULTI_SELECT:let m=n;t.push({...i,attributes:m.attributes,showDialog:!1,tableRows:[]});break;case Ot.DYNAMIC_LIST:let b=n;t.push({...i,attributes:b.attributes,newElementData:(()=>{let x={};if(Array.isArray(b.attributes.listElementFields))for(const C of b.attributes.listElementFields)x[C.key]="";return x})(),showDialog:!1,value:[]});break}}return t}const EQ=Zi({__name:"PropertiesEditor",props:{groupId:{},cardBodyId:{},propertyOptions:{}},emits:["on:EnterProperty"],setup(e,{emit:t}){const n=t;function i(a){n("on:EnterProperty",a)}function r(a){a.showDialog=!a.showDialog}function o(a){if(Object.entries(a.newElementData).length===1)for(const[l,u]of Object.entries(a.newElementData))a.value.push(u);else{let l={};for(const[u,f]of Object.entries(a.newElementData))l[u]=f;a.value.push(l)}for(const l of Object.keys(a.newElementData))a.newElementData[l]=""}function s(a,l){a.value.splice(l,1)}return(a,l)=>(He(!0),Ke(Gt,null,kn(a.propertyOptions,u=>dn((He(),Ke("div",{"data-group-context":a.groupId,"data-group-id":a.cardBodyId},[X("form",{id:u.providedFeature,class:mn(["form-group",[{"needs-validation":u.includeFormCheck},{"form-check":u.contentType===Xn(Ot).CHECKBOX},{novalidate:u.includeFormCheck}]])},[X("label",{for:u.providedFeature,class:mn({"form-check-label":u.contentType===Xn(Ot).CHECKBOX})},[u.attributes.svgRepresentation?(He(),Ke("span",{key:0,innerHTML:u.attributes.svgRepresentation},null,8,bJ)):cn("",!0),u.attributes.iconClass?(He(),Ke("i",{key:1,class:mn(u.attributes.iconClass)},null,2)):cn("",!0),X("span",{innerHTML:u.label},null,8,_J),u.contentType===Xn(Ot).INPUT_RANGE?(He(),Ke("span",xJ,Mt(u.value)+" px",1)):cn("",!0)],10,vJ),X("div",{class:mn(["input-group",{"has-validation":u.includeFormCheck}])},[u.contentType===Xn(Ot).TEXTAREA?dn((He(),Ke("textarea",{key:0,id:u.providedFeature,class:mn(["form-control",u.validationState]),type:"text",disabled:u.inputProperties.disabled,required:u.inputProperties.required,rows:u.attributes.rows,maxlength:u.attributes.maxLength,"onUpdate:modelValue":f=>u.value=f,"aria-describedby":u.helpTextId,"data-property-type":a.groupId,onKeydown:oy(ry(f=>i([u]),["prevent"]),["enter"])},null,42,wJ)),[[vs,u.value]]):cn("",!0),u.contentType===Xn(Ot).INPUT_RANGE?dn((He(),Ke("input",{key:1,class:mn(["col px-md-2 form-control-range form-check",u.validationState]),id:u.providedFeature,disabled:u.inputProperties.disabled,required:u.inputProperties.required,type:"range",min:u.attributes.min,max:u.attributes.max,"onUpdate:modelValue":f=>u.value=f,step:u.attributes.step,"aria-describedby":u.helpTextId,"data-property-type":a.groupId,onKeydown:oy(ry(f=>i([u]),["prevent"]),["enter"])},null,42,CJ)),[[vs,u.value]]):cn("",!0),u.contentType===Xn(Ot).INPUT_NUMBERBOX?dn((He(),Ke("input",{key:2,id:u.providedFeature,class:mn(["form-control",u.validationState]),type:"number",disabled:u.inputProperties.disabled,required:u.inputProperties.required,min:u.attributes.min,max:u.attributes.max,step:u.attributes.step,maxlength:u.attributes.maxlength,"onUpdate:modelValue":f=>u.value=f,"aria-describedby":u.helpTextId,"data-property-type":a.groupId,onKeydown:oy(ry(f=>i([u]),["prevent"]),["enter"])},null,42,TJ)),[[vs,u.value]]):cn("",!0),u.contentType===Xn(Ot).INPUT_TEXTBOX?(He(),Ke("div",SJ,[u.attributes.inputLabelIcon?(He(),Ke("div",EJ,[X("span",AJ,[X("i",{class:mn(u.attributes.inputLabelIcon)},null,2),X("span",kJ,Mt(u.label),1)])])):cn("",!0),dn(X("input",{id:u.providedFeature,class:mn(["form-control",u.validationState]),type:"text",disabled:u.inputProperties.disabled,required:u.inputProperties.required,placeholder:u.attributes.placeholder,"onUpdate:modelValue":f=>u.value=f,"aria-describedby":u.helpTextId,"data-property-type":a.groupId,list:u.providedFeature+"-datalist",onKeydown:oy(ry(f=>i([u]),["prevent"]),["enter"])},null,42,IJ),[[vs,u.value]]),X("datalist",{id:u.providedFeature+"-datalist"},[(He(!0),Ke(Gt,null,kn(u.attributes.suggestedValues,f=>(He(),Ke("option",{value:f.value},Mt(f.text),9,OJ))),256))],8,PJ)])):cn("",!0),u.contentType===Xn(Ot).CHECKBOX?dn((He(),Ke("input",{key:4,id:u.providedFeature,class:mn(["form-check-input",u.validationState]),type:"checkbox",disabled:u.inputProperties.disabled,required:u.inputProperties.required,checked:u.inputProperties.checked,"aria-describedby":u.helpTextId,"data-property-type":a.groupId,"onUpdate:modelValue":f=>u.value=f,onChange:f=>i([u])},null,42,LJ)),[[Ed,u.value]]):cn("",!0),u.contentType===Xn(Ot).DROPDOWN?dn((He(),Ke("select",{key:5,class:mn(["custom-select",u.validationState]),id:u.providedFeature,disabled:u.inputProperties.disabled,required:u.inputProperties.required,size:u.attributes.size,multiple:u.attributes.multiple,"data-property-type":a.groupId,"onUpdate:modelValue":f=>u.value=f,onChange:f=>i([u])},[(He(!0),Ke(Gt,null,kn(u.dropdownOptions,f=>(He(),Ke("option",{value:f.optionValue,class:mn(f.representationClass),key:f.optionValue,placeholder:u.attributes.placeholder,title:f.optionTitle,disabled:f.disabled},Mt(f.optionText),11,NJ))),128))],42,DJ)),[[kh,u.value]]):cn("",!0),u.contentType===Xn(Ot).TOGGLE?(He(),Ke("div",{key:6,class:"input-group",onClick:()=>{u.checked=!u.checked}},[X("label",{class:mn(["detailsSidebar-toggle-leftLabel user-select-none",{"text-muted":u.checked}]),for:u.providedFeature},Mt(u.attributes.labels.leftLabel),11,FJ),X("div",RJ,[dn(X("input",{id:u.providedFeature,class:"custom-control-input detailsSidebar-toggle",type:"checkbox","aria-describedby":u.helpTextId,"data-property-type":a.groupId,disabled:u.inputProperties.disabled,required:u.inputProperties.required,"onUpdate:modelValue":f=>u.checked=f},null,8,BJ),[[Ed,u.checked]]),X("label",{class:mn(["detailsSidebar-toggle-rightLabel custom-control-label user-select-none",{"text-muted":!u.checked}]),for:u.providedFeature},Mt(u.attributes.labels.rightLabel),11,$J)])],8,MJ)):cn("",!0),u.contentType===Xn(Ot).MULTI_SELECT?(He(),Ke("div",qJ,[X("button",{id:u.providedFeature,class:"btn btn-dark btn-block",type:"button","aria-describedby":"","data-property-type":a.groupId,disabled:u.inputProperties.disabled,required:u.inputProperties.required,onClick:f=>r(u)},[X("i",{class:mn(u.attributes.buttonIconClass)},null,2),ii(" "+Mt(u.attributes.buttonText),1)],8,zJ),Dn(qv,{show:u.showDialog,dialogMetaData:u.attributes.dialogMetaData,"onClose:Modal":f=>u.showDialog=!1,"onAction:Modal":f=>{i([u]),u.showDialog=!1}},{modalContent:wu(()=>[X("p",null,Mt(u.attributes.dialogInfo),1),X("div",UJ,[X("table",HJ,[X("thead",VJ,[X("tr",null,[(He(!0),Ke(Gt,null,kn(u.attributes.tableColumnHeaders,f=>(He(),Ke("th",null,Mt(f.text),1))),256))])]),X("tbody",null,[(He(!0),Ke(Gt,null,kn(u.tableRows,f=>(He(),Ke("tr",{class:mn(["tableRow",[{"text-muted":f.attributes.disabled},f.attributes.representationClass]])},[(He(!0),Ke(Gt,null,kn(Object.entries(f.columns),([d,m])=>(He(),Ke("td",{"data-table-context":d},[typeof m=="string"?(He(),Ke("span",{key:0,class:mn({"font-weight-bold":f.attributes.isTheCurrentEntity})},Mt(m),3)):cn("",!0),typeof m=="object"&&m.contentType===Xn(Ot).CHECKBOX_WITHOUT_LABEL?(He(),Ke("div",WJ,[dn(X("input",{class:"dialogCheckBox form-check-input position-static",type:"checkbox",value:m.id,disabled:m.disabled,checked:m.checked,"onUpdate:modelValue":b=>m.checked=b},null,8,jJ),[[Ed,m.checked]])])):cn("",!0)],8,GJ))),256))],2))),256))])])])]),_:2},1032,["show","dialogMetaData","onClose:Modal","onAction:Modal"])])):cn("",!0),u.contentType===Xn(Ot).DYNAMIC_LIST?(He(),Ke("div",KJ,[X("button",{id:u.providedFeature,class:"btn btn-dark btn-block",type:"button","aria-describedby":"","data-property-type":a.groupId,disabled:u.inputProperties.disabled,required:u.inputProperties.required,onClick:f=>r(u)},[X("i",{class:mn(u.attributes.buttonIconClass)},null,2),ii(" "+Mt(u.attributes.buttonText),1)],8,YJ),Dn(qv,{show:u.showDialog,dialogMetaData:u.attributes.dialogMetaData,"onClose:Modal":f=>u.showDialog=!1,"onAction:Modal":f=>{i([u]),u.showDialog=!1}},{modalContent:wu(()=>[X("p",null,Mt(u.attributes.dialogInfo),1),X("div",XJ,[X("div",JJ,[X("table",QJ,[X("thead",ZJ,[X("tr",null,[(He(!0),Ke(Gt,null,kn(u.attributes.listElementFields.slice(0,Math.min(3,u.attributes.listElementFields.length)),f=>(He(),Ke("th",null,Mt(f.label),1))),256)),u.attributes.listElementFields.length>3?(He(),Ke("th",eQ,[(He(!0),Ke(Gt,null,kn(u.attributes.listElementFields.slice(3),f=>(He(),Ke("span",null,Mt(f.label),1))),256))])):cn("",!0),tQ])]),X("tbody",null,[(He(!0),Ke(Gt,null,kn(u.value.entries(),([f,d])=>(He(),Ke("tr",nQ,[typeof d=="object"?(He(!0),Ke(Gt,{key:0},kn(Object.entries(d).slice(0,Math.min(3,Object.entries(d).length)),([m,b])=>(He(),Ke("td",{"data-table-context":m},[typeof b=="string"?(He(),Ke("span",rQ,Mt(b),1)):cn("",!0)],8,iQ))),256)):cn("",!0),typeof d=="object"&&Object.entries(d).length>3?(He(),Ke("td",oQ,[(He(!0),Ke(Gt,null,kn(Object.entries(d).slice(3),([m,b])=>(He(),Ke("span",null,Mt(b),1))),256))])):(He(),Ke("td",sQ,[X("span",null,Mt(d),1)])),X("td",null,[X("button",{type:"button",class:"btn btn-outline-dark",onClick:m=>s(u,f)},cQ,8,aQ)])]))),256))])])]),uQ,(He(!0),Ke(Gt,null,kn(u.attributes.listElementFields,f=>(He(),Ke("div",null,[X("div",dQ,[X("div",hQ,[X("span",fQ,[X("i",{class:mn(f.labelIcon)},null,2),X("span",pQ,Mt(f.label),1)])]),f.fieldType==="text"?dn((He(),Ke("input",{key:0,id:f.key,class:"form-control",type:"text",placeholder:f.placeholder,"onUpdate:modelValue":d=>u.newElementData[f.key]=d},null,8,gQ)),[[vs,u.newElementData[f.key]]]):cn("",!0),f.fieldType==="dropdown"?dn((He(),Ke("select",{key:1,id:f.key,class:"form-control","onUpdate:modelValue":d=>u.newElementData[f.key]=d},[(He(!0),Ke(Gt,null,kn(f.dropdownOptions,d=>(He(),Ke("option",{value:d},Mt(d),9,yQ))),256))],8,mQ)),[[kh,u.newElementData[f.key]]]):cn("",!0)])]))),256)),X("button",{type:"button",class:"btn btn-outline-dark",onClick:f=>o(u)},[X("i",{class:mn(u.attributes.addElementButton.labelIcon)},null,2),ii(" "+Mt(u.attributes.addElementButton.label),1)],8,vQ)])]),_:2},1032,["show","dialogMetaData","onClose:Modal","onAction:Modal"])])):cn("",!0),u.provideEnterButton?(He(),Ke("div",bQ,[X("button",{id:u.enterButtonId,disabled:u.inputProperties.disabled,class:"enterPropertyButton btn btn-outline-secondary",type:"button",onClick:f=>i([u])},wQ,8,_Q)])):cn("",!0)],2),u.helpText?(He(),Ke("small",{key:0,id:u.helpTextId,class:"form-text text-muted"},Mt(u.helpText),9,CQ)):cn("",!0),dn(X("div",TQ,"Reset: Invalid input provided",512),[[ir,u.validationState==="is-invalid"]]),dn(X("div",SQ,"Successfully changed.",512),[[ir,u.validationState==="is-valid"]])],10,yJ)],8,mJ)),[[ir,u.show]])),256))}});function AQ(e,t,n){let i="";for(let r of DD){let o=(d=>{switch(d){case"relationship":return"relationship_types";case"node":default:return"node_types"}})(e),s=r[o];if(!s){i=`Profiles do not contain any ${o}.`;continue}let a=s[t];if(!a){i=`No ${e} with key ${t} found.`;continue}let l=a.properties;if(!l){i=`No properties found for ${e} with key ${t}.`;continue}let u=l[n];if(!u){i=`No property with key ${n} found for ${t}.`;continue}let f=u.validation.$valid_values[1];if(!f){i=`No valid values found for property ${n} in ${t}.`;continue}return f}throw new Error(i)}const kQ={class:"details-container"},IQ={class:"sameEntityHighlighting"},PQ=X("div",{id:"entityHighlightingTitle"},[X("h6",null,"Entity Highlighting")],-1),OQ={class:"sameEntityHighlighting-Form"},LQ=["id"],DQ={class:"form-group"},NQ=["for"],MQ=["innerHTML"],FQ=["id","disabled","onUpdate:modelValue","onChange"],RQ=["value"],BQ={class:"accordion",id:"entireDetailsAccordion"},$Q=X("div",{id:"otherEntityDetailsTitle"},[X("h6",null,"Entity Properties")],-1),qQ=["id"],zQ=["id"],UQ={class:"mb-0"},HQ=["id","data-target","aria-controls"],VQ=["id","aria-labelledby"],GQ=["id"],WQ={key:0,class:"text-muted"},jQ=X("i",{class:"fa-solid fa-info",style:{"margin-right":"10px"}},null,-1),KQ=Zi({__name:"DetailsSidebar",props:{graph:{},paper:{},selectedEntity:{},selectedDataAggregate:{},selectedBackingData:{}},emits:["update:selectedDataAggregate","update:selectedBackingData"],setup(e,{emit:t}){const n=e,i=t,r=new RegExp("^relationship/.*");var o=null;const s=nn(""),a=nn([]);function l(k,T){for(const A of k){let R=A.options.find(F=>F.providedFeature===T);if(R)return R}return null}const u=nn((()=>{let k=[];for(const T of Gc.EntityHighlighting)k.push({entityType:T.type+"-fieldset",selectId:T.type,svgRepresentation:T.svgRepresentation,labelText:T.labelText,highlightColour:T.highlightColour,options:[{optionValue:"none",optionText:"Choose existing entity..."}],selectedOption:(A=>{switch(A){case _e.DATA_AGGREGATE:return n.selectedDataAggregate;case _e.BACKING_DATA:return n.selectedBackingData;default:return"none"}})(T.type)});return k})());function f(){for(let k of u.value){let T=[{optionValue:"none",optionText:"Choose existing entity..."}],A=n.graph.getElements().filter(R=>R.prop("entity/type")===k.selectId);for(const R of A){let F=R.prop("entity/assignedFamily");F?T.filter(Z=>Z.optionValue===F).length===0&&T.push({optionValue:F,optionText:F}):T.push({optionValue:R.id.toString(),optionText:R.attr("label/textWrap/text")})}k.options=T}}function d(k){let T=n.graph.getElements().filter(A=>A.prop("entity/type")===k.selectId);for(const A of T)A.id.toString()===k.selectedOption||A.prop("entity/assignedFamily")===k.selectedOption?A.attr("body/fill",k.highlightColour):A.attr("body/fill","white");switch(k.selectId){case _e.DATA_AGGREGATE:i("update:selectedDataAggregate",k.selectedOption);break;case _e.BACKING_DATA:i("update:selectedDataAggregate",k.selectedOption);break}}function m(k){let T=[];for(const[A,R]of Object.entries(Gc.GeneralProperties))k.includes(A)||T.push({groupId:A,cardId:A+"-card",headerId:A+"-header",headerButtonId:A+"-button",headline:R.headline,headlineIconClass:R.iconClass,dataTarget:"collapse-"+A,dataTargetId:"#collapse-"+A,cardBodyId:A+"-card-body",options:Hk(R.options)});return T}pa(()=>{n.graph.on("resetHighlighting",()=>{for(const k of u.value)k.selectedOption="none",d(k)}),n.graph.on("reloaded",()=>{f()}),n.graph.on("change",()=>{f()})}),s0(()=>{if(!n.selectedEntity){o&&(o.model.off(null,null,"detailsSidebar"),o=null),s.value="",a.value.length=0;return}if(n.selectedEntity.model.id.toString()===s.value)return;o=n.selectedEntity,s.value=n.selectedEntity.model.id.toString(),a.value.length=0;let k=[];(o.model.prop("entity/type")===_e.LINK||n.selectedEntity.model.prop("entity/type")===_e.DEPLOYMENT_MAPPING)&&k.push("artifacts","label","size","position"),[_e.ENDPOINT,_e.EXTERNAL_ENDPOINT,_e.DATA_AGGREGATE,_e.BACKING_DATA,_e.REQUEST_TRACE].includes(o.model.prop("entity/type"))&&k.push("artifacts"),a.value.push(...m(k));const A=Object.entries(wo).find(F=>F[1].type===o.model.prop("entity/type"))[1],R=a.value.find(F=>F.groupId==="entity").options;R.push(...Hk(A.specificProperties));for(let F of a.value)for(let Z of F.options){let ee="";Z.jointJsConfig.propertyType==="attribute"?ee=o.model.attr(Z.jointJsConfig.modelPath):(Z.jointJsConfig.propertyType==="property"||Z.jointJsConfig.propertyType==="providedMethod")&&(ee=o.model.prop(Z.jointJsConfig.modelPath),Z.providedFeature==="entity-aspect-ratio"&&ee&&(ee="(h ~ "+(ee.height/ee.width).toFixed(2)+" * w)")),Z.value=ee,Z.validationState=""}switch(o.model.prop("entity/type")){case _e.COMPONENT:case _e.SERVICE:case _e.BACKING_SERVICE:case _e.STORAGE_BACKING_SERVICE:let F=l(a.value,"assigned_networks");F.includeFormCheck=!1,F.value=o.model.prop(F.jointJsConfig.modelPath);const Z=n.graph.getElements().filter(ne=>ne.prop("entity/type")===_e.BACKING_SERVICE);let ee=l(a.value,"proxiedBy");const g=o.model.prop(ee.jointJsConfig.modelPath),L=Z.map(ne=>({optionValue:ne.id,optionText:ne.attr("label/textWrap/text"),optionTitle:ne.attr("label/textWrap/text"),optionRepresentationClass:"validOption",disabled:!1}));ee.dropdownOptions=L,ee.value=g;let M=l(a.value,"artifacts");M.includeFormCheck=!1,M.attributes.listElementFields.find(ne=>ne.key==="type").dropdownOptions=Ex();break;case _e.INFRASTRUCTURE:let z=l(a.value,"supported_artifacts");z.includeFormCheck=!1;let Q=o.model.prop(z.jointJsConfig.modelPath)?o.model.prop(z.jointJsConfig.modelPath):[];z.tableRows.length=0,Ex().forEach(ne=>{z.tableRows.push({columns:{name:ne,supported:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:Q.includes(ne),id:ne}},attributes:{representationClass:"validOption",disabled:!1}})});let de=l(a.value,"supported_update_strategies");de.includeFormCheck=!1;const ce=o.model.prop(de.jointJsConfig.modelPath)?o.model.prop(de.jointJsConfig.modelPath):[];de.tableRows.length=0,AQ("relationship",N0,"update_strategy").forEach(ne=>{de.tableRows.push({columns:{name:ne,supported:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:ce.includes(ne),id:ne}},attributes:{representationClass:"validOption",disabled:!1}})});let pe=l(a.value,"assigned_networks");pe.includeFormCheck=!1,pe.value=o.model.prop(pe.jointJsConfig.modelPath);let ae=l(a.value,"artifacts");ae.includeFormCheck=!1,ae.attributes.listElementFields.find(ne=>ne.key==="type").dropdownOptions=Ex();break;case _e.DATA_AGGREGATE:for(let ne of R)ne.jointJsConfig.modelPath&&r.test(ne.jointJsConfig.modelPath)&&(ne.show=Jn(()=>l(a.value,"embedded").value!==""&&l(a.value,"dataAggregate-chooseEditMode").checked),ne.providedFeature==="usage_relation"&&(ne.label=b(o.model.prop("entity/embedded"))));let q=l(a.value,"dataAggregate-chooseEditMode");q.show=Jn(()=>l(a.value,"embedded").value!=="");let G=l(a.value,"dataAggregate-assignedFamily");G.show=Jn(()=>l(a.value,"embedded").value!==""?l(a.value,"dataAggregate-chooseEditMode").checked:!1);let j=l(a.value,"dataAggregate-familyConfig");j.includeFormCheck=!1,j.show=Jn(()=>l(a.value,"embedded").value!==""?!l(a.value,"dataAggregate-chooseEditMode").checked:!0),j.tableRows.length=0,n.graph.getElements().filter(ne=>ne.prop("entity/type")===_e.DATA_AGGREGATE).forEach(ne=>{let we=ne.getParentCell(),fe=!!we,ze=fe?we.attr("label/textWrap/text"):"-",tt=ne.prop(G.jointJsConfig.modelPath).length!==0&&ne.prop(G.jointJsConfig.modelPath).localeCompare(n.selectedEntity.model.prop(G.jointJsConfig.modelPath))===0;j.tableRows.push({attributes:{isTheCurrentEntity:o.model.id===ne.id,representationClass:fe?"validOption":"invalidOption",disabled:!fe},columns:{name:ne.attr("label/textWrap/text")?ne.attr("label/textWrap/text"):"-",familyName:ne.prop(G.jointJsConfig.modelPath)?ne.prop(G.jointJsConfig.modelPath):"-",parent:ze,included:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:!fe,checked:tt,id:ne.id}}})});break;case _e.BACKING_DATA:for(let ne of R)ne.jointJsConfig.modelPath&&r.test(ne.jointJsConfig.modelPath)&&(ne.show=Jn(()=>l(a.value,"embedded").value!==""&&l(a.value,"backingData-chooseEditMode").checked),ne.providedFeature==="usage_relation"&&(ne.label=b(o.model.prop("entity/embedded"))));let te=l(a.value,"backingData-chooseEditMode");te.show=Jn(()=>l(a.value,"embedded").value!=="");let le=l(a.value,"backingData-includedData");le.includeFormCheck=!1,le.show=Jn(()=>l(a.value,"embedded").value!==""?l(a.value,"backingData-chooseEditMode").checked:!0);const Ae=(ne,we,fe)=>{let ze=[];for(const[tt,Je]of Object.entries(ne)){let nt={};nt[we]=tt,nt[fe]=Je,ze.push(nt)}return ze};le.value=Ae(o.model.prop("entity/properties/included_data"),le.attributes.listElementFields[0].key,le.attributes.listElementFields[1].key);let ke=l(a.value,"backingData-assignedFamily");ke.show=Jn(()=>l(a.value,"embedded").value!==""?l(a.value,"backingData-chooseEditMode").checked:!1);let rt=l(a.value,"backingData-familyConfig");rt.includeFormCheck=!1,rt.show=Jn(()=>l(a.value,"embedded").value!==""?!l(a.value,"backingData-chooseEditMode").checked:!0),rt.tableRows.length=0,n.graph.getElements().filter(ne=>ne.prop("entity/type")===_e.BACKING_DATA).forEach(ne=>{let we=ne.getParentCell(),fe=!!we,ze=fe?we.attr("label/textWrap/text"):"-",tt=ne.prop(ke.jointJsConfig.modelPath).length!==0&&ne.prop(ke.jointJsConfig.modelPath).localeCompare(n.selectedEntity.model.prop(ke.jointJsConfig.modelPath))===0;rt.tableRows.push({attributes:{isTheCurrentEntity:o.model.id===ne.id,representationClass:fe?"validOption":"invalidOption",disabled:!fe},columns:{name:ne.attr("label/textWrap/text")?ne.attr("label/textWrap/text"):"-",familyName:ne.prop(ke.jointJsConfig.modelPath)?ne.prop(ke.jointJsConfig.modelPath):"-",parent:ze,included:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:!fe,checked:tt,id:ne.id}}})});break;case _e.REQUEST_TRACE:const Be=n.graph.getElements().filter(ne=>ne.prop("entity/type")===_e.EXTERNAL_ENDPOINT);let st=l(a.value,"referred_endpoint");const lt=o.model.prop(st.jointJsConfig.modelPath),Se=Be.map(ne=>{let we="",fe="",ze=!0;return ne.getParentCell()?(we=ne.getParentCell().attr("label/textWrap/text"),fe="validOption",ze=!1):(ze=!0,fe="invalidOption"),{optionValue:ne.id,optionText:ne.attr("label/textWrap/text"),optionTitle:`${we?`(Parent: ${we})`:"no parent: invalid option"}`,optionRepresentationClass:`${fe||""}`,disabled:ze}});st.dropdownOptions=Se,st.value=lt;let $e=l(a.value,"involved_links");$e.includeFormCheck=!1;const qe=n.graph.getLinks().filter(ne=>ne.prop("entity/type")===_e.LINK),Fe=new Set(o.model.prop($e.jointJsConfig.modelPath));$e.tableRows.length=0,qe.sort((ne,we)=>ne.getSourceElement().attr("label/textWrap/text").localeCompare(we.getSourceElement().attr("label/textWrap/text"))).forEach(ne=>{let we=!0,fe=!1,ze="-";ne.getTargetElement()&&ne.getTargetElement().parent()?(ze=n.graph.getCell(ne.getTargetElement().parent()).attr("label/textWrap/text"),fe=!0):fe=!1,ne.getSourceElement()&&ne.getTargetElement()&&(we=!fe);const tt=ne.getSourceElement()?ne.getSourceElement().attr("label/textWrap/text"):"-",Je=ne.getTargetElement()?ne.getTargetElement().attr("label/textWrap/text"):"-";$e.tableRows.push({columns:{from:tt,to:Je,parent:ze,included:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:we,checked:Fe.has(ne.id),id:ne.id}},attributes:{representationClass:we?"invalidOption":"validOption",disabled:we}})});break;case _e.ENDPOINT:case _e.EXTERNAL_ENDPOINT:let xe=l(a.value,"uses_data");xe.includeFormCheck=!1;const Ie=[];let U=o.model.getParentCell();U&&Ie.push(...U.getEmbeddedCells().filter(ne=>ne.prop("entity/type")===_e.DATA_AGGREGATE));const K=new Set(o.model.prop(xe.jointJsConfig.modelPath));xe.tableRows.length=0,Ie.sort((ne,we)=>ne.attr("label/textWrap/text").localeCompare(we.attr("label/textWrap/text"))).forEach(ne=>{xe.tableRows.push({columns:{dataAggregateName:ne.attr("label/textWrap/text"),usageRelation:ne.prop("relationship/properties/usage_relation"),included:{contentType:Ot.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:K.has(ne.id),id:ne.id}},attributes:{representationClass:"validOption",disabled:!1}})})}o.model.off(null,null,"detailsSidebar"),o.model.on("change:parent",F=>{if(!o||F.id!==o.model.id)return;let Z=o.model.getParentCell(),ee="";if(Z&&(ee=Z.id.toString()),l(a.value,"embedded").value=ee,o.model.prop("entity/embedded",ee),o.model.prop("entity/type")===_e.DATA_AGGREGATE){let g=l(a.value,"usage_relation");g.label=b(o.model.prop("entity/embedded"))}},"detailsSidebar"),o.model.on("change:position",()=>{let F=l(a.value,"entity-x-position");F.value=o.model.prop(F.jointJsConfig.modelPath);let Z=l(a.value,"entity-y-position");Z.value=o.model.prop(Z.jointJsConfig.modelPath)},"detailsSidebar")});function b(k){if(k){const T=n.graph.getCell(k).prop("entity/type");return(R=>{switch(T){case _e.COMPONENT:return'<svg width="30" height="20"><rect width="24" height="12" rx="2" ry="2" transform="translate(2.2, 2)" stroke-dasharray="0" stroke-width="2" stroke="black" fill="white"></rect></svg>';case _e.SERVICE:return'<svg width="30" height="20"><polygon points="5,0 15,0 20,8 15,16 5,16 0,8" transform="translate(7, 0.7)" stroke-dasharray="0" stroke-width="2" stroke="black" fill="white"></polygon></svg>';case _e.BACKING_SERVICE:return'<svg width="30" height="20"><polygon points="12.5,0 25,7.5 12.5,15 0,7.5" transform="translate(2, 0.8)" stroke-width="2" stroke="black" fill="white"></polygon></svg>';case _e.STORAGE_BACKING_SERVICE:return`<svg width="30" height="20">
                                <path transform="translate(6, 0.7) scale(0.27)" d="M 0 10 L 0 50 C 0 55.51784 17.928639999999998 60 40 60 C 62.07136 60 80 55.51784 80 50 L 80 10 C 80 4.4821599999999995 62.07136 0 40 0 C 17.928639999999998 0 0 4.4821599999999995 0 10 Z" stroke-width="5" stroke="black" fill="white"></path>
                                <ellipse transform="translate(6, 0.7) scale(0.27)" cy="10" ry="10" cx="40" rx="40" stroke-width="5" stroke="black" fill="white"></ellipse>
                                </svg>`;default:return""}})()+" Parent Relation:"}else return"Parent Relation:"}function x(k){for(const T of k){if(T.includeFormCheck&&!C(T)){T.validationState="is-invalid";let R="";T.jointJsConfig.propertyType==="attribute"?R=n.selectedEntity.model.attr(T.jointJsConfig.modelPath):T.jointJsConfig.propertyType==="property"&&(R=n.selectedEntity.model.prop(T.jointJsConfig.modelPath)),T.value=R;continue}T.validationState="is-valid";const A=n.selectedEntity.model;if(T.jointJsConfig.propertyType!=="free")if(T.jointJsConfig.propertyType==="providedMethod")switch(T.providedFeature){case"entity-x-position":A.position(T.value,A.position().y,{deep:!0,restrictedArea:n.paper.getArea()});break;case"entity-y-position":A.position(A.position().x,T.value,{deep:!0,restrictedArea:n.paper.getArea()});break;case"entity-width":let R=A.size().width,F=T.value,Z=A.size().height,ee=Z;if(A.prop("entity/type")!==_e.INFRASTRUCTURE){const M=A.prop("defaults/size"),z=M.height/M.width;ee=Number((z*F).toFixed(2))}A.resize(F,ee,{deep:!0}),A.position(A.position().x-(F-R)*.5,A.position().y-(ee-Z)*.5);break;case"entity-height":let g=T.value,L=A.size().width;A.resize(L,g,{deep:!0})}else if(T.jointJsConfig.propertyType==="attribute"){switch(A.prop("entity/type")){case _e.DATA_AGGREGATE:if(T.providedFeature==="entity-text"&&A.prop("entity/assignedFamily")){A.prop("entity/assignedFamily",T.value,{rewrite:!0});const R=n.graph.getElements().filter(F=>F.prop("entity/type")===_e.DATA_AGGREGATE&&F.attr(T.jointJsConfig.modelPath).localeCompare(A.attr(T.jointJsConfig.modelPath))===0);for(const F of R)F.attr(T.jointJsConfig.modelPath,T.value),F.prop("entity/assignedFamily",T.value,{rewrite:!0});continue}break;case _e.BACKING_DATA:if(T.providedFeature==="entity-text"&&A.prop("entity/assignedFamily")){A.prop("entity/assignedFamily",T.value,{rewrite:!0});const R=n.graph.getElements().filter(F=>F.prop("entity/type")===_e.BACKING_DATA&&F.attr(T.jointJsConfig.modelPath).localeCompare(A.attr(T.jointJsConfig.modelPath))===0);for(const F of R)F.attr(T.jointJsConfig.modelPath,T.value),F.prop("entity/assignedFamily",T.value,{rewrite:!0});continue}break}A.attr(T.jointJsConfig.modelPath,T.value)}else if(T.jointJsConfig.propertyType==="property")A.prop(T.jointJsConfig.modelPath,T.value);else if(T.jointJsConfig.propertyType==="customProperty")switch(A.prop("entity/type")){case _e.COMPONENT:case _e.SERVICE:case _e.BACKING_SERVICE:case _e.STORAGE_BACKING_SERVICE:T.providedFeature==="assigned_networks"&&A.prop(T.jointJsConfig.modelPath,T.value);break;case _e.INFRASTRUCTURE:if(T.providedFeature==="assigned_networks")A.prop(T.jointJsConfig.modelPath,T.value);else if(T.providedFeature==="supported_artifacts"){let R=[];T.tableRows.forEach(F=>{F.columns.supported.checked&&R.push(F.columns.supported.id)}),A.prop(T.jointJsConfig.modelPath,R,{rewrite:!0})}else if(T.providedFeature==="supported_update_strategies"){let R=[];T.tableRows.forEach(F=>{F.columns.supported.checked&&R.push(F.columns.supported.id)}),A.prop(T.jointJsConfig.modelPath,R,{rewrite:!0})}break;case _e.DATA_AGGREGATE:if(T.providedFeature==="dataAggregate-familyConfig"){let R=A.attr("label/textWrap/text");for(let F of T.tableRows)F.columns.included.checked?(n.graph.getCell(F.columns.included.id).attr("label/textWrap/text",R,{rewrite:!0}),n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily",R,{rewrite:!0})):n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily").localeCompare(R)===0&&(n.graph.getCell(F.columns.included.id).attr("label/textWrap/text","Data Aggregate",{rewrite:!0}),n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily","",{rewrite:!0}));continue}break;case _e.BACKING_DATA:if(T.providedFeature==="backingData-familyConfig"){let R=A.attr("label/textWrap/text");for(let F of T.tableRows)F.columns.included.checked?(n.graph.getCell(F.columns.included.id).attr("label/textWrap/text",R,{rewrite:!0}),n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily",R,{rewrite:!0})):n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily").localeCompare(R)===0&&(n.graph.getCell(F.columns.included.id).attr("label/textWrap/text","Backing Data",{rewrite:!0}),n.graph.getCell(F.columns.included.id).prop("entity/assignedFamily","",{rewrite:!0}));continue}else if(T.providedFeature==="backingData-includedData"){const R=F=>{let Z={};for(const ee of F)Z[ee[T.attributes.listElementFields[0].key]]=ee[T.attributes.listElementFields[1].key];return Z};A.prop(T.jointJsConfig.modelPath,R(T.value),{rewrite:!0})}break;case _e.ENDPOINT:case _e.EXTERNAL_ENDPOINT:if(T.providedFeature==="uses_data"){let R=T.tableRows.filter(F=>F.columns.included.checked).map(F=>F.columns.included.id);A.prop(T.jointJsConfig.modelPath,R,{rewrite:!0});continue}break;case _e.REQUEST_TRACE:if(T.providedFeature==="involved_links"){let R=T.tableRows.filter(F=>F.columns.included.checked).map(F=>F.columns.included.id);A.prop(T.jointJsConfig.modelPath,R,{rewrite:!0});continue}break;default:console.error("no custom handling for this property defined: "+T.providedFeature)}else console.error("unknown property type for: "+T.providedFeature)}}function C(k){let T=k.value;if(typeof T=="string"&&!T)return!1;if(typeof T=="number"){if(k.jointJsConfig.minPath){let A=n.selectedEntity.model.prop(k.jointJsConfig.minPath);return T>=A}if(k.attributes&&k.attributes.min)return T>=Number(k.attributes.min)}return!0}return(k,T)=>(He(),Ke("div",kQ,[X("div",IQ,[PQ,X("form",OQ,[(He(!0),Ke(Gt,null,kn(u.value,A=>(He(),Ke("fieldset",{id:A.entityType},[X("div",DQ,[X("label",{for:A.entityType},[X("span",{innerHTML:A.svgRepresentation},null,8,MQ),ii(Mt(A.labelText),1)],8,NQ),dn(X("select",{class:"entityHighlightingOption custom-select",id:A.selectId,disabled:A.options.length==1,"onUpdate:modelValue":R=>A.selectedOption=R,onChange:R=>d(A)},[(He(!0),Ke(Gt,null,kn(A.options,R=>(He(),Ke("option",{value:R.optionValue},Mt(R.optionText),9,RQ))),256))],40,FQ),[[kh,A.selectedOption]])])],8,LQ))),256))]),dn(X("div",BQ,[$Q,(He(!0),Ke(Gt,null,kn(a.value,A=>(He(),Ke("div",{id:A.cardId,class:"detailsSidebar card"},[X("div",{class:"card-header",id:A.headerId},[X("h2",UQ,[X("button",{id:A.headerButtonId,class:mn(["detailsSidebar-headlineButton btn btn-link btn-block text-left collapsed",{collapsed:!0}]),type:"button","data-toggle":"collapse","data-target":A.dataTargetId,"aria-expanded":"false","aria-controls":A.dataTarget},[X("i",{class:mn(["detailsSidebar-iconHeadline",A.headlineIconClass])},null,2),ii(" "+Mt(A.headline),1)],8,HQ)])],8,zQ),X("div",{id:A.dataTarget,class:"collapse","aria-labelledby":A.headerId,"data-parent":"#entireDetailsAccordion"},[X("div",{id:A.cardBodyId,class:"card-body"},[A.groupId==="entity"?(He(),Ke("p",WQ,[jQ,ii(" Properties included here will not change any presentation details but provide additional information, which is especially relevant for a TOSCA transformation. ")])):cn("",!0),Dn(EQ,{groupId:A.groupId,cardBodyId:A.cardBodyId,propertyOptions:A.options,"onOn:EnterProperty":x},null,8,["groupId","cardBodyId","propertyOptions"])],8,GQ)],8,VQ)],8,qQ))),256))],512),[[ir,!!Xn(o)]])])]))}}),Vk={Component:{index:1,shape:new EC({position:{x:20,y:26},size:{width:100,height:45},attrs:{root:{title:"cna.qualityModel.Component"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Component"}}}})},Service:{index:2,shape:new AC({position:{x:145,y:18},size:{width:80,height:45},attrs:{root:{title:"cna.qualityModel.Service"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Service"}}}})},BackingService:{index:3,shape:new kC({position:{x:20,y:100},size:{width:100,height:45},attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Backing Service"}}}})},StorageBackingService:{index:4,shape:new IC({position:{x:145,y:100},size:{width:80,height:60},attrs:{root:{title:"cna.qualityModel.StorageBackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Storage Backing Service"}}}})},Endpoint:{index:5,shape:new PC({position:{x:41,y:182},size:{width:55,height:55},attrs:{root:{title:"cna.qualityModel.Endpoint"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{width:"115%",text:"Endpoint"}}}})},ExternalEndpoint:{index:6,shape:new OC({position:{x:155,y:182},size:{width:55,height:55},attrs:{root:{title:"cna.qualityModel.ExternalEndpoint"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{width:"115%",text:"External Endpoint"}}}})},Infrastructure:{index:7,shape:new LC({position:{x:20,y:264},size:{width:100,height:45},attrs:{root:{title:"cna.qualityModel.Infrastructure"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Infrastructure"}}}})},DataAggregate:{index:8,shape:new NC({position:{x:140,y:264},size:{width:45,height:25},attrs:{root:{title:"cna.qualityModel.DataAggregate"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Data Aggregate"}}}})},RequestTrace:{index:9,shape:new DC({position:{x:18,y:348},size:{width:110,height:45},attrs:{root:{title:"cna.qualityModel.RequestTrace"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Request Trace"}}}})},BackingData:{index:10,shape:new MC({position:{x:147,y:346},size:{width:80,height:60},attrs:{root:{title:"cna.qualityModel.BackingData"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Backing Data"}}}})},Link:{index:11,shape:new am({source:{x:20,y:434},target:{x:120,y:434},labels:[{attrs:{rect:{fill:"none"},text:{text:"Link"}},position:{ref:"text",offset:18}}],attrs:{root:{title:"cna.qualityModel.Link"},wrapper:{cursor:"move",class:"sidebarConnection"}}})},DeploymentMapping:{index:12,shape:new lm({source:{x:145,y:434},target:{x:225,y:434},labels:[{attrs:{rect:{fill:"none"},text:{text:yv("Deployment Mapping",{width:100})}},position:{ref:"text",offset:22}}],attrs:{root:{title:"cna.qualityModel.DeploymentMapping"},wrapper:{cursor:"move",class:"sidebarConnection"}}})}},YQ={class:"entitySidebar"},XQ=["id"],JQ=X("div",{class:"entityShapes-icon"},[X("i",{class:"fa-solid fa-shapes"})],-1),QQ=X("div",{class:"entityShapes-text"},[X("span",{class:""},"Entity Shapes")],-1),ZQ=[JQ,QQ],eZ=Zi({__name:"EntitySidebar",props:{paper:{},pageId:{},wrapperElementId:{}},setup(e){const t=e,n=`entityShapesPaper-${t.pageId}`,i=new Du,r=nn("darkorange"),o=nn("darkorange"),s=nn(!1);pa(()=>{let d=ws(`#${t.wrapperElementId}`).first();const m=d&&d.innerWidth()&&d.innerWidth()>0?d.innerWidth():245,b=d&&d.innerHeight()&&d.innerHeight()>0?d.innerHeight():600;r.value=getComputedStyle(document.documentElement).getPropertyValue("--entitySidebar-highlighting-colour")??"darkorange",o.value=getComputedStyle(document.documentElement).getPropertyValue("--entitySidebar-textHighlighting-colour")??"darkorange";let x=b-ws(`#${t.wrapperElementId}-headline`).first().outerHeight(),C=ws(`#${t.wrapperElementId}`).first().css("backgroundColor").split(","),k=C[0].concat(",",C[1]).concat(",",C[2]).concat(", ","0)"),T=new wv({el:ws(`#${n}`),width:Math.floor(m)>=244?Math.floor(m):244,height:Math.floor(x)>=547?Math.floor(x):547,gridSize:10,drawGrid:!1,model:i,embeddingMode:!1,background:{color:k},interactive:!1,cellViewNamespace:cm});T.render(),T.on("cell:mouseenter",u),T.on("cell:mouseleave",f),T.on("element:pointerclick",a),T.on("requestTrace:icon:pointerclick",a),T.on("link:pointerclick",l),T.on("cell:pointermove",(A,R,F)=>{s.value=!0}),Object.keys(Vk).forEach(A=>{i.addCell(Vk[A].shape)})});function a(d){let m=i.getCell(d.model.id),b=m.clone();b.attr("label/fontSize",m.prop("defaults/fontSize")),b.removeAttr("root/title"),b.position(30,20);let x=t.paper.model.addCell(b).getCell(b.id);BC(x,t.paper),t.paper.requireView(x),x.resize(m.prop("defaults/size/width"),m.prop("defaults/size/height"))}function l(d){let b=i.getCell(d.model.id).clone();b.attr("wrapper/cursor","pointer"),b.attr("wrapper/class","modelingArea-Connection"),b.attr("line/stroke","black"),b.removeAttr("root/title"),b.removeLabel(-1),b.prop("source",{x:30,y:30}),b.prop("target",{x:130,y:30}),t.paper.model.addCell(b);let x=new cN(!0);var C=b.findView(t.paper);C.addTools(x)}function u(d){if(d.model.isLink()){d.model.attr("line/stroke",r.value),d.model.attr("text/fill",r.value);return}d.$el.addClass("highlightEntity")}function f(d){if(d.model.isLink()){d.model.attr("line/stroke","black"),d.model.attr("text/fill","black");return}d.$el.removeClass("highlightEntity")}return(d,m)=>(He(),Ke("div",YQ,[X("div",{id:`${d.wrapperElementId}-headline`,class:"user-select-none entityShapes-headline sticky-top"},ZQ,8,XQ),X("div",{class:"entityShapes-container"},[X("div",{id:n,class:"entityShapes-paper"})])]))}}),tZ={id:"app"},nZ={class:"app-body"},iZ=["id"],rZ={class:"visible-modeling-area"},Gk=Zi({__name:"ModelingApp",props:{systemName:{},pageId:{},modelingData:{}},emits:["update:systemName","store:modelingData"],setup(e,{emit:t}){const n=e,i=t,r=nn(n.systemName);function o(ae){ae&&(r.value=ae,i("update:systemName",r.value,n.pageId))}function s(ae){i("store:modelingData",n.modelingData.id,l,n.modelingData.toImport,n.modelingData.importDone,ae)}const a=nn(n.modelingData.entityManager?n.modelingData.entityManager.getGraph():new Du({},{cellNamespace:cm})),l=(()=>{if(n.modelingData.entityManager)return n.modelingData.entityManager;{const ae=new Lw(a.value);return i("store:modelingData",n.modelingData.id,ae,n.modelingData.toImport,!0,n.modelingData.appSettings),new Lw(a.value)}})(),u=nn(),f=nn(),d=nn(),m=nn(!1),b=nn("none"),x=nn("none"),C=nn(FC());pa(()=>{let ae;n.modelingData.toImport.fileName&&(n.modelingData.toImport.fileName.endsWith("json")?ae=A(n.modelingData.toImport.fileContent,n.modelingData.toImport.fileName,"replace"):(n.modelingData.toImport.fileName.endsWith("yaml")||n.modelingData.toImport.fileName.endsWith("yml")||n.modelingData.toImport.fileName.endsWith("tosca"))&&(ae=Z(n.modelingData.toImport.fileContent,n.modelingData.toImport.fileName,"replace")),ae.then(()=>{i("store:modelingData",n.modelingData.id,l,{fileName:"",fileContent:""},!0,n.modelingData.appSettings)})),document.addEventListener("keydown",q=>{q.code==="Delete"&&f.value&&(f.value.model.remove(),f.value=null)},!1)});function k(){u.value.trigger("blank:pointerdown"),f.value=null,a.value.trigger("resetHighlighting"),M()}function T(ae,q){C.value={show:!0,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-question",svgRepresentation:"",text:"Replace or merge?"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Merge"},{buttonIconClass:"",buttonText:"Replace"}]}},confirmationPrompt:"Do you want to replace the current model with the imported model or merge the imported model into the current model?",onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1,l.getSystemEntity(),A(ae,q,"merge")},function(){C.value.show=!1,A(ae,q,"replace")}]}}function A(ae,q,G){k();let j=l.loadFromJson(ae,q,G);return j.error?(ee("Import from JSON failed",j.error),Promise.resolve()):(o(l.getSystemEntity().getSystemName),Mw(j.createdCells,u.value).then(te=>k()))}function R(){k();let ae=l.convertToJson(),q=document.createElement("a");q.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(ae))),q.setAttribute("download",`${r.value}.json`),q.click()}function F(ae,q){C.value={show:!0,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-question",svgRepresentation:"",text:"Replace or merge?"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Merge"},{buttonIconClass:"",buttonText:"Replace"}]}},confirmationPrompt:"Do you want to replace the current model with the imported model or merge the imported model into the current model?",onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1,l.getSystemEntity(),Z(ae,q,"merge")},function(){C.value.show=!1,Z(ae,q,"replace")}]}}function Z(ae,q,G){k();let j=l.loadFromCustomTosca(ae,q,G);return j.error?(ee("Import from TOSCA failed",j.error),Promise.resolve()):(o(l.getSystemEntity().getSystemName),Mw(j.createdCells,u.value).then(te=>k()))}function ee(ae,q){C.value={show:!0,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:ae},footer:{showCancelButton:!1,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:q,onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1}]}}function g(){let ae=l.convertToCustomTosca();function q(){let G=document.createElement("a");G.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(ae.tosca)),G.setAttribute("download",`${r.value}.yaml`),G.click()}ae.errors.length>0?C.value={show:!0,dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!0,cancelButtonText:"No, cancel export",actionButtons:[{buttonIconClass:"",buttonText:"Yes, export anyway"}]}},confirmationPrompt:`Problems detected while preparing the export:
            <ul>
                <li> ${ae.errors.join(`</li>
<li>`)} </li>
            </ul>
            Are you sure you want to export?
            `,onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1,q()}]}:q()}function L(ae){d.value=ae,z(ae);const q=ae.prop("entity/properties/involved_links");let G=new Set(q);if(G.add(ae.id),G.add(ae.prop("entity/properties/referred_endpoint")),q&&q.length>0)for(const te of q){const le=a.value.getCell(te);if(G.add(le.getTargetElement().id),G.add(le.getTargetElement().parent()),G.add(le.getSourceElement().id),le.getTargetElement().prop("entity/properties/uses_data"))for(const Ae of le.getTargetElement().prop("entity/properties/uses_data"))G.add(a.value.getCell(Ae).id)}const j=a.value.getCells();for(const te of j)G.has(te.id)||(te.attr("root/visibility","hidden",{isolate:!0}),te.attr("icon/visibility","hidden",{isolate:!0}))}function M(){d.value?Q(d.value):a.value.getElements().filter(q=>q.prop("entity/type")===_e.REQUEST_TRACE).forEach(q=>{Q(q)}),d.value=null;const ae=a.value.getCells();for(const q of ae)(!q.prop("parentCollapsed")||q.prop("parentCollapsed")===!1)&&q.attr("root/visibility","visible",{isolate:!0}),(q.attr("collapsed")===!0||q.prop("entity/type")===_e.REQUEST_TRACE)&&q.attr("icon/visibility","visible",{isolate:!0})}function z(ae){ae.prop("collapsed",!1),ae.attr("icon/visibility","hidden"),ae.attr("body/fill","gold")}function Q(ae){ae.prop("collapsed",!0),ae.attr("icon/visibility","visible"),ae.attr("body/fill","white")}function de(){m.value=!0,i0(function(){window.print(),m.value=!1})}function ce(){let ae=ws(`#model${n.pageId}`),q=ae.find("svg").clone()[0];q.setAttribute("xmlns","http://www.w3.org/2000/svg");let j=ae.find(".joint-cells-layer")[0].getBoundingClientRect();q.setAttribute("viewBox",`0 0 ${j.x+j.width} ${j.y+j.height}`),q.getElementsByClassName("joint-grid-layer")[0].remove(),q.getElementsByClassName("joint-tools-layer")[0].remove();let te=q.getElementsByTagName("g"),le=[];for(const rt of te)rt.getAttribute("id")&&rt.getAttribute("visibility")==="hidden"&&le.push(rt.getAttribute("id"));le.push(...Array.from(q.getElementsByTagName("image")).filter(rt=>rt.getAttribute("id")).map(rt=>rt.getAttribute("id")));for(const rt of le)q.getElementById(rt)&&q.getElementById(rt).remove();let Ae=q.outerHTML;Ae=Ae.replaceAll("&nbsp;"," ");let ke=document.createElement("a");ke.setAttribute("href","data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Ae)),ke.setAttribute("download",`${r.value}.svg`),ke.click()}function pe(){let ae=l.validateModeledSystem();ae.length>0?C.value={show:!0,dialogMetaData:{dialogSize:gi.LARGE,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!1,cancelButtonText:"",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:`The following problems were detected while validating the modeled system:
            <ul>
                <li> ${ae.join(`</li>
<li>`)} </li>
            </ul>
            `,onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1}]}:C.value={show:!0,dialogMetaData:{dialogSize:gi.DEFAULT,header:{iconClass:"fa-solid fa-circle-check",svgRepresentation:"",text:"Validation passed."},footer:{showCancelButton:!1,cancelButtonText:"",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:"No problems were detected while validating the modeled system!",onCancel:()=>C.value.show=!1,actions:[function(){C.value.show=!1}]}}return(ae,q)=>(He(),Ke("div",tZ,[(He(),tl(nJ,{"system-name":r.value,key:r.value,paper:u.value,graph:a.value,selectedRequestTrace:d.value,appSettings:ae.modelingData?ae.modelingData.appSettings:Xn(zv)(),"onUpdate:systemName":o,"onUpdate:appSettings":s,"onClick:exitRequestTraceView":M,"onClick:printActivePaper":de,"onClick:exportSvg":ce,"onClick:validate":pe,"onLoad:fromJson":T,"onSave:toJson":R,"onLoad:fromTosca":F,"onSave:toTosca":g,"onRequest:reloadFromJson":q[0]||(q[0]=(G,j)=>{A(G,j,"replace")})},null,8,["system-name","paper","graph","selectedRequestTrace","appSettings"])),X("div",nZ,[X("div",{id:`entity-sidebar-${ae.pageId}`,class:"entityShapes-sidebar-container d-print-none"},[Dn(eZ,{paper:u.value,pageId:`model${ae.pageId}`,wrapperElementId:`entity-sidebar-${ae.pageId}`},null,8,["paper","pageId","wrapperElementId"])],8,iZ),X("div",rZ,[Dn(gJ,{pageId:`model${ae.pageId}`,graph:a.value,paper:u.value,"onUpdate:paper":q[1]||(q[1]=G=>u.value=G),currentElementSelection:f.value,currentRequestTraceSelection:d.value,printing:m.value,appSettings:ae.modelingData?ae.modelingData.appSettings:Xn(zv)(),"onSelect:Element":q[2]||(q[2]=G=>f.value=G),"onSelect:RequestTrace":L,"onDeselect:Element":q[3]||(q[3]=G=>f.value=null),"onDeselect:RequestTrace":M},null,8,["pageId","graph","paper","currentElementSelection","currentRequestTraceSelection","printing","appSettings"])]),Dn(KQ,{paper:u.value,graph:a.value,selectedEntity:f.value,selectedDataAggregate:b.value,selectedBackingData:x.value},null,8,["paper","graph","selectedEntity","selectedDataAggregate","selectedBackingData"])]),Dn(RC,c1(l0(C.value)),null,16)]))}}),uN="sans-serif",$C=mi.define("quamoco.QualityAspect",{defaults:{size:{width:150,height:40},fontSize:14,fill:"#cccccc",stroke:"black",strokeWidth:2},size:{width:150,height:40},attrs:{root:{title:"cna.quamoco.QualityAspect"},body:{width:"calc(w)",height:"calc(h)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"#cccccc"},label:{fill:"black",fontFamily:uN,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",x:"calc(0.5*w)",y:"calc(0.5*h)",textWrap:{text:"Quality Aspect"}}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),dN=mi.define("quamoco.ProductFactor",{defaults:{size:{width:120,height:60},fontSize:12,fill:"#cccccc",stroke:"black",strokeWidth:2},size:{width:120,height:60},attrs:{root:{title:"cna.quamoco.QualityAspect"},body:{width:"calc(w)",height:"calc(h)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white"},label:{fill:"black",fontFamily:uN,fontWeight:"Normal",fontSize:12,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",x:"calc(0.5*w)",y:"calc(0.5*h)",text:"Product Factor"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),hN=k0.define("quamoco.Impact",{attrs:{root:{title:"Link"},line:{stroke:"black",strokeDasharray:"4 4",strokeWidth:2,strokeLineJoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}}},defaultLabel:{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{label:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},body:{ref:"label",fill:"white",width:"calc(1.2*w)",height:"calc(1.2*h)",x:"calc(x-calc(0.1*w))",y:"calc(y-calc(0.1*h))"}}}}),oZ=Object.assign({quamoco:{QualityAspectElement:$C,ProductFactorElement:dN,ImpactElement:hN}},EL);var bg,_g;class sZ{constructor(t,n){Ce(this,bg,void 0);Ce(this,_g,void 0);De(this,bg,t),De(this,_g,n)}get getId(){return O(this,bg)}get getName(){return O(this,_g)}}bg=new WeakMap,_g=new WeakMap;var xg,wg,Cg;class aZ{constructor(t,n,i){Ce(this,xg,void 0);Ce(this,wg,void 0);Ce(this,Cg,void 0);De(this,xg,t),De(this,wg,n),De(this,Cg,i)}get getImpactedFactor(){return O(this,xg)}get getSourceFactor(){return O(this,wg)}get getImpactType(){return O(this,Cg)}}xg=new WeakMap,wg=new WeakMap,Cg=new WeakMap;var Tg,Sg,Eg,ou,yh;class lZ{constructor(t,n,i){Ce(this,Tg,void 0);Ce(this,Sg,void 0);Ce(this,Eg,void 0);Ce(this,ou,void 0);Ce(this,yh,void 0);De(this,Tg,t),De(this,Sg,n),De(this,Eg,i),De(this,ou,void 0),De(this,yh,[])}get getId(){return O(this,Tg)}get getName(){return O(this,Sg)}get getCalculationDescription(){return O(this,Eg)}get getSources(){return O(this,yh)}addSource(t){O(this,yh).push(t)}addCalculation(t){De(this,ou,t)}isCalculationAvailable(){return!!O(this,ou)}calculate(t){return O(this,ou).call(this,t)}}Tg=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,ou=new WeakMap,yh=new WeakMap;var vh,Ag,kg,Ig,bh,_h,su,au,lu,cu;class cZ{constructor(t,n,i,r){Ce(this,vh,void 0);Ce(this,Ag,void 0);Ce(this,kg,void 0);Ce(this,Ig,void 0);Ce(this,bh,void 0);Ce(this,_h,void 0);Ce(this,su,void 0);Ce(this,au,void 0);Ce(this,lu,void 0);Ce(this,cu,void 0);De(this,vh,t),De(this,Ag,n),De(this,kg,i),De(this,Ig,r),De(this,bh,[]),De(this,_h,[]),De(this,su,[]),De(this,au,void 0),De(this,lu,[]),De(this,cu,[]),this.getImpactedFactors=this.getImpactedFactors.bind(this),this.getImpactingFactors=this.getImpactingFactors.bind(this)}get getFactorType(){return"productFactor"}get getId(){return O(this,vh)}get getName(){return O(this,Ag)}get getDescription(){return O(this,kg)}get getCategories(){return O(this,Ig)}get getRelevantEntities(){return O(this,bh)}get getSources(){return O(this,_h)}get getMeasures(){return O(this,su)}get getOutgoingImpacts(){return O(this,lu)}get getIncomingImpacts(){return O(this,cu)}addRelevantEntity(t){O(this,bh).push(t)}addSource(t){O(this,_h).push(t)}addMeasure(t){O(this,su).push(t)}addOutgoingImpact(t){O(this,lu).push(t)}addIncomingImpact(t){O(this,cu).push(t)}addEvaluation(t){De(this,au,t)}getImpactedFactors(){return O(this,lu).map(t=>t.getImpactedFactor)}getImpactingFactors(){return O(this,cu).map(t=>t.getSourceFactor)}getMeasure(t){let n=O(this,su).find(i=>i.getId===t);if(n)return n;throw new Error(`Measure ${t} not found for product factor ${O(this,vh)}`)}isEvaluationAvailable(){return O(this,au)!==void 0}evaluate(t){return O(this,au).evaluate(t.getCalculatedMeasures,t.getEvaluatedProductFactors)}}vh=new WeakMap,Ag=new WeakMap,kg=new WeakMap,Ig=new WeakMap,bh=new WeakMap,_h=new WeakMap,su=new WeakMap,au=new WeakMap,lu=new WeakMap,cu=new WeakMap;var Pg,Og,Lg,Dg,xh,uu;class qC{constructor(t,n,i,r){Ce(this,Pg,void 0);Ce(this,Og,void 0);Ce(this,Lg,void 0);Ce(this,Dg,void 0);Ce(this,xh,void 0);Ce(this,uu,void 0);De(this,Pg,t),De(this,Og,n),De(this,Lg,i),De(this,Dg,r),De(this,uu,[])}get getFactorType(){return"qualityAspect"}get getId(){return O(this,Pg)}get getName(){return O(this,Og)}get getHighLevelAspectKey(){return O(this,Lg)}get getDescription(){return O(this,Dg)}get getIncomingImpacts(){return O(this,uu)}addIncomingImpact(t){O(this,uu).push(t)}addEvaluation(t){De(this,xh,t)}getImpactingFactors(){return O(this,uu).map(t=>t.getSourceFactor)}isEvaluationAvailable(){return O(this,xh)!==void 0}evaluate(t){return O(this,xh).evaluate(t.getEvaluatedProductFactors)}}Pg=new WeakMap,Og=new WeakMap,Lg=new WeakMap,Dg=new WeakMap,xh=new WeakMap,uu=new WeakMap;const fN={system:{name:"System",description:"The cloud-native application as a whole",relation:{type:"",target:""}},component:{name:"Component",description:"An abstract entity for representing distinguishable executable parts of the system that provide certain functionalities. It can for example be a service or a certain cloud resource. Regarding its granularity, it should, generally speaking, correspond to something that can be run as an OS process.",relation:{type:"part-of",target:"system"}},service:{name:"Service",description:"A component that implements a business functionality",relation:{type:"is-a",target:"component"}},backingService:{name:"Backing Service",description:"A component providing general functionalities needed by services, for example, messaging, logging",relation:{type:"is-a",target:"component"}},storageBackingService:{name:"Storage Backing Service",description:"An explicitly stateful component used to store business data, e.g., a database",relation:{type:"is-a",target:"component"}},endpoint:{name:"Endpoint",description:"A communication endpoint, for example a REST endpoint, message producer/listener",relation:{type:"part-of",target:"component"}},externalEndpoint:{name:"External Endpoint",description:"An endpoint which is explicitly publicly available",relation:{type:"is-a",target:"endpoint"}},link:{name:"Link",description:"A directed potential connection between a specific component and a specific endpoint of a different component. Potential in this case refers to the design time perspective, meaning that a component is implemented so that it can invoke the respective endpoint.",relation:{type:"part-of",target:"system"}},infrastructure:{name:"Infrastructure",description:"The technical foundation where components are deployed, e.g., a container orchestration system",relation:{type:"part-of",target:"system"}},deploymentMapping:{name:"Deployment Mapping",description:"A connection between a component or infrastructure and its underlying infrastructure on which that component or infrastructure is deployed.",relation:{type:"part-of",target:"system"}},requestTrace:{name:"Request Trace",description:"The whole resulting trace of a service invocation from the outside that means when an external endpoint is invoked. A request trace includes a collection of components and links",relation:{type:"part-of",target:"system"}},dataAggregate:{name:"Data Aggregate",description:"An aggregate which needs to be persisted and is used by services, e.g., Business objects",relation:{type:"part-of",target:"system"}},backingData:{name:"Backing Data",description:"Non-business data, e.g., config values, secrets, logs, metrics",relation:{type:"part-of",target:"system"}}},Fc={qualityAspects:{security:{name:"Security",aspects:{confidentiality:{name:"Confidentiality",description:"Confidentiality describes to what extent data processed in a system is only accessible to those who actually need it and is otherwise protected from illegitimate access."},integrity:{name:"Integrity",description:"Integrity describes how well a system is able to prevent unauthorized access or manipulation of functions and data."},nonrepudiation:{name:"Non-repudiation",description:"Non-repudiation describes to what extent it is possible to prove and reconstruct which actions have taken place in a system."},accountability:{name:"Accountability",description:"Accountability describes to what extent it is possible in a system to trace back actions that have taken place back to the subject that performed them."},authenticity:{name:"Authenticity",description:"Authenticity describes how well a system is able to identify a subject and validate its identity as well as claims made by a subject."}}},maintainability:{name:"Maintainability",aspects:{modularity:{name:"Modularity",description:"Modularity describes how well a system is composed of different components, so that a change in one component has a minimal impact on other components."},reusability:{name:"Reusability",description:"Reusability describes to what extent parts of a system can be used in more than one system."},analyzability:{name:"Analyzability",description:"Analyzability describes to what extent it is possible to accurately assess the impact of an intended change as well as the extent to which failures can be diagnosed to find their cause or parts that need to be changed can be identified."},modifiability:{name:"Modifiability",description:"Modifiability describes how well a system can be modified without introducing defects or degrading other qualities of the system."},testability:{name:"Testability",description:"Testability describes how effective test criteria can be defined and used for a system are to check the intended behavior of a system as well as how facile it is to perform the tests to determine whether the test criteria are met."},simplicity:{name:"Simplicity",description:"Simplicity describes how well a system is composed of as few components as possible and includes simple instead of complex interrelations to enable a good overview and understanding of the system."}}},performanceEfficiency:{name:"Performance efficiency",aspects:{timeBehaviour:{name:"Time-behaviour",description:"Time-behaviour describes how well a system performs in terms of processing and response times as well as the throughput rate when performing its functions."},resourceUtilization:{name:"Resource utilization",description:"Resource utilization describes to what extent resources are available and used as required by a system when performing its functions, in terms of storage space needed, CPU utilization, memory usage, or network usage."},capability:{name:"Capability",description:"Capability describes to which extent the maximum limits of a system meet its requirements, in terms of workload sizes or number of concurrent users."},elasticity:{name:"Elasticity",description:"Elasticity describes the rapidness and accurateness with which a system is able to adjust its allocated resources to the currently required amount without over- or under-allocation."}}},portability:{name:"Portability",aspects:{adaptability:{name:"Adaptability",description:"Adaptability describes how well and how easy a system can be adapted to be executed on different or evolving software, platforms, environments, or hardware."},installability:{name:"Installability",description:"Installability describes how well a system can be installed or uninstalled completely and correctly in a specific environment."},replaceability:{name:"Replaceability",description:"Replaceability describes how well a component or system can replace another component or system for the same purpose in the same environment."}}},reliability:{name:"Reliability",aspects:{availability:{name:"Availability",description:"Availability describes to what extent a system is operational and accessible at any point in time when it is needed."},faultTolerance:{name:"Fault tolerance",description:"Fault tolerance describes how well a system is able to operate even when facing software or hardware faults."},recoverability:{name:"Recoverability",description:"Recoverability describes how well a system is able to recover and return to the intended state after an interruption or failure."},maturity:{name:"Maturity",description:"Maturity describes to what extent a system meets the specified needs for reliability in normal, expected circumstances."}}},compatibility:{name:"Compatibility",aspects:{coExistence:{name:"Co-existence",description:"Co-existence describes how well a system can operate and perform its functions while sharing an environment and resources with other systems and without negatively impacting those other systems."},interoperability:{name:"Interoperability",description:"Interoperability describes how well two parts of a system or two systems are able to exchange information and to process such exchanged information."}}}},factorCategories:{cloudInfrastructure:{name:"Cloud Infrastructure"},networkCommunication:{name:"Network Communication"},applicationAdministration:{name:"Application Administration"},dataManagement:{name:"Data Management"},businessDomain:{name:"Business Domain"}},productFactors:{dataEncryptionInTransit:{name:"Data encryption in transit",description:"Data which is sent or received through a link from one component to or from an endpoint of another component is encrypted so that even when an attacker has access to the network layer, the data is protected.",categories:["networkCommunication"],relevantEntities:["link","endpoint"],sources:[{key:"Scholl2019",section:"6 Encrypt Data in Transit"},{key:"Indrasiri2021",section:"2 Security (Use TLS for synchronous communications)"}],measures:["ratioOfEndpointsSupportingSsl","ratioOfSecuredLinks"]},secretsManagement:{name:"Secrets management",description:"Secrets (e.g. passwords, access tokens, encryption keys) which allow access to other components or data are managed specifically to make sure they stay confidential and only authorized components or persons can access them. Managed in this case refers to where and how secrets are stored and how components which need them can access them.",categories:["applicationAdministration","cloudInfrastructure","dataManagement"],relevantEntities:["component"],sources:[],measures:[]},isolatedSecrets:{name:"Isolated secrets",description:"Secrets (e.g. passwords, access tokens, encryption keys) are not stored in component artifacts (e.g. binaries, images). Instead, secrets are stored for example in the deployment environment and components are given access at runtime only to those secrets which they actually need and only when they need it.",categories:["applicationAdministration"],relevantEntities:["component","backingData"],sources:[{key:"Scholl2019",section:"6 Never Store Secrets or Configuration Inside an Image"},{key:"Adkins2019",section:"14 Don't Check In Secrets"}],measures:[]},secretsStoredInSpecializedServices:{name:"Secrets stored in specialized services",description:"A dedicated backing service to host secrets (e.g. passwords, access tokens, encryption keys) exists. All secrets required by a system are hosted in this backing service where they can also be managed (for example they can be revoked or replaced with updated secrets). Components fetch secrets from this backing services in a controlled way when they need them.",categories:["cloudInfrastructure","dataManagement"],relevantEntities:["service","backingService","backingData"],sources:[{key:"Scholl2019",section:"6 Securely Store All Secrets"},{key:"Arundel2019",section:"10 Kubernetes Secrets"}],measures:[]},accessRestriction:{name:"Access restriction",description:"Access to components is restricted to those who actually need it. Also, within a system access controls are put in place to have multiple layers of defense. A dedicated component to manage access policies can be used.",categories:["networkCommunication","applicationAdministration"],relevantEntities:["component","endpoint"],sources:[],measures:[]},leastPrivilegedAccess:{name:"Least-privileged access",description:"Access to endpoints is given as restrictive as possible so that only components who really need it can access an endpoint.",categories:["networkCommunication","applicationAdministration"],relevantEntities:["component","endpoint"],sources:[{key:"Scholl2019",section:"6 Grant Least-Privileged Access"},{key:"Arundel2019",section:"11 Access Control and Permissions"}],measures:[]},accessControlManagementConsistency:{name:"Access control management consistency",description:"Access control for endpoints is managed in a consistent way, that means for example always the same format is used for access control lists or a single account directory in a dedicated backing service exists for all components. Access control configurations can then be made always in the same known style and only in a dedicated place. Based on such a consistent access control configuration, also verifications can be performed to ensure that access restrictions are implemented correctly.",categories:["applicationAdministration","networkCommunication"],relevantEntities:["component"],sources:[{key:"Adkins2019",section:"6 Access Control (Access control managed by framework)"},{key:"Goniwada2021",section:"9 Policy as Code (consistently describe your security policies in form of code)"}],measures:["ratioOfEndpointsThatSupportTokenBasedAuthentication","ratioOfEndpointsThatSupportApiKeys","ratioOfEndpointsThatSupportPlaintextAuthentication","ratioOfEndpointsThatAreIncludedInASingleSignOnApproach"]},accountSeparation:{name:"Account separation",description:"Components are separated by assigning them different accounts. Ideally each component has an individual account. Through this, it is possible to trace which component performed which actions and it is possible to restrict access to other components on a fine-grained level, so that for example in the case of an attack, compromised components can be isolated based on their account.",categories:["applicationAdministration","businessDomain"],relevantEntities:["component"],sources:[{key:"Scholl2019",section:"6 Use Separate Accounts/Subscriptions/Tenants”"},{key:"Adkins2019",section:"8 Role separation”(let different services run with different roles to restrict access)"},{key:"Adkins2019",section:"8 “Location separation (use different roles for a service in different locations to limit attack impacts)"}],measures:[]},authenticationDelegation:{name:"Authentication delegation",description:"The verification of an entity for authenticity, for example upon a request, is delegated to a dedicated backing service. This concern is therefore removed from individual components so that their focus can remain on business functionalities while for example different authentication options can be managed in one place only.",categories:["applicationAdministration","businessDomain"],relevantEntities:["system","backingService"],sources:[{key:"Scholl2019",section:"6 Use Federated Identity Management"},{key:"Goniwada2021",section:"9 Decentralized Identity"}],measures:[]},serviceOrientation:{name:"Service-orientation",description:"Cloud-native applications realize modularity by being service-oriented, that means the system is decomposed into services encapsulating specific functionalities and communicating with each other only through specific interfaces. Commonly, a microservices architectural style is used.",categories:["businessDomain","dataManagement","networkCommunication"],relevantEntities:["system","service"],sources:[],measures:[]},limitedFunctionalScope:{name:"Limited functional scope",description:"Each service covers only a limited, but cohesive functional scope to keep services manageable.",categories:["businessDomain","dataManagement"],relevantEntities:["service","endpoint"],sources:[{key:"Reznik2019",section:"9 Microservices Architecture"},{key:"Adkins2019",section:"7 Use Microservices"},{key:"Goniwada2021",section:"3 Polylithic Architecture Principle (Build separate services for different business functionalitites) "}],measures:["totalServiceInterfaceCohesion","covesivenessOfService","cohesionOfAServiceBasedOnOtherEndpointsCalled","lackOfCohesion","averageLackOfCohesion","serviceSize","unreachableEndpointCount"]},limitedDataScope:{name:"Limited data scope",description:"The number of data aggregates that are processed in a service is limited to those which need to be administrated together, for example to fulfill data consistency requirements. The aim is to keep the functional scope of a service cohesive. Data aggregates for which consistency requirements can be relaxed might be distributed over separate services.",categories:["businessDomain","dataManagement"],relevantEntities:["service","dataAggregate"],sources:[],measures:["dataAggregateScope","serviceInterfaceDataCohesion","cohesionBetweenEndpointsBasedOnDataAggregateUsage","resourceCount"]},limitedEndpointScope:{name:"Limited endpoint scope",description:"To keep the functional scope of services limited, the number of endpoints of a service is limited to a cohesive set of endpoints that provide related operations.",categories:["businessDomain"],relevantEntities:["service","endpoint"],sources:[],measures:["numberOfProvidedSynchronousAndAsynchronousEndpoints","numberOfSynchronousEndpointsOfferedByAService","serviceInterfaceUsageCohesion","distributionOfSynchronousCalls","cohesionOfEndpointsBasedOnInvocationByOtherServices","unusedResourceCount"]},commandQueryResponsibilitySegregation:{name:"Command Query Responsibility Segregation",description:"Endpoints for read (query) and write (command) operations on the same data aggregate are separated into different services. Changes to these operations can then be made independently and also different representations for data aggregates can be used. That way operations on data aggregates can be adjusted to differing usage patterns, different format requirements, or if they are changed for different reasons.",categories:["networkCommunication","businessDomain"],relevantEntities:["service","endpoint"],sources:[{key:"Davis2019",section:"4.4"},{key:"Richardson2019",section:"7.2 Using the CQRS pattern"},{key:"Bastani2017",section:"12 CQRS (Command Query Responsibility Segregation)"},{key:"Indrasiri2021",section:"4 Command and Query Responsibility Segregation Pattern"},{key:"Goniwada2021",section:"4 Command and Query Responsibility Segregation Pattern"}],measures:["numberOfReadEndpointsProvidedByAService","numberOfWriteEndpointsProvidedByAService"]},separationByGateways:{name:"Separation by gateways",description:"Individual components or groups of components are separated through gateways. That means communication is proxied and controlled at specific gateway components. It also abstracts one part of a system from another so that it can be reused by different components without needing direct links to components that actually provide the needed functionality. This way, communication can also be redirected when component endpoints change without changing the gateway endpoint. Also incoming communication from outside of a system can be directed at external endpoints of a central component (the gateway).",categories:["networkCommunication","businessDomain"],relevantEntities:["system","component","endpoint"],sources:[{key:"Davis2019",section:"10.2"},{key:"Richardson2019",section:"8.2"},{key:"Bastani2017",section:"8 Edge Services: Filtering and Proxying with Netflix Zuul"},{key:"Indrasiri2021",section:"7 API Gateway Pattern"},{key:"Indrasiri2021",section:"7 API Microgateway Pattern (Smaller API microgateways to avoid having a monolithic API gateway)"},{key:"Goniwada2021",section:"4 “Mediator” (Use a mediator pattern between clients and servers)"}],measures:["externallyAvailableEndpoints","centralizationOfExternallyAvailableEndpoints","apiCompositionUtilizationMetric","ratioOfRequestTracesThroughGateway"]},isolatedState:{name:"Isolated state",description:"Services are structured by clearly separating stateless from stateful services. Stateful services should be reduced to a minimum. That way, state is isolated within these specifically stateful services which can be managed accordingly. The majority of stateless services is easier to deploy and modify.",categories:["dataManagement","businessDomain"],relevantEntities:["system","component","storageBackingService"],sources:[{key:"Goniwada2021",section:"3 Coupling (Services should be as loosely coupled as possible)"}],measures:[]},mostlyStatelessServices:{name:"Mostly stateless services",description:"Most services in a system are kept stateless, that means not requiring durable disk space on the infrastructure that they run on. Stateless services can be replaced, updated or replicated at any time. Stateful services are reduced to a minimum.",categories:["dataManagement","businessDomain"],relevantEntities:["component"],sources:[{key:"Davis2019",section:"5.4"},{key:"Scholl2019",section:"6 “Design Stateless Services That Scale Out"},{key:"Goniwada2021",section:"3 Be Smart with State Principle, 5 Stateless Services"}],measures:["ratioOfStateDependencyOfEndpoints","ratioOfStatefulComponents","ratioOfStatelessComponents","degreeToWhichComponentsAreLinkedToStatefulComponents"]},specializedStatefulServices:{name:"Specialized stateful services",description:"For stateful components, that means components that do require durable disk space on the infrastructure that they run on, specialized software or frameworks are used that can handle distributed state by replicating it over several components or component instances while still ensuring consistency requirements for that state.",categories:["dataManagement","businessDomain"],relevantEntities:["component","storageBackingService"],sources:[{key:"Davis2019",section:"5.4"},{key:"Ibryam2020",section:"11 “Stateful Service”"}],measures:[]},looseCoupling:{name:"Loose coupling",description:"In cloud-native applications communication between components is loosely coupled in time, location, and language to achieve greater independence.",categories:["businessDomain","networkCommunication"],relevantEntities:["system","component","link"],sources:[],measures:[]},asynchronousCommunication:{name:"Asynchronous communication",description:"Asynchronous links (e.g. based on messaging backing services) are preferred for the communication between components. That way, components are decoupled in time meaning that not all linked components need to be available at the same time for a successful communication. Additionally, callers do not await a response.",categories:["networkCommunication","businessDomain"],relevantEntities:["link"],sources:[{key:"Davis2019",section:"4.2"},{key:"Scholl2019",section:"6 Prefer Asynchronous Communication"},{key:"Richardson2019",section:"3.3.2, 3.4 Using asynchronous messaging to improve availability"},{key:"Indrasiri2021",section:"3 Service Choreography Pattern"},{key:"Ruecker2021",section:"9 Asynchronous Request/Response (Use asynchronous communication to make services more robust)"},{key:"Goniwada2021",section:"4 Asynchronous Nonblocking I/O"}],measures:["numberOfAsynchronousEndpointsOfferedByAService","numberOfSynchronousOutgoingLinks","numberOfAsynchronousOutgoingLinks","ratioOfAsynchronousOutgoingLinks","degreeOfAsynchronousCommunication","asynchronousCommunicationUtilization"]},communicationPartnerAbstraction:{name:"Communication partner abstraction",description:"Communication via links is not based on specific communication partners (specific components) but abstracted based on the content of communication. An example is event-driven communication where events are published to channels without the publisher knowing which components receive events and events can therefore also be received by components which are created later in time.",categories:["networkCommunication"],relevantEntities:["link","backingService"],sources:[{key:"Richardson2019",section:"6 Event-driven communication"},{key:"Ruecker2021",section:"8: Event-driven systems “event chains emerge over time and therefore lack visibility."}],measures:["serviceInteractionWithEventSourcingUtilizationMetric"]},persistentCommunication:{name:"Persistent communication",description:"Links persist messages which have been sent (e.g. based on messaging backing services). That way, components are decoupled, because components need not yet exist at the time a message is sent, but can still receive a message. Communication can also be repeated, because persisted messages can be retrieved again.",categories:["networkCommunication"],relevantEntities:["link"],sources:[{key:"Indrasiri2021",section:"5 Event Sourcing Pattern: Log-based message brokers"}],measures:["serviceLinkPersistenceUtilizationMetric","outboxEventSourcingUtilizationMetric"]},usageOfExistingSolutionsForNonCoreCapabilities:{name:"Usage of existing solutions for non-core capabilities",description:"For non-core capabilities readily available solutions are used. This means solutions which are based on a standard or a specification, are widely adopted and ideally open source so that their well-functioning is ensured by a broader community. Non-core capabilities include interface technologies or protocols for endpoints, infrastructure technologies (for example container orchestration engines), and software for backing services. That way capabilities don't need to self-implemented and existing integration options can be used.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["component","backingService"],sources:[{key:"Reznik2019",section:"9 Avoid Reinventing the Wheel"},{key:"Adkins2019",section:"12 Frameworks to Enforce Security and Reliability"}],measures:[]},standardization:{name:"Standardization",description:"By using standardized technologies within components, for interfaces, and especially for the infrastructure, backing services and other non-business concerns, reusability can be increased and the effort to develop additional functionality which integrates with existing components can be reduced.",categories:["applicationAdministration"],relevantEntities:["system","component","link"],sources:[],measures:[]},componentSimilarity:{name:"Component similarity",description:"The more similar components are, the easier it is for developers to work on an unfamiliar component. Furthermore, similar components can be more easily integrated and maintained in the same way. Similarity considers mainly the libraries and technologies used for implementing service logic and service endpoints, as well as their deployment.",categories:["applicationAdministration"],relevantEntities:["component"],sources:[{key:"Reznik2019",section:"9 Reference Architecture"}],measures:[]},automatedMonitoring:{name:"Automated Monitoring",description:"Cloud-native applications enable monitoring at various levels (business functionalities in services, backing-service functionalities, infrastructure) in an automated fashion to enable observable and autonomous reactions to changing system conditions.",categories:["applicationAdministration","businessDomain","networkCommunication","dataManagement"],relevantEntities:["service","link","infrastructure"],sources:[{key:"Goniwada2021",section:"3 High Observability Principle"}],measures:["ratioOfInfrastructureNodesThatSupportMonitoring","ratioOfComponentsThatSupportMonitoring"]},consistentCentralizedLogging:{name:"Consistent centralized logging",description:"Logging functionality, specifically the automated collection of logs, is concentrated in a centralized backing service which combines and stores logs from the components of a system. The logs are kept consistent regarding their format and level of granularity. In the backing service also log analysis functionalities are provided, for example by also enabling a correlation of logs from different components.",categories:["applicationAdministration","dataManagement"],relevantEntities:["service","backingService"],sources:[{key:"Davis2019",section:"11.1"},{key:"Scholl2019",section:"6 Use a Unified Logging System"},{key:"Scholl2019",section:"6 Common and Structured Logging Format"},{key:"Richardson2019",section:"11.3.2 Applying the Log aggregation pattern"},{key:"Reznik2019",section:"10 Observability"},{key:"Garrison2017",section:"7 Monitoring and Logging"},{key:"Adkins2019",section:"15 Design your logging to be immutable"},{key:"Arundel2019",section:"15 Logging"},{key:"Winn2017",section:"2 Aggregated Streaming of Logs and Metrics"},{key:"Bastani2017",section:"13 Application Logging"},{key:"Bastani2017",section:"13 Audit Events (capture events for audits, like failed logins etc)"},{key:"Ruecker2021",section:"11 Custom Centralized Monitoring"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService"]},consistentCentralizedMetrics:{name:"Consistent centralized metrics",description:"Metrics gathering and calculation functionality for monitoring purposes is concentrated in a centralized component which combines, aggregates and stores metrics from the components of a system. The metrics are kept consistent regarding their format and support multiple levels of granularity. In the backing service also metric analysis functionalities are provided, for example by also enabling correlations of metrics.",categories:["applicationAdministration","businessDomain"],relevantEntities:["service","backingService"],sources:[{key:"Davis2019",section:"11.2"},{key:"Scholl2019",section:"6 Tag Your Metrics Appropriately"},{key:"Richardson2019",section:"11.3.4 Applying the Applications metrics pattern"},{key:"Garrison2017",section:"7 Monitoring and Logging, Metrics Aggregation"},{key:"Reznik2019",section:"10 Observability"},{key:"Arundel2019",section:"15 Metrics help predict problems"},{key:"Winn2017",section:"2 Aggregated Streaming of Logs and Metrics"},{key:"Arundel2019",section:"15 Logging"},{key:"Winn2017",section:"2 Aggregated Streaming of Logs and Metrics"},{key:"Bastani2017",section:"13 Metrics"},{key:"Arundel2019",section:"16 The RED Pattern (common metrics you should have for services"},{key:"Arundel2019",section:"16 The USE Pattern (common metrics for resources"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["ratioOfComponentsOrInfrastructureNodesThatExportMetrics","ratioOfComponentsOrInfrastructureNodesThatEnablePerformanceAnalytics"]},distributedTracingOfInvocations:{name:"Distributed tracing of invocations",description:"For request traces that span multiple components in a system, distributed tracing is enabled so that traces based on correlation IDs are captured automatically and stored in a backing service where they can be analyzed and problems within request traces can be clearly attributed to single components.",categories:["applicationAdministration","networkCommunication"],relevantEntities:["service","link","requestTrace"],sources:[{key:"Davis2019",section:"11.3"},{key:"Scholl2019",section:"6 Use Correlation IDs"},{key:"Richardson2019",section:"11.3.3 AUsing the Distributed tracing pattern"},{key:"Garrison2017",section:"7 Debugging and Tracing"},{key:"Reznik2019",section:"10 Observability"},{key:"Arundel2019",section:"15 Tracing"},{key:"Bastani2017",section:"13 Distributed Tracing"},{key:"Ruecker2021",section:"11 Observability and Distributed Tracing Tools (Use Distributed Tracing)"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["distributedTracingSupport"]},healthAndReadinessChecks:{name:"Health and readiness Checks",description:"All components in a system offer health and readiness checks so that unhealthy components can be identified and communication can be restricted to happen only between healthy and ready components. Health and readiness checks can for example be dedicated endpoints of components which can be called regularly to check a component. That way, also an up-to-date holistic overview of the health of a system is enabled.",categories:["applicationAdministration"],relevantEntities:["service"],sources:[{key:"Scholl2019",section:"6 Implement Health Checks and Readiness Checks"},{key:"Ibryam2020",section:"4 Health Probe"},{key:"Richardson2019",section:"11.3.1 Using the Health check API pattern"},{key:"Garrison2017",section:"7 State Management"},{key:"Arundel2019",section:"5 Liveness Probes"},{key:"Arundel2019",section:"5 Readiness Probes"},{key:"Bastani2017",section:"13 Health Checks"},{key:"Indrasiri2021",section:"1 Why container orchestration?, Health monitoring"},{key:"Goniwada2021",section:"4 Fail Fast, 16 Health Probe"}],measures:["ratioOfServicesThatProvideHealthEndpoints"]},automatedInfrastructureProvisioning:{name:"Automated infrastructure provisioning",description:"Infrastructure provisioning should be automated based on component requirements which are either stated explicitly or inferred from the component which should be deployed. The infrastructure and tools used should require only minimal manual effort. Ideally it should be combined with continuous delivery processes so that no further interaction is needed for a component deployment.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["infrastructure"],sources:[{key:"Reznik2019",section:"10 Automated Infrastructure"},{key:"Goniwada2021",section:"5 Automation"}],measures:[]},useInfrastructureAsCode:{name:"Use infrastructure as code",description:"The infrastructure requirements and constraints of a system are defined (coded) independently of the actual runtime in a storable format. That way a defined infrastructure can be automatically provisioned repeatedly and ideally also on different underlying infrastructures (cloud providers) based on the stored infrastructure definition. Infrastructure provisioning and configuration operations are not performed manually via an interface of a cloud provider.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["infrastructure"],sources:[{key:"Scholl2019",section:"6 Describe Infrastructure Using Code"},{key:"Goniwada2021",section:"16 Declarative Deployment, 17 What Is Infrastructure as Code?"}],measures:["linesOfCodeForDeploymentConfiguration"]},dynamicScheduling:{name:"Dynamic scheduling",description:"Resource provisioning to deployed components is dynamic and automated so that every component is ensured to have the resources it needs and only that many resources are provisioned wich are really needed at the same time. This requires dynamic adjustments to resources to adapt to changing environments. This capability should be part of the used infrastructure.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["infrastructure"],sources:[{key:"Reznik2019",section:"10 Dynamic Scheduling"},{key:"Garrison2017",section:"7 Resource Allocation and Scheduling"},{key:"Ibryam2020",section:"6 Automated Placement"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Resource Management"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Automatic provisioning"},{key:"Goniwada2021",section:"16 Automated Placement"}],measures:[]},serviceIndependence:{name:"Service independence",description:"Services are as independent as possible throughout their lifecycle, that means development, operation, and evolution. Changes to one service have a minimum impact on other services.",categories:["businessDomain","networkCommunication","cloudInfrastructure","applicationAdministration","dataManagement"],relevantEntities:["service","link"],sources:[{key:"Goniwada2021",section:"3 Decentralize Everything Principle (Decentralize deployment, governance)"}],measures:[]},lowCoupling:{name:"Low coupling",description:"The coupling in a system is low in terms of links between components. Each link represents a dependency and therefore decreases service independence.",categories:["businessDomain"],relevantEntities:["service","link"],sources:[],measures:["numberOfLinksPerComponent","numberOfConsumedEndpoints","incomingOutgoingRatioOfAComponent","ratioOfOutgoingLinksOfAService","couplingDegreeBasedOnPotentialCoupling","interactionDensityInTheSystem","interactionDensityOfASystem","indirectInteractionDensityOfASystem","serviceCouplingBasedOnEndpointEntropy","systemCouplingBasedOnEndpointEntropy","modularityQualityBasedOnCohesionAndCoupling","combinedMetricForIndirectDependency","servicesInterdependenceInTheSystem","indirectInteractionDensityOfASystem","averageNumberOfDirectlyConnectedServices","numberOfComponentsThatAreLinkedToAComponent","numberOfComponentsAComponentIsLinkedTo","numberOfLinksBetweenTwoServices","aggregateSystemMetricToMeasureServiceCoupling","numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents","degreeOfCouplingInASystem","serviceCouplingBasedOnDataExchangeComplexity","simpleDegreeOfCouplingInASystem","directServiceSharing","transitivelySharedServices","ratioOfSharedNonExternalComponentsToNonExternalComponents","ratioOfSharedDependenciesOfNonExternalComponentsToPossibleDependencies","degreeOfDependenceOnOtherComponents","averageSystemCoupling","couplingOfServicesBasedOnUsedDataAggregates","couplingOfServicesBasedServicesWhichCallThem","couplingOfServicesBasedServicesWhichAreCalledByThem","couplingOfServicesBasedOnAmountOfRequestTracesThatIncludeASpecificLink","couplingOfServicesBasedTimesThatTheyOccurInTheSameRequestTrace"]},functionalDecentralization:{name:"Functional decentralization",description:"Business functionality is decentralized over the system as a whole to separate unrelated functionalities from each other and make components more independent.",categories:["businessDomain"],relevantEntities:["system","service","link"],sources:[],measures:["conceptualModularityQualityBasedOnDataAggregateCohesionAndCoupling","cyclicCommunication","numberOfSynchronousCycles","relativeImportanceOfTheService","extentOfAggregationComponents","systemCentralization","densityOfAggregation","aggregatorCentralization","dataAggregateConvergenceAcrossComponents","serviceCriticality","ratioOfCyclicRequestTraces","numberOfPotentialCyclesInASystem"]},limitedRequestTraceScope:{name:"Limited request trace scope",description:"A request that requires the collaboration of several services is still limited to as few services as possible. Otherwise, the more services are part of a request trace the more dependent they are on each other.",categories:["businessDomain","networkCommunication"],relevantEntities:["requestTrace"],sources:[],measures:["maximumLengthOfServiceLinkChainPerRequestTrace","maximumNumberOfServicesWithinARequestTrace","serviceCompositionScope","requestTraceLength","numberOfCyclesInRequestTraces"]},logicalGrouping:{name:"Logical grouping",description:"Services are logically grouped so that services which are related (for example by having many links or processing the same data aggregates) are in the same group, but services which are more independent are separated in different groups. That way a separation can also be achieved on the network and infrastructure level by separating service groups more strictly, such as having different subnets for such logical groups or not letting different groups run on the same infrastructure. Potential impacts of a compromised or misbehaving service can therefore be reduced to the group to which it belongs but other groups are ideally unaffected.",categories:["cloudInfrastructure","applicationAdministration","businessDomain"],relevantEntities:["system","service"],sources:[{key:"Scholl2019",section:"6 Use Namespaces to Organize Services in Kubernetes"},{key:"Arundel2019",section:"5 Using Namespaces"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Componentization and isolation"}],measures:[]},backingServiceDecentralization:{name:"Backing service decentralization",description:"Different backing services are assigned to different components. That way, a decentralization is achieved. For example, instead of one message broker for a whole system, several message brokers can be used, each for a group of components that are interrelated. A problem in one messaging broker has an impact on only those components using it, but not on components having separate message brokers.",categories:["applicationAdministration","cloudInfrastructure","dataManagement"],relevantEntities:["service","backingService"],sources:[{key:"Indrasiri2021",section:"4 Decentralized Data Management (decentralized data leads to higher service independence while centralized data leads to higher consistency.)"},{key:"Indrasiri2021",section:"4 Data Service Pattern (As having a negative impact because multiple services should not access the same data);"},{key:"Ruecker2021",section:"2 Different Workflow Engines for different services"},{key:"Goniwada2021",section:"5 Distributed State, Decentralized Data"}],measures:["degreeOfStorageBackendSharing","ratioOfStorageBackendSharing","sharedStorageBackingServiceInteractions","databaseTypeUtilization","numberOfServiceConnectedToStorageBackingService"]},addressingAbstraction:{name:"Addressing abstraction",description:"In a link from one component to another the specific addresses for reaching the other component is not used, but instead an abstract address is used. That way, the specific addresses of components can be changed without impacting the link between components. This can be achieved for example through service discovery where components are addressed through abstract service names and specific addresses are resolved through service discovery which can be implemented in the infrastructure or a backing service.",categories:["networkCommunication"],relevantEntities:["link","backingService"],sources:[{key:"Davis2019",section:"8.3"},{key:"Ibryam2020",section:"12 Service Discovery"},{key:"Richardson2019",section:"Using service discovery"},{key:"Garrison2017",section:"7 Service Discovery"},{key:"Indrasiri2021",section:"3 Service Registry and Discovery Pattern"},{key:"Bastani2017",section:"7 Routing (Use service discovery with support for health checks and respect varying workloads)"},{key:"Indrasiri2021",section:"3 Service Abstraction Pattern (Use an abstraction layer in front of services (for example Kubernetes Service))"},{key:"Goniwada2021",section:"4 Service Discovery"}],measures:["serviceDiscoveryUsage"]},sparsity:{name:"Sparsity",description:"The more sparse a system is, the less components there are which need to be operated and maintained by the developers of a system. This covers all types of components, such as services, backing services, storage backing services, and also the infrastructure.",categories:["applicationAdministration","businessDomain"],relevantEntities:["system","component","infrastructure"],sources:[],measures:["averageNumberOfEndpointsPerService","numberOfDependencies","numberOfVersionsPerService","concurrentlyAvailableVersionsComplexity","serviceSupportForTransactions","dataModelScope","numberOfComponents"]},operationOutsourcing:{name:"Operation outsourcing",description:"By outsourcing the operation of infrastructure and components to a cloud provider or other vendor, the operation is simplified because responsibility is transferred. Furthermore, costs can be made more flexible because providers and vendors can provide a usage-based pricing.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["backingService","infrastructure"],sources:[],measures:["ratioOfProviderManagedComponentsAndInfrastructure"]},managedInfrastructure:{name:"Managed infrastructure",description:"Infrastructure such as basic computing, storage or network resources, but potentially also software infrastructure (for example a container orchestration engine) is managed by a cloud provider who is responsible for a stable functioning and up-to-date functionalities. The more infrastructure is managed, the more operational responsibility is transferred. This will also be reflected in the costs which are then calculated more on usage-based pricing schemes.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["infrastructure"],sources:[],measures:[]},managedBackingServices:{name:"Managed backing services",description:"Backing services that provide non-business functionality are operated and managed by vendors who are responsible for a stable functioning and up-to-date functionalities. Operational responsibility is transferred which is also reflected in the costs which are then calculated more on usage-based pricing schemes.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["backingService"],sources:[{key:"Scholl2019",section:"6 Use Managed Databases and Analytics Services"},{key:"Arundel2019",section:"15 Don't build your own monitoring infrastructure (Use an external monitoring service)"},{key:"Bastani2017",section:"10 managed and automated messaging system (operating your own messaging system increases operational overhead, better use a system managed by a platform)"}],measures:[]},replication:{name:"Replication",description:"Business logic and needed data is replicated at various points in a system so that latencies can be minimized and requests can be distributed for fast request handling.",categories:["applicationAdministration","dataManagement","cloudInfrastructure"],relevantEntities:["system","component"],sources:[],measures:[]},serviceReplication:{name:"Service replication",description:"Services and therefore their provided functionalities are replicated across different locations so that the latency for accesses from different locations is minimized and the incoming load can be distributed among replicas.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["service"],sources:[],measures:["amountOfRedundancy","serviceReplicationLevel"]},horizontalDataReplication:{name:"Horizontal data replication",description:"Data is replicated horizontally, that means duplicated across several instances of a storage backing service so that a higher load can be handled and replicas closer to the service where data is needed can be used to reduce latency.",categories:["applicationAdministration","dataManagement"],relevantEntities:["storageBackingService","dataAggregate"],sources:[{key:"Scholl2019",section:"6 Use Data Partitioning and Replication for Scale"},{key:"Goniwada2021",section:"4 Data Replication"}],measures:["storageReplicationLevel"]},verticalDataReplication:{name:"Vertical data replication",description:"Data is replicated vertically, that means across a request trace so that it is available closer to where a request initially comes in. Typically caching is used for vertical data replication.",categories:["applicationAdministration","dataManagement"],relevantEntities:["service","dataAggregate"],sources:[{key:"Scholl2019",section:"6 Use Caching"},{key:"Bastani2017",section:"9 Caching (Use an In-Memory cache for queries to relieve datastore from traffic; replication into faster data storage)"},{key:"Indrasiri2021",section:"4 Caching Pattern"}],measures:[]},shardedDataStoreReplication:{name:"Sharded data store replication",description:"Data storage is sharded, that means data is split into several storage backing service instances by a certain strategy so that requests can be distributed across shards to increase performance. One example strategy could be to shard data geographically, that means user data from one location is stored in one shard while user data from another location is stored in a different shard. One storage backing service instance is then less likely to be overloaded with requests, because the number of potential requests is limited by the amount of data in that instance.",categories:["applicationAdministration","dataManagement"],relevantEntities:["storageBackingService","dataAggregate"],sources:[{key:"Indrasiri2014",section:"4 Data Sharding Pattern"},{key:"Goniwada2021",section:"4 Data Partitioning Pattern"}],measures:["dataShardingLevel"]},enforcementOfAppropriateResourceBoundaries:{name:"Enforcement of appropriate resource boundaries",description:"The resources required by a component are predictable as precisely as possible and specified accordingly for each component in terms of lower and upper boundaries. Resources include CPU, memory, GPU, or Network requirements. This information is used by the infrastructure to enforce these resource boundaries. Thereby it is ensured that a component has the resources available that it needs to function properly, that the infrastructure can optimize the amount of allocated resource, and that components are not negatively impacted by defective components which excessively consume resources.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["component"],sources:[{key:"Scholl2019",section:"6 Define CPU and Memory Limits for Your Containers"},{key:"Arundel2019",section:"5 Resource Limits"},{key:"Ibryam2020",section:"2 Defined Resource requirements"},{key:"Arundel2019",section:"5 Resource Quotas (limit maximum resources for a namespace)"},{key:"Goniwada2021",section:"3 Runtime Confinement Principle, 6 Predictable Demands"}],measures:[]},"built-InAutoscaling":{name:"Built-in autoscaling",description:"Horizontal up- and down-scaling of components is automated and built into the infrastructure on which components run. Horizontal scaling means that component instances are replicated when the load increases and components instances are removed when load decreases. This autoscaling is based on rules which can be configured according to system needs.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["component","infrastructure"],sources:[{key:"Scholl2019",section:"6 Use Platform Autoscaling Features"},{key:"Ibryam2020",section:"24 Elastic Scale"},{key:"Bastani2017",section:"13 Autoscaling"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Scaling"},{key:"Goniwada2021",section:"5 Elasticity in Microservices"}],measures:[]},infrastructureAbstraction:{name:"Infrastructure abstraction",description:"The used infrastructure such as physical hardware, virtual hardware, or software platform is abstracted by clear boundaries to enable a clear differentiation of responsibilities for operating and managing infrastructure. For example, when a managed container orchestration system is used, the system is operable on that level of abstraction meaning that the API of the orchestration system is the boundary. Problems with underlying hardware or VMs are handled transparently by the provider.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["service","infrastructure"],sources:[{key:"Bastani2017",section:"14 Service Brokers (make use of service brokers as an additional level of abstraction to automatically add or remove backing services)"},{key:"Goniwada2021",section:"3 Location-Independent Principle"}],measures:[]},cloudVendorAbstraction:{name:"Cloud vendor abstraction",description:"The managed infrastructure and backing services used by a system and provided by a cloud vendor are based on unified or standardized interfaces so that vendor specifics are abstracted and a system could potentially be transferred to a another cloud vendor offering the same unified or standardized interfaces.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["service","infrastructure"],sources:[{key:"Wimm2017",section:"3 Infrastructure and the Cloud Provider Interface"},{key:"Indrasiri2021",section:"1 Dynamic Management; Multicloud support"}],measures:["servicePortability"]},configurationManagement:{name:"Configuration management",description:"Configuration values which are specific to an environment are managed separately in a consistent way. Through this, components are more portable across environments and configuration can change independently from components.",categories:["applicationAdministration","dataManagement"],relevantEntities:["component","backingData"],sources:[],measures:[]},isolatedConfiguration:{name:"Isolated configuration",description:"Following DevOps principles, environment-specific configurations are separated from component artifacts (e.g. deployment units) and provided by the environment in which a cloud-native application runs. This enables adaptability across environments (also across testing and production environments)",categories:["applicationAdministration","dataManagement"],relevantEntities:["service","backingData"],sources:[{key:"Davis2019",section:"6.2 The app's configuration layer"},{key:"Ibryam2020",section:"18"},{key:"Scholl2019",section:"6 Never Store Secrets or Configuration Inside an Image"},{key:"Adkins2019",section:"14 Treat Configuration as Code"},{key:"Indrasiri2021",section:" Decoupled Configurations"}],measures:["configurationExternalization"]},configurationStoredInSpecializedServices:{name:"Configuration stored in specialized services",description:"Configuration values are stored in specialized backing services and not only environment variables for example. That way, changing configurations at runtime is facilitated and can be enabled by connecting components to such specialized backing services and checking for updated configurations at runtime. Additionally, configurations can be stored once, but accessed by different components.",categories:["applicationAdministration","dataManagement"],relevantEntities:["service","backingData","backingService"],sources:[{key:"Ibryam2020",section:"19 Configuration Resource"},{key:"Richardson2019",section:"11.2 “Designing configurable services"},{key:"Arundel2019",section:"10 ConfigMaps"},{key:"Bastani2017",section:"2 Centralized, Journaled Configuration"},{key:"Bastani2017",section:"2 Refreshable Configuration"}],measures:[]},"contract-BasedLinks":{name:"Contract-based links",description:"Contracts are defined for the communication via links so that changes to endpoints can be evaluated by their impact on the contract and delayed when a contract would be broken. That way consumers of endpoints can adapt to changes when necessary without suddenly breaking communication via a link due to a changed endpoint.",categories:["networkCommunication","businessDomain"],relevantEntities:["service","endpoint","link"],sources:[{key:"Bastani2017",section:"4 Consumer-Driven Contract Testing (Use contracts for APIs to test against)"}],measures:[]},"standardizedSelf-containedDeploymentUnit":{name:"Standardized self-contained deployment unit",description:"The components are deployed as standardized self-contained units so that the same artifact can reliably be installed and run in different environments and on different infrastructure.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["component"],sources:[{key:"Reznik2019",section:"10 Containerized Apps"},{key:"Adkins2019",section:"7 Use Containers (smaller deployments, separated operating system, portable);"},{key:"Indrasiri2021",section:"1 Use Containerization and Container Orchestration"},{key:"Garrison2017",section:"7 Application Runtime and Isolation"},{key:"Goniwada2021",section:"3 Deploy Independently Principle (deploy services in independent containers), Self-Containment Principle, 5 Containerization"}],measures:[]},immutableArtifacts:{name:"Immutable artifacts",description:"Infrastructure and components of a system are defined and described in its entirety at development time so that artifacts are immutable at runtime. This means upgrades are introduced at runtime through replacement of components instead of modification. Furthermore components do not differ across environments and in case of replication all replicas are identical to avoid unexpected behavior.",categories:["applicationAdministration"],relevantEntities:["service","infrastructure"],sources:[{key:"Scholl2019",section:"6 Don't Modify Deployed Infrastructure"},{key:"Indrasiri2021",section:"1 Containerization"},{key:"Goniwada2021",section:"3 Process Disposability Principle, Image Immutability Principle"}],measures:["numberOfDeploymentTargetEnvironments"]},guardedIngress:{name:"Guarded ingress",description:"Ingress communication, that means communication coming from outside of a system, needs to be guarded. It should be ensured that access to external endpoints is controlled by components offering these external endpoints. Control means for example that only authorized access is possible, maliciously large load is blocked, or secure communication protocols are ensured.",categories:["networkCommunication","applicationAdministration"],relevantEntities:["service","endpoint"],sources:[{key:"Scholl2019",section:"6 Implement Rate Limiting and Throttling"},{key:"Adkins2019",section:"8 Throttling (Delaying processing or responding to remain functional and decrease traffic from individual clients) (should be automated, part of graceful degradation)"},{key:"Adkins2019",section:"8 Load shedding (In case of traffic spike, deny low priority requests to remain functional) (should be automated, part of graceful degradation)"},{key:"Goniwada2021",section:"5 Throttling "}],measures:["ratioOfEndpointsWhoseIngressIsGuarded"]},distribution:{name:"Distribution",description:"Components are distributed across locations and data centers for better availability, reliability, and performance.",categories:["dataManagement","cloudInfrastructure"],relevantEntities:["service","infrastructure"],sources:[],measures:["componentDensity","numberOfServiceHostedOnOneInfrastructure"]},physicalDataDistribution:{name:"Physical data distribution",description:"Storage Backing Service instances where Data aggregates are persisted are distributed across physical locations (e.g. availability zones of a cloud vendor) so that even in the case of a failure of one physical location, another physical location is still useable.",categories:["dataManagement","cloudInfrastructure"],relevantEntities:["storageBackingService","infrastructure"],sources:[{key:"Scholl2019",section:"6 Keep Data in Multiple Regions or Zones"},{key:"Indrasiri2021",section:"4 Data Sharding Pattern: Geographically distribute data"}],measures:["numberOfAvailabilityZonesUsed"]},physicalServiceDistribution:{name:"Physical service distribution",description:"Components are distributed through replication across physical locations (e.g. availability zones of a cloud vendor) so that even in the case of a failure of one physical location, another physical location is still useable.",categories:["cloudInfrastructure"],relevantEntities:["component","infrastructure"],sources:[{key:"Winn2017",section:"2 Resiliency Through Availability Zones"}],measures:["numberOfAvailabilityZonesUsed"]},seamlessUpgrades:{name:"Seamless upgrades",description:"Upgrades of services do not interfere with availability. There are different strategies, like rolling upgrades, to achieve this which should be provided as a capability by the infrastructure.",categories:["applicationAdministration","cloudInfrastructure","networkCommunication","businessDomain"],relevantEntities:["component"],sources:[],measures:[]},rollingUpgradesEnabled:{name:"Rolling upgrades enabled",description:"The infrastructure on which components are deployed provides the ability for rolling upgrades. That means upgrades of components can be performed seamlessly in an automated manner. Seamlessly means that upgrades of components do not necessitate planned downtime.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:["component","infrastructure"],sources:[{key:"Davis2019",section:"7.2"},{key:"Scholl2019",section:"6 Use Zero-Downtime Releases"},{key:"Ibryam2020",section:"3 Declarative Deployment"},{key:"Reznik2019",section:"10 Risk-Reducing Deployment Strategies"},{key:"Arundel2019",section:"13 Rolling Updates"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Rolling upgrades"}],measures:["rollingUpdateOption"]},automatedInfrastructureMaintenance:{name:"Automated infrastructure maintenance",description:"The used infrastructure should automate regular maintenance tasks as much as possible in a way that the operation of components is not impacted by these tasks. Such tasks include updates of operating systems, standard libraries, and middleware managed by the infrastructure, but also certificate regeneration.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["infrastructure"],sources:[{key:"Reznik2019",section:"10 Automated Infrastructure"},{key:"Goniwada2021",section:"5 Automation"}],measures:[]},autonomousFaultHandling:{name:"Autonomous fault handling",description:"Services expect faults at different levels and either handle them or minimize their impact by relying on the capabilities of cloud environments.",categories:["networkCommunication","cloudInfrastructure"],relevantEntities:["service","link","infrastructure"],sources:[],measures:[]},invocationTimeouts:{name:"Invocation timeouts",description:"For links between components, timeouts are defined to avoid infinite waiting on a service that is unavailable and a timely handling of problems.",categories:["networkCommunication"],relevantEntities:["link"],sources:[{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Time-out"},{key:"Richardson2019",section:"3.2.3 Handling partial failures using the Circuit Breaker pattern"},{key:"Goniwada2021",section:"5 Timeout"}],measures:[]},retriesForSafeInvocations:{name:"Retries for safe invocations",description:"Links that are safe to invoke multiple times without leading to unintended state changes, are automatically retried in case of errors to transparently handle transient faults in communication. That way faults can be prevented from being propagated higher up in a request trace.",categories:["networkCommunication"],relevantEntities:["link"],sources:[{key:"Davis2019",section:"9.1"},{key:"Scholl2019",section:"6 Handle Transient Failures with Retries"},{key:"Scholl2019",section:"6 Use a Finite Number of Retries"},{key:"Bastani2017",section:"12 Isolating Failures and Graceful Degradation: Use retries"},{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Retry"},{key:"Ruecker2021",section:"9 Synchronous Request/Response (Use retries in synchronous communications)"},{key:"Ruecker2021",section:"9 The Importance of Idempotency (Communication which is retried needs idempotency)"},{key:"Goniwada2021",section:"Idempotent Service Operation, Retry, 5 Retry "}],measures:["numberOfLinksWithRetryLogic"]},circuitBreakedCommunication:{name:"Circuit breaked communication",description:"For links a circuit breaker implementation is used which avoids unnecessary communication and therefore waiting time if a communication is known to fail. Instead the circuit breaker immediately returns an error response of a default response, is possible, while periodically retrying communication in the background.",categories:["networkCommunication"],relevantEntities:["link"],sources:[{key:"Davis2019",section:"10.1"},{key:"Scholl2019",section:"6 Use Circuit Breakers for Nontransient Failures"},{key:"Richardson2019",section:"3.2.3 Handling partial failures using the Circuit Breaker pattern"},{key:"Bastani2017",section:"12 Isolating Failures and Graceful Degradation: circuit breaker"},{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Circuit breaker"},{key:" Goniwada2021",section:"4 Circuit Breaker"}],measures:["numberOfLinksWithComplexFailover"]},automatedRestarts:{name:"Automated restarts",description:"When a component is found to be unhealthy, that means not functioning as expected, it is directly and automatically restarted. Ideally this capability is provided by the infrastructure on which a component is running.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:["component"],sources:[{key:"Winn2017",section:"2 Self-Healing Processes; Self-Healing VMs"},{key:"Bastani2017",section:"13 automatic remediation"},{key:"Indrasiri2021",section:"1 Why container orchestration?; High availability"},{key:"Goniwada2021",section:"5 Self-Healing"}],measures:[]},"api-BasedCommunication":{name:"API-based communication",description:"All endpoints that are offered by a service are part of a well-defined and documented API. That means, the APIs are based on common principles, are declarative instead of imperative, and are documented in a standardized or specified format (such as the OpenAPI specification). Communication only happens via endpoints that are part of such APIs and can be both synchronous or asynchronous.",categories:["networkCommunication","businessDomain"],relevantEntities:["service","endpoint","link"],sources:[{key:"Reznik2019",section:"9 Communicate Through APIs"},{key:"Adkins2019",section:"6 Understandable Interface Specifications (Use Interface specifications for understandability"},{key:"Bastani2017",section:"6 Everything is an API (Services are integrated via APIs)"},{key:"Indrasiri2021",section:"2 Service Definitions in Synchronous Communication (Use a service definition for each service);"},{key:"Indrasiri2021",section:"2 Service Definition in Asynchronous Communication (Use schemas to define message formats);"},{key:"Goniwada2021",section:"3 API First Principle"}],measures:[]},consistentlyMediatedCommunication:{name:"Consistently mediated communication",description:"By mediating communication through additional components, there is no direct dependence on the other communication partner and additional operations can be performed to manage the communication, such as load balancing, monitoring, or the enforcement of policies. By using centralized mediation approaches, such as Service Meshes, management actions can be performed universally and consistently across the components of an application.",categories:["networkCommunication"],relevantEntities:["component","link"],sources:[{key:"Indrasiri2021",section:"3 Sidecar Pattern, Service Mesh Pattern, Service Abstraction Pattern (Proxy communication with services to include service discovery and load balancing)"},{key:"Davis2019",section:"10.3"},{key:"Richardson2019",section:"11.4.2"}],measures:["serviceInteractionViaBackingService","serviceInteractionViaCentralComponentUtilizationMetric"]}},impacts:[{impactedFactor:"secretsManagement",sourceFactor:"secretsStoredInSpecializedServices",impactType:"positive"},{impactedFactor:"confidentiality",sourceFactor:"dataEncryptionInTransit",impactType:"positive"},{impactedFactor:"confidentiality",sourceFactor:"secretsManagement",impactType:"positive"},{impactedFactor:"secretsManagement",sourceFactor:"isolatedSecrets",impactType:"positive"},{impactedFactor:"integrity",sourceFactor:"accessRestriction",impactType:"positive"},{impactedFactor:"accessRestriction",sourceFactor:"leastPrivilegedAccess",impactType:"positive"},{impactedFactor:"accessRestriction",sourceFactor:"accessControlManagementConsistency",impactType:"positive"},{impactedFactor:"accountability",sourceFactor:"accountSeparation",impactType:"positive"},{impactedFactor:"authenticity",sourceFactor:"authenticationDelegation",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"serviceOrientation",impactType:"positive"},{impactedFactor:"serviceOrientation",sourceFactor:"limitedFunctionalScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"limitedDataScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"limitedEndpointScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"commandQueryResponsibilitySegregation",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"commandQueryResponsibilitySegregation",impactType:"negative"},{impactedFactor:"serviceOrientation",sourceFactor:"separationByGateways",impactType:"positive"},{impactedFactor:"seamlessUpgrades",sourceFactor:"separationByGateways",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"seamlessUpgrades",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"elasticity",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"isolatedState",sourceFactor:"mostlyStatelessServices",impactType:"positive"},{impactedFactor:"testability",sourceFactor:"mostlyStatelessServices",impactType:"positive"},{impactedFactor:"isolatedState",sourceFactor:"specializedStatefulServices",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"looseCoupling",impactType:"positive"},{impactedFactor:"looseCoupling",sourceFactor:"asynchronousCommunication",impactType:"positive"},{impactedFactor:"looseCoupling",sourceFactor:"communicationPartnerAbstraction",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"communicationPartnerAbstraction",impactType:"negative"},{impactedFactor:"faultTolerance",sourceFactor:"persistentCommunication",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"usageOfExistingSolutionsForNonCoreCapabilities",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"standardization",impactType:"positive"},{impactedFactor:"standardization",sourceFactor:"componentSimilarity",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"automatedMonitoring",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"consistentCentralizedLogging",impactType:"positive"},{impactedFactor:"accountability",sourceFactor:"consistentCentralizedLogging",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"consistentCentralizedMetrics",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"distributedTracingOfInvocations",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"automatedRestarts",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"automatedInfrastructureProvisioning",impactType:"positive"},{impactedFactor:"installability",sourceFactor:"automatedInfrastructureProvisioning",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"serviceIndependence",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"lowCoupling",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"functionalDecentralization",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"limitedRequestTraceScope",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"logicalGrouping",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"backingServiceDecentralization",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"addressingAbstraction",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"addressingAbstraction",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"sparsity",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"operationOutsourcing",impactType:"positive"},{impactedFactor:"operationOutsourcing",sourceFactor:"managedInfrastructure",impactType:"positive"},{impactedFactor:"operationOutsourcing",sourceFactor:"managedBackingServices",impactType:"positive"},{impactedFactor:"resourceUtilization",sourceFactor:"dynamicScheduling",impactType:"positive"},{impactedFactor:"timeBehaviour",sourceFactor:"replication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"serviceReplication",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"serviceReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"horizontalDataReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"verticalDataReplication",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"verticalDataReplication",impactType:"negative"},{impactedFactor:"availability",sourceFactor:"verticalDataReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"shardedDataStoreReplication",impactType:"positive"},{impactedFactor:"resourceUtilization",sourceFactor:"enforcementOfAppropriateResourceBoundaries",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"enforcementOfAppropriateResourceBoundaries",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"built-InAutoscaling",impactType:"positive"},{impactedFactor:"elasticity",sourceFactor:"built-InAutoscaling",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"infrastructureAbstraction",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"cloudVendorAbstraction",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"cloudVendorAbstraction",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"configurationManagement",impactType:"positive"},{impactedFactor:"configurationManagement",sourceFactor:"isolatedConfiguration",impactType:"positive"},{impactedFactor:"configurationManagement",sourceFactor:"configurationStoredInSpecializedServices",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"contract-BasedLinks",impactType:"positive"},{impactedFactor:"installability",sourceFactor:"standardizedSelf-containedDeploymentUnit",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"immutableArtifacts",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"guardedIngress",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"distribution",impactType:"positive"},{impactedFactor:"distribution",sourceFactor:"physicalDataDistribution",impactType:"positive"},{impactedFactor:"distribution",sourceFactor:"physicalServiceDistribution",impactType:"positive"},{impactedFactor:"seamlessUpgrades",sourceFactor:"rollingUpgradesEnabled",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"automatedInfrastructureMaintenance",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"automatedInfrastructureMaintenance",impactType:"positive"},{impactedFactor:"faultTolerance",sourceFactor:"autonomousFaultHandling",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"invocationTimeouts",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"retriesForSafeInvocations",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"circuitBreakedCommunication",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"automatedRestarts",impactType:"positive"},{impactedFactor:"interoperability",sourceFactor:"api-BasedCommunication",impactType:"positive"},{impactedFactor:"testability",sourceFactor:"api-BasedCommunication",impactType:"positive"},{impactedFactor:"interoperability",sourceFactor:"consistentlyMediatedCommunication",impactType:"positive"},{impactedFactor:"timeBehaviour",sourceFactor:"consistentlyMediatedCommunication",impactType:"negative"},{impactedFactor:"analyzability",sourceFactor:"consistentlyMediatedCommunication",impactType:"positive"}],measures:{ratioOfEndpointsSupportingSsl:{name:"Ratio of endpoints that support SSL",calculation:"Endpoints that support SSL / Endpoints that do not support SSL",sources:["Ntentos2022"]},ratioOfSecuredLinks:{name:"Ratio of secured links",calculation:"Links secured by SSL / All links",sources:["Zdun2023","Zdun2023a"]},ratioOfEndpointsThatSupportTokenBasedAuthentication:{name:"Ratio of endpoints that support token-based authentication ",calculation:"Endpoints supportin tokens / All endpoints",sources:["Ntentos2022","Zdun2023","Zdun2023a"]},ratioOfEndpointsThatSupportApiKeys:{name:"Ratio of endpoints that support API Keys",calculation:"",sources:["Ntentos2022","Ntentos2022"]},ratioOfEndpointsThatSupportPlaintextAuthentication:{name:"Ratio of endpoints that support plaintext authentication",calculation:"",sources:["Ntentos2022","Zdun2023","Zdun2023a"]},ratioOfEndpointsThatAreIncludedInASingleSignOnApproach:{name:"Ratio of endpoints that are included in an single-sign-on approach",calculation:"",sources:["Ntentos2022"]},totalServiceInterfaceCohesion:{name:"Total Service Interface Cohesion",calculation:"",sources:["Bogner2017","Perepletchikov2007"]},covesivenessOfService:{name:"Covesiveness of Service",calculation:"",sources:["Oliveira2018","La2013"]},cohesionOfAServiceBasedOnOtherEndpointsCalled:{name:"Cohesion of a Service based on other Endpoints called",calculation:"",sources:["Peng2022"]},dataAggregateScope:{name:"Data aggregate scope",calculation:"",sources:["Shim2008"]},serviceInterfaceDataCohesion:{name:"Service Interface Data Cohesion",calculation:"",sources:["Bogner2017","Perepletchikov2007","Kazemi2011","Brito2021","Jin2021","Jin2018","Athanasopoulos2011","Athanasopoulos2015","Bogner2020"]},cohesionBetweenEndpointsBasedOnDataAggregateUsage:{name:"Cohesion between Endpoints based on data aggregate usage",calculation:"",sources:["Peng2022"]},numberOfProvidedSynchronousAndAsynchronousEndpoints:{name:"Number of provided synchronous and asynchronous endpoints",calculation:"",sources:["Apel2019","Engel2018","Shim2008","Brito2021","Jin2021","Daniel2023"]},numberOfSynchronousEndpointsOfferedByAService:{name:"Number of synchronous endpoints offered by a service",calculation:"",sources:["Shim2008"]},serviceInterfaceUsageCohesion:{name:"Service Interface Usage Cohesion",calculation:"",sources:["Bogner2017","Perepletchikov2007","Kazemi2011"]},distributionOfSynchronousCalls:{name:"Distribution of synchronous calls",calculation:"",sources:["Engel2018"]},cohesionOfEndpointsBasedOnInvocationByOtherServices:{name:"Cohesion of Endpoints based on invocation by other services",calculation:"",sources:["Peng2022"]},externallyAvailableEndpoints:{name:"Externally available endpoints",calculation:"",sources:["Zimmermann2015"]},centralizationOfExternallyAvailableEndpoints:{name:"Centralization of externally available endpoints",calculation:"",sources:["Ntentos2020","Ntentos2021"]},apiCompositionUtilizationMetric:{name:"API Composition utilization metric",calculation:"",sources:["Ntentos2020","Ntentos2021"]},ratioOfStateDependencyOfEndpoints:{name:"Ratio of state dependency of endpoints",calculation:"",sources:["Karhikeyan2012"]},ratioOfStatefulComponents:{name:"Ratio of stateful components",calculation:"",sources:["Qian2006"]},ratioOfStatelessComponents:{name:"Ratio of stateless components",calculation:"",sources:["Hirzalla2009"]},degreeToWhichComponentsAreLinkedToStatefulComponents:{name:"Degree to which components are linked to stateful components",calculation:"",sources:["Qian2006"]},numberOfAsynchronousEndpointsOfferedByAService:{name:"Number of asynchronous endpoints offered by a service",calculation:"",sources:["Shim2008","Daniel2023"]},numberOfSynchronousOutgoingLinks:{name:"Number of synchronous outgoing links",calculation:"",sources:["Apel2019","Daniel2023"]},numberOfAsynchronousOutgoingLinks:{name:"Number of asynchronous outgoing links",calculation:"",sources:["Apel2019","Daniel2023"]},ratioOfAsynchronousOutgoingLinks:{name:"Ratio of asynchronous outgoing links",calculation:"",sources:["Karhikeyan2012"]},degreeOfAsynchronousCommunication:{name:"Degree of asynchronous communication",calculation:"",sources:["Qian2006"]},asynchronousCommunicationUtilization:{name:"Asynchronous Communication Utilization",calculation:"",sources:["Ntentos2020a"]},serviceInteractionWithEventSourcingUtilizationMetric:{name:"Service Interaction with Event Sourcing utilization metric",calculation:"",sources:["Ntentos2020"]},serviceLinkPersistenceUtilizationMetric:{name:"Service Link Persistence utilization metric",calculation:"",sources:["Ntentos2020","Ntentos2021"]},outboxEventSourcingUtilizationMetric:{name:"Outbox/Event Sourcing utilization metric",calculation:"",sources:["Ntentos2020","Ntentos2021"]},ratioOfInfrastructureNodesThatSupportMonitoring:{name:"Ratio of Infrastructure nodes that support Monitoring",calculation:"",sources:["Ntentos2022","Zdun2023"]},ratioOfComponentsThatSupportMonitoring:{name:"Ratio of Components that support Monitoring",calculation:"",sources:["Ntentos2022","Zdun2023"]},ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService:{name:"Ratio of Components or Infrastructure nodes that export logs to a central service",calculation:"",sources:["Ntentos2022"]},ratioOfComponentsOrInfrastructureNodesThatExportMetrics:{name:"Ratio of Components or Infrastructure nodes that export metrics",calculation:"",sources:["Ntentos2022"]},ratioOfComponentsOrInfrastructureNodesThatEnablePerformanceAnalytics:{name:"Ratio of Components or Infrastructure nodes that enable Performance Analytics",calculation:"",sources:["Ntentos2022"]},distributedTracingSupport:{name:"Distributed Tracing Support",calculation:"",sources:["Ntentos2020","Ntentos2021"]},ratioOfServicesThatProvideHealthEndpoints:{name:"Ratio of Services that provide Health endpoints",calculation:"",sources:["Ntentos2022"]},linesOfCodeForDeploymentConfiguration:{name:"Lines of code (LOC) for deployment configuration",calculation:"",sources:["Lehmann2017","Talwar2005"]},numberOfLinksPerComponent:{name:"Number of Links per Component ",calculation:"",sources:["Zimmermann2015","Tiwari2014","Rosa2020"]},numberOfConsumedEndpoints:{name:"Number of Consumed Endpoints",calculation:"",sources:["Apel2019","Gamage2021","Perera2018"]},incomingOutgoingRatioOfAComponent:{name:"Incoming outgoing ratio of a component",calculation:"",sources:["Tiwari2014"]},ratioOfOutgoingLinksOfAService:{name:"Ratio of outgoing links of a service",calculation:"",sources:["PhamThiQuynh2009"]},couplingDegreeBasedOnPotentialCoupling:{name:"Coupling degree based on potential coupling",calculation:"",sources:["PhamThiQuynh2009"]},interactionDensityInTheSystem:{name:"Interaction density in the system",calculation:"",sources:["Tiwari2014"]},interactionDensityOfASystem:{name:"Interaction density of a system",calculation:"",sources:["Tiwari2014","Karhikeyan2012"]},"indirectInteractionDensityOfASystem ":{name:"Indirect Interaction density of a system ",calculation:"",sources:["Karhikeyan2012"]},serviceCouplingBasedOnEndpointEntropy:{name:"Service Coupling based on Endpoint Entropy",calculation:"",sources:["Wang2009"]},systemCouplingBasedOnEndpointEntropy:{name:"System Coupling based on Endpoint Entropy",calculation:"",sources:["Wang2009"]},modularityQualityBasedOnCohesionAndCoupling:{name:"Modularity quality based on cohesion and coupling",calculation:"",sources:["Brito2021","Jin2021"]},combinedMetricForIndirectDependency:{name:"Combined metric for indirect dependency",calculation:"",sources:["Karhikeyan2012"]},servicesInterdependenceInTheSystem:{name:"Services Interdependence in the System",calculation:"",sources:["Bogner2017","Rud2006"]},indirectInteractionDensityOfASystem:{name:"Indirect Interaction density of a system",calculation:"",sources:["Karhikeyan2012"]},averageNumberOfDirectlyConnectedServices:{name:"Average Number of Directly Connected Services",calculation:"",sources:["Shim2008"]},numberOfComponentsThatAreLinkedToAComponent:{name:"Number of Components that are linked to a component",calculation:"",sources:["Bogner2017","Rud2009","Shim2008","Zhang2009","Asik2017","Gamage2021","Perera2018"]},numberOfComponentsAComponentIsLinkedTo:{name:"Number of Components a component is linked to",calculation:"",sources:["Bogner2017","Rud2009","Engel2018","Shim2008","Raj2021","Raj2018","Hofmeister2008","PhamThiQuynh2009","Zhang2009"]},numberOfLinksBetweenTwoServices:{name:"Number of links between two services",calculation:"",sources:["Hofmeister2008"]},aggregateSystemMetricToMeasureServiceCoupling:{name:"Aggregate System metric to measure service coupling",calculation:"",sources:["Hofmeister2008","Gamage2021"]},numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents:{name:"Number of Components a component is linked to relative to the total amount of components",calculation:"",sources:["Raj2021","Raj2018","Zhang2009"]},degreeOfCouplingInASystem:{name:"Degree of coupling in a system",calculation:"",sources:["Raj2021","Raj2018","Hofmeister2008","Zhang2009"]},serviceCouplingBasedOnDataExchangeComplexity:{name:"Service Coupling based on data exchange complexity",calculation:"",sources:["Kazemi2013","Ma2009"]},simpleDegreeOfCouplingInASystem:{name:"Simple Degree of coupling in a system",calculation:"",sources:["Qian2006"]},directServiceSharing:{name:"Direct Service Sharing",calculation:"",sources:["Ntentos2020a"]},transitivelySharedServices:{name:"Transitively Shared Services",calculation:"",sources:["Ntentos2020a"]},ratioOfSharedNonExternalComponentsToNonExternalComponents:{name:"Ratio of shared non-external components to non-external components",calculation:"",sources:["Zdun2017"]},ratioOfSharedDependenciesOfNonExternalComponentsToPossibleDependencies:{name:"Ratio of shared dependencies of non-external components to possible dependencies",calculation:"",sources:["Zdun2017"]},degreeOfDependenceOnOtherComponents:{name:"Degree of dependence on other components",calculation:"",sources:["Oliveira2018","La2013","Oh2011","PhamThiQuynh2009"]},averageSystemCoupling:{name:"Average System Coupling",calculation:"",sources:["Filippone2023"]},couplingOfServicesBasedOnUsedDataAggregates:{name:"Coupling of services based on used Data Aggregates",calculation:"",sources:["Peng2022"]},couplingOfServicesBasedServicesWhichCallThem:{name:"Coupling of services based services which call them",calculation:"",sources:["Peng2022"]},couplingOfServicesBasedServicesWhichAreCalledByThem:{name:"Coupling of services based services which are called by them",calculation:"",sources:["Peng2022"]},couplingOfServicesBasedOnAmountOfRequestTracesThatIncludeASpecificLink:{name:"Coupling of services based on amount of request traces that include a specific link",calculation:"",sources:["Peng2022"]},couplingOfServicesBasedTimesThatTheyOccurInTheSameRequestTrace:{name:"Coupling of services based times that they occur in the same request trace",calculation:"",sources:["Peng2022"]},conceptualModularityQualityBasedOnDataAggregateCohesionAndCoupling:{name:"Conceptual Modularity quality based on Data Aggregate cohesion and coupling",calculation:"",sources:["Brito2021","Jin2021"]},cyclicCommunication:{name:"Cyclic Communication",calculation:"",sources:["Apel2019","Ntentos2020a"]},numberOfSynchronousCycles:{name:"Number of synchronous cycles",calculation:"",sources:["Engel2018"]},relativeImportanceOfTheService:{name:"Relative Importance of the Service",calculation:"",sources:["Zhang2009"]},extentOfAggregationComponents:{name:"Extent of Aggregation components",calculation:"",sources:["Hofmeister2008"]},systemCentralization:{name:"System's CentraliZation",calculation:"",sources:["Hofmeister2008"]},densityOfAggregation:{name:"Density of Aggregation",calculation:"",sources:["Hofmeister2008"]},aggregatorCentralization:{name:"Aggregator CentraliZation",calculation:"",sources:["Hofmeister2008"]},dataAggregateConvergenceAcrossComponents:{name:"Data Aggregate Convergence across Components",calculation:"",sources:["Kazemi2013","Ma2009"]},serviceCriticality:{name:"Service Criticality",calculation:"",sources:["Bogner2017","Rud2009"]},ratioOfCyclicRequestTraces:{name:"Ratio of cyclic request traces",calculation:"",sources:["Genfer2021"]},numberOfPotentialCyclesInASystem:{name:"Number of potential cycles in a system",calculation:"",sources:["Peng2022"]},maximumLengthOfServiceLinkChainPerRequestTrace:{name:"Maximum Length of Service Link chain per request trace",calculation:"",sources:["Apel2019","Engel2018","Rosa2020"]},maximumNumberOfServicesWithinARequestTrace:{name:"Maximum number of services within a request trace",calculation:"",sources:["Apel2019"]},serviceCompositionScope:{name:"Service composition scope",calculation:"",sources:["Zimmermann2015"]},requestTraceLength:{name:"Request Trace Length",calculation:"",sources:["Peng2022","Gamage2021"]},numberOfCyclesInRequestTraces:{name:"Number of Cycles in Request Traces",calculation:"",sources:["Peng2022","Gamage2021"]},degreeOfStorageBackendSharing:{name:"Degree of Storage Backend Sharing",calculation:"",sources:["Rosa2020"]},ratioOfStorageBackendSharing:{name:"Ratio of Storage Backend Sharing",calculation:"",sources:["Rosa2020"]},sharedStorageBackingServiceInteractions:{name:"Shared Storage Backing Service Interactions",calculation:"",sources:["Ntentos2020","Ntentos2020a","Ntentos2021"]},databaseTypeUtilization:{name:"Database Type Utilization",calculation:"",sources:["Ntentos2020a"]},serviceDiscoveryUsage:{name:"Service Discovery Usage",calculation:"",sources:["Apel2019"]},averageNumberOfEndpointsPerService:{name:"Average Number of Endpoints per Service",calculation:"",sources:["Bogner2017","Bogner2020","Hirzalla2009","Brito2021","Jin2021","Rosa2020","Kazemi2013","Ma2009","Desai2021"]},numberOfDependencies:{name:"Number of Dependencies",calculation:"",sources:["Apel2019"]},numberOfVersionsPerService:{name:"Number of Versions per Service",calculation:"",sources:["Bogner2017","Hirzalla2009"]},concurrentlyAvailableVersionsComplexity:{name:"Concurrently available versions complexity",calculation:"",sources:["Karhikeyan2012"]},serviceSupportForTransactions:{name:"Service Support for Transactions",calculation:"",sources:["Bogner2017","Hirzalla2009"]},dataModelScope:{name:"Data Model Scope",calculation:"",sources:["Zimmermann2015"]},numberOfComponents:{name:"Number of components",calculation:"",sources:["Silva2023","Venkitachalam2017"]},ratioOfProviderManagedComponentsAndInfrastructure:{name:"Ratio of Provider-Managed Components and Infrastructure",calculation:"",sources:["Yussupov2022"]},amountOfRedundancy:{name:"Amount of redundancy",calculation:"",sources:["Zimmermann2015"]},serviceReplicationLevel:{name:"Service Replication level",calculation:"The average value of replicas per service",sources:["Guerron2020","Souza2016"]},storageReplicationLevel:{name:"Storage Replication level",calculation:"The average value of replicas per storage backing service",sources:["Guerron2020","Souza2016"]},servicePortability:{name:"Service portability",calculation:"",sources:["Guerron2020","Singh2015"]},configurationExternalization:{name:"Configuration externalization",calculation:"",sources:["Apel2019"]},numberOfDeploymentTargetEnvironments:{name:"Number of Deployment Target Environments",calculation:"",sources:["Apel2019"]},ratioOfEndpointsWhoseIngressIsGuarded:{name:"Ratio of endpoints whose ingress is guarded",calculation:"",sources:["Ntentos2022"]},componentDensity:{name:"Component density",calculation:"",sources:["Guerron2020","Rizvi2017"]},numberOfAvailabilityZonesUsed:{name:"Number of Availability Zones used",calculation:"",sources:["Guerron2020","Baranwal2014"]},rollingUpdateOption:{name:"Rolling Update Option",calculation:"",sources:["Straesser2023"]},numberOfLinksWithRetryLogic:{name:"Number of Links with retry logic",calculation:"",sources:["Apel2019"]},numberOfLinksWithComplexFailover:{name:"Number of Links with Complex Failover",calculation:"",sources:["Apel2019"]},serviceInteractionViaBackingService:{name:"Service Interaction via Backing Service",calculation:"",sources:["Ntentos2020a"]},serviceInteractionViaCentralComponentUtilizationMetric:{name:"Service Interaction via Central Component utilization metric",calculation:"",sources:["Ntentos2020","Ntentos2021"]},totalNumberOfComponents:{name:"Total Number of Components",calculation:"",sources:["Shim2008","Zimmermann2015"]},numberOfServices:{name:"Number of Services",calculation:"",sources:["Shim2008","Raj2018","Hirzalla2009","Hofmeister2008","Zhang2009","Rud2006"]},numberOfBackingServices:{name:"Number of Backing Services",calculation:"",sources:["Shim2008"]},totalNumberOfLinksInASystem:{name:"Total number of links in a system",calculation:"",sources:["Brito2021","Jin2018","Tiwari2014","Assuncao2021"]},numberOfSynchronousEndpoints:{name:"Number of synchronous endpoints",calculation:"",sources:["Shim2008"]},numberOfAsynchronousEndpoints:{name:"Number of asynchronous endpoints",calculation:"",sources:["Shim2008"]},numberOfAsynchronousAndSynchronousLinks:{name:"Number of asynchronous and synchronous links",calculation:"",sources:["Zimmermann2015"]},numberOfServicesWhichHaveIncomingLinks:{name:"Number of Services which have incoming links",calculation:"",sources:["Shim2008","Hofmeister2008"]},numberOfServicesWhichHaveOutgoingLinks:{name:"Number of Services which have outgoing links",calculation:"",sources:["Shim2008","Hofmeister2008"]},numberOfServicesWhichHaveBothIncomingAndOutgoingLinks:{name:"Number of Services which have both incoming and outgoing links",calculation:"",sources:["Shim2008","Hofmeister2008"]},lackOfCohesion:{name:"Lack of cohesion of a service",calculation:"",sources:["AlDebagy2020"]},averageLackOfCohesion:{name:"Average system lack of cohesion of a service",calculation:"",sources:["AlDebagy2020"]},serviceSize:{name:"Size of a service",calculation:"",sources:["Asik2017"]},resourceCount:{name:"Data Aggregate Count",calculation:"",sources:["Asik2017"]},unusedResourceCount:{name:"Unused Endpoint Count",calculation:"",sources:["Asik2017"]},unreachableEndpointCount:{name:"Unreachable Endpoint Count",calculation:"",sources:["Asik2017"]},numberOfServiceConnectedToStorageBackingService:{name:"Number of Services connected to a Storage Backing Service",calculation:"",sources:["Daniel2023"]},numberOfReadEndpointsProvidedByAService:{name:"Number of Read Endpoints provided by a service",calculation:"",sources:["Daniel2023"]},numberOfWriteEndpointsProvidedByAService:{name:"Number of Wrie Endpoints provided by a service",calculation:"",sources:["Daniel2023"]},numberOfServiceHostedOnOneInfrastructure:{name:"Number of Services hosted on one infrastructure entity",calculation:"",sources:["Daniel2023"]},ratioOfRequestTracesThroughGateway:{name:"Ratio of request traces through a gateway",calculation:"",sources:["Zdun2023a"]},ratioOfRequestTracesContainingFrontend:{name:"Ratio of request traces containing a frontend component",calculation:"",sources:["Zdun2023a"]},dataShardingLevel:{name:"Level of sharding across storage backing services",calculation:"",sources:["new"]}},productFactorEvaluations:[{targetFactor:"serviceReplication",evaluation:"serviceReplication",reasoning:"TODO write a suitable reasoning"},{targetFactor:"horizontalDataReplication",evaluation:"horizontalDataReplication",reasoning:""},{targetFactor:"replication",evaluation:"aggregateImpacts",reasoning:"TODO write a suitable reasoning"},{targetFactor:"shardedDataStoreReplication",evaluation:"shardedDataStoreReplication",reasoning:""}],qualityAspectEvaluations:[{targetAspect:"timeBehaviour",evaluation:"aggregateImpacts",reasoning:"TODO"}]},Sy={Davis2019:{title:"Cloud Native Patterns",year:2019,authors:"Cornelia Davis",publisher:"Manning",url:"https://www.manning.com/books/cloud-native-patterns"},Garrison2017:{title:"Cloud Native Infrastructure",year:2017,authors:"Justin Garrison and Kris Nova",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-infrastructure/9781491984291/"},Bastani2017:{title:"Cloud Native Java",year:2017,authors:"Kenny Bastani and Josh Long",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-java/9781449374631/"},Scholl2019:{title:"Cloud Native",year:2019,authors:"Boris Scholl, Trent Swanson, and Peter Jausovec",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native/9781492053811/"},Richardson2019:{title:"Microservices Patterns",year:2019,authors:"Chris Richardson",publisher:"Manning",url:"https://www.manning.com/books/microservices-patterns"},Reznik2019:{title:"Cloud Native Transformation",year:2019,authors:"Pini Reznik, Jamie Dobson, and Michelle Gienow",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-transformation/9781492048893/"},Arundel2019:{title:"Cloud Native DevOps with Kubernetes",year:2019,authors:"John Arundel and Justin Domingus",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-devops/9781492040750/"},Ibryam2020:{title:"Kubernetes Patterns",year:2020,authors:"Bilgin Ibryam and Roland Huß",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/kubernetes-patterns/9781492050278/"},Adkins2020:{title:"Building Secure and Reliable Systems",year:2020,authors:"Heather Adkins, Betsy Beyer, Paul Blankinship, Piotr Lewandowski, Ana Oprea, and Adam Stubblefield",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/building-secure-and/9781492083115/"},Indrasiri2021:{title:"Design Patterns for Cloud Native Applications",year:2021,authors:"Kasun Indrasiri and Sriskandarajah Suhothayan",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/design-patterns-for/9781492090700/"},Ruecker2021:{title:"Practical Process Automation",year:2021,authors:"Bernd Rücker",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/practical-process-automation/9781492061441/"},Goniwada2021:{title:"Cloud Native Architecture and Design",year:2021,authors:"Shivakumar Goniwada",publisher:"Apress",url:"https://link.springer.com/book/10.1007/978-1-4842-7226-8"},AbdelBaky2019:{title:"A general performance and QoS model for distributed software-defined environments",year:2019,authors:"Moustafa AbdelBaky and Manish Parashar",publisher:"",url:"https://doi.org/10.1109/TSC.2019.2928300"},Alam2016:{title:"A cloud platform-as-a-service for multimedia conferencing service provisioning",year:2016,authors:"Ahmad F. B. Alam and Abbas Soltanian and Sami Yangui and Mohammad A. Salahuddin and Roch Glitho and Halima Elbiaze",publisher:"IEEE",url:"https://doi.org/10.1109/iscc.2016.7543756"},Apel2019:{title:"Towards a metrics-based software quality rating for a microservice architecture",year:2019,authors:"Sebastian Apel and Florian Hertrampf and Steffen Späthe",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-22482-0_15"},Arumugam2017:{title:"Secure and QoS guaranteed selection resource for storing health care information of cloud users",year:2017,authors:"K. Arumugam and P. Sumathi",publisher:"IEEE",url:"https://doi.org/10.1109/iccmc.2017.8282657"},Athanasopoulos2011:{title:"Fine-grained metrics of cohesion lack for service interfaces",year:2011,authors:"Dionysis Athanasopoulos and Apostolos V. Zarras",publisher:"IEEE",url:"https://doi.org/10.1109/icws.2011.27"},Athanasopoulos2015:{title:"Cohesion-driven decomposition of service interfaces without access to source code",year:2015,authors:"Dionysis Athanasopoulos and Apostolos V. Zarras and George Miskos and Valerie Issarny and Panos Vassiliadis",publisher:"Institute of Electrical; Electronics Engineers (IEEE)",url:"https://doi.org/10.1109/tsc.2014.2310195"},BaniIsmail2018:{title:"A survey of existing evaluation frameworks for service identification methods: Towards a comprehensive evaluation framework",year:2018,authors:"Basel Bani-Ismail and Youcef Baghdadi",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-95204-8_17"},Baranwal2014:{title:"A framework for selection of best cloud service provider using ranked voting method",year:2014,authors:"Gaurav Baranwal and Deo Prakash Vidyarthi",publisher:"IEEE",url:"https://doi.org/10.1109/iadcc.2014.6779430"},Baranwal2016:{title:"A cloud service selection model using improved ranked voting method",year:2016,authors:"Gaurav Baranwal and Deo Prakash Vidyarthi",publisher:"Wiley",url:"https://doi.org/10.1002/cpe.3740"},BASCI2009:{title:"Data complexity metrics for XML web services",year:2009,authors:"D. BASCI and S. MISRA",publisher:"Universitatea Stefan cel Mare din Suceava",url:"https://doi.org/10.4316/aece.2009.02002"},Becker2015:{title:"Systematically deriving quality metrics for cloud computing systems",year:2015,authors:"Matthias Becker and Sebastian Lehrig and Steffen Becker",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/2668930.2688043"},Bento2021:{title:"Automated analysis of distributed tracing: Challenges and research directions",year:2021,authors:"Andre Bento and Jaime Correia and Ricardo Filipe and Filipe Araujo and Jorge Cardoso",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10723-021-09551-5"},Bogner2020:{title:"Collecting service-based maintainability metrics from RESTful API descriptions: Static analysis and threshold derivation",year:2020,authors:"Justus Bogner and Stefan Wagner and Alfred Zimmermann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-59155-7_16"},Bogner2017:{title:"Automatically measuring the maintainability of service- and microservice-based systems: A literature review",year:2017,authors:"Justus Bogner and Stefan Wagner and Alfred Zimmermann",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3143434.3143443"},Brito2021:{title:"Identification of microservices from monolithic applications through topic modelling",year:2021,authors:"Miguel Brito and Jácome Cunha and João Saraiva",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3412841.3442016"},Souza2016:{title:"Architectural recovering model for distributed databases: A reliability, availability and serviceability approach",year:2016,authors:"Ramon Hugo Souza and Paulo Arion Flores and Mario Antonio Ribeiro Dantas and Frank Siqueira",publisher:"IEEE",url:"https://doi.org/10.1109/iscc.2016.7543799"},Engel2018:{title:"Evaluation of microservice architectures: A metric and tool-based approach",year:2018,authors:"Thomas Engel and Melanie Langermeier and Bernhard Bauer and Alexander Hofmann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-92901-9_8"},Garg2013:{title:"A framework for ranking of cloud computing services",year:2013,authors:"Saurabh Kumar Garg and Steve Versteeg and Rajkumar Buyya",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.future.2012.06.006"},Guerout2014:{title:"Quality of service modeling for green scheduling in clouds",year:2014,authors:"Tom Guérout and Samir Medjiah and Georges Da Costa and Thierry Monteil",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.suscom.2014.08.006"},Guerron2020:{title:"A taxonomy of quality metrics for cloud services",year:2020,authors:"Ximena Guerron and Silvia Abrahão and Emilio Insfran and Marta Fernández-Diego and Fernando González-Ladrón-De-Guevara",publisher:"",url:"https://doi.org/10.1109/ACCESS.2020.3009079"},Haupt2017:{title:"A framework for the structural analysis of REST APIs",year:2017,authors:"Florian Haupt and Frank Leymann and Anton Scherer and Karolina Vukojevic-Haupt",publisher:"IEEE",url:"https://doi.org/10.1109/icsa.2017.40"},Hirzalla2009:{title:"A metrics suite for evaluating flexibility and complexity in service oriented architectures",year:2009,authors:"Mamoun Hirzalla and Jane Cleland-Huang and Ali Arsanjani",publisher:"Springer Berlin Heidelberg",url:"https://doi.org/10.1007/978-3-642-01247-1_5"},Hofmeister2008:{title:"Supporting service-oriented design with metrics",year:2008,authors:"Helge Hofmeister and Guido Wirtz",publisher:"IEEE",url:"https://doi.org/10.1109/edoc.2008.13"},Hu2016:{title:"Elasticity evaluation of IaaS cloud based on mixed workloads",year:2016,authors:"Yazhou Hu and Bo Deng and Yu Yang and Dongxia Wang",publisher:"IEEE",url:"https://doi.org/10.1109/ispdc.2016.28"},Jin2021:{title:"Service candidate identification from monolithic systems based on execution traces",year:2021,authors:"Wuxia Jin and Ting Liu and Yuanfang Cai and Rick Kazman and Ran Mo and Qinghua Zheng",publisher:"Institute of Electrical; Electronics Engineers (IEEE)",url:"https://doi.org/10.1109/tse.2019.2910531"},Jin2018:{title:"Functionality-oriented microservice extraction based on execution trace clustering",year:2018,authors:"Wuxia Jin and Ting Liu and Qinghua Zheng and Di Cui and Yuanfang Cai",publisher:"IEEE",url:"https://doi.org/10.1109/icws.2018.00034"},Karhikeyan2012:{title:"A metrics suite and fuzzy model for measuring coupling in service oriented architecture",year:2012,authors:"T. Karhikeyan and J. Geetha",publisher:"IEEE",url:"https://doi.org/10.1109/racss.2012.6212677"},Kazemi2011:{title:"An information retrieval based approach for measuring service conceptual cohesion",year:2011,authors:"Ali Kazemi and Ali Rostampour and Amin Zamiri and Pooyan Jamshidi and Hassan Haghighi and Fereidoon Shams",publisher:"IEEE",url:"https://doi.org/"},KAZEMI2013:{title:"ABSIM: AN AUTOMATED BUSINESS SERVICE IDENTIFICATION METHOD",year:2013,authors:"ALI KAZEMI and HASSAN HAGHIGHI and FEREIDOON SHAMS",publisher:"World Scientific Pub Co Pte Lt",url:"https://doi.org/"},Kuhlenkamp2019:{title:"An evaluation of FaaS platforms as a foundation for serverless big data processing",year:2019,authors:"Jörn Kuhlenkamp and Sebastian Werner and Maria C. Borges and Karim El Tal and Stefan Tai",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3344341.3368796"},La2013:{title:"Framework for evaluating reusability of component-as-a-service (CaaS)",year:2013,authors:"Hyun Jung La and Jin Sun Her and Soo Dong Kim",publisher:"IEEE",url:"https://doi.org/"},Lehmann2017:{title:"A framework for evaluating continuous microservice delivery strategies",year:2017,authors:"Martin Lehmann and Frode Eika Sandnes",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3018896.3018961"},Li2020:{title:"Quantitative modeling and analytical calculation of elasticity in cloud computing",year:2020,authors:"Keqin Li",publisher:"",url:"https://doi.org/10.1109/TCC.2017.2665549"},Ma2009:{title:"Evaluating service identification with design metrics on business process decomposition",year:2009,authors:"Qian Ma and Nianjun Zhou and Yanfeng Zhu and Hao Wang",publisher:"IEEE",url:"https://doi.org/10.1109/scc.2009.44"},Manuel2013:{title:"A trust model of cloud computing based on quality of service",year:2013,authors:"Paul Manuel",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10479-013-1380-x"},NikDaud2014:{title:"Static and dynamic classifications for SOA structural attributes metrics",year:2014,authors:"Nik Marsyahariani Nik Daud and Wan M. N. Wan Kadir",publisher:"",url:"https://doi.org/10.1109/MySec.2014.6986002"},Ntentos2020a:{title:"Assessing architecture conformance to coupling-related patterns and practices in microservices",year:2020,authors:"Evangelos Ntentos and Uwe Zdun and Konstantinos Plakidas and Sebastian Meixner and Sebastian Geiger",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-58923-3_1"},Ntentos2020:{title:"Metrics for assessing architecture conformance to microservice architecture patterns and practices",year:2020,authors:"Evangelos Ntentos and Uwe Zdun and Konstantinos Plakidas and Sebastian Meixner and Sebastian Geiger",publisher:"Springer",url:"https://doi.org/10.1007/978-3-030-65310-1_42"},Oh2011:{title:"A reusability evaluation suite for cloud services",year:2011,authors:"Sang Hun Oh and Hyun Jung La and Soo Dong Kim",publisher:"IEEE",url:"https://doi.org/10.1109/icebe.2011.27"},Oliveira2018:{title:"SOA reuse: Systematic literature review updating and research directions",year:2018,authors:"Joyce Aline Oliveira and Matheus Vargas and Roni Rodrigues",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3229345.3229419"},Perepletchikov2007:{title:"Cohesion metrics for predicting maintainability of service-oriented software",year:2007,authors:"Mikhail Perepletchikov and Caspar Ryan and Keith Frampton",publisher:"IEEE",url:"https://doi.org/10.1109/qsic.2007.4385516"},Perepletchikov2007a:{title:"Coupling metrics for predicting maintainability in service-oriented designs",year:2007,authors:"Mikhail Perepletchikov and Caspar Ryan and Keith Frampton and Zahir Tari",publisher:"IEEE",url:"https://doi.org/10.1109/aswec.2007.17"},PTQ2009:{title:"Dynamic coupling metrics for service – oriented software",year:2009,authors:"undefined undefined and Huynh Quyet Thang",publisher:"Zenodo",url:"https://doi.org/10.5281/ZENODO.1058263"},Qian2006:{title:"Decoupling metrics for services composition",year:2006,authors:"Kai Qian and Jigang Liu and F. Tsui",publisher:"IEEE",url:"https://doi.org/10.1109/icis-comsar.2006.30"},Raj2018:{title:"Microservices: A perfect SOA based solution for enterprise applications compared to web services",year:2018,authors:"Vinay Raj and S. Ravichandra",publisher:"",url:"https://doi.org/10.1109/RTEICT42901.2018.9012140"},Raj2021:{title:"Evaluation of SOA-based web services and microservices architecture using complexity metrics",year:2021,authors:"Vinay Raj and Ravichandra Sadam",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007%2Fs42979-021-00767-6"},Rizvi2017:{title:"Three-step approach to QoS maintenance in cloud computing using a third-party auditor",year:2017,authors:"Syed Rizvi and Hannah Roddy and Joseph Gualdoni and Ilva Myzyri",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.procs.2017.09.014"},Rosa2020:{title:"How “micro” are your services?",year:2020,authors:"Thatiane de Oliveira Rosa and Alfredo Goldman and Eduardo Martins Guerra",publisher:"",url:"https://doi.org/10.1109/ICSA-C50368.2020.00023"},Rud2006:{title:"Product Metrics for Service-Oriented Infrastructures",year:2006,authors:"Dmytro Rud and Andreas Schmietendorf and Reiner R. Dumke",publisher:"",url:""},Shim2008:{title:"A design quality model for service-oriented architecture",year:2008,authors:"Bingu Shim and Siho Choue and Suntae Kim and Sooyong Park",publisher:"IEEE",url:"https://doi.org/10.1109/apsec.2008.32"},Singh2015:{title:"Q-aware: Quality of service based cloud resource provisioning",year:2015,authors:"Sukhpal Singh and Inderveer Chana",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.compeleceng.2015.02.003"},Slimani2020:{title:"Service-oriented replication strategies for improving quality-of-service in cloud computing: A survey",year:2020,authors:"Sarra Slimani and Tarek Hamrouni and Faouzi Ben Charrada",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10586-020-03108-z"},Taherizadeh2017:{title:"Incremental learning from multi-level monitoring data and its application to component based software engineering",year:2017,authors:"Salman Taherizadeh and Vlado Stankovski",publisher:"IEEE",url:"https://doi.org/10.1109/compsac.2017.148"},Talwar2005:{title:"Comparison of approaches to service deployment",year:2005,authors:"V. Talwar and Qinyi Wu and C. Pu and Wenchang Yan and Gueyoung Jung and D. Milojicic",publisher:"IEEE",url:"https://doi.org/10.1109/icdcs.2005.18"},Tiwari2014:{title:"In-out interaction complexity metrics for component-based software",year:2014,authors:"Umesh Tiwari and Santosh Kumar",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/2659118.2659135"},Vedam2012:{title:"Demystifying cloud benchmarking paradigm - an in depth view",year:2012,authors:"Venu Vedam and Jayanti Vemulapati",publisher:"IEEE",url:"https://doi.org/10.1109/compsac.2012.61"},Wang2009:{title:"Metrics for evaluating coupling and service granularity in service oriented architecture",year:2009,authors:"Xiao-jun Wang",publisher:"IEEE",url:"https://doi.org/10.1109/iciecs.2009.5362767"},Xiong2015:{title:"Ensuring cloud service guarantees via service level agreement (SLA)-based resource allocation",year:2015,authors:"Kaiqi Xiong and Xiao Chen",publisher:"IEEE",url:"https://doi.org/10.1109/icdcsw.2015.18"},Zdun2017:{title:"Ensuring and assessing architecture conformance to microservice decomposition patterns",year:2017,authors:"Uwe Zdun and Elena Navarro and Frank Leymann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-69035-3_29"},Zhang2009:{title:"Complexity metrics for service-oriented systems",year:2009,authors:"Qingqing Zhang and Li Xinke",publisher:"IEEE",url:"https://doi.org/10.1109/kam.2009.90"},Zimmermann2015:{title:"Metrics for architectural synthesis and evaluation: Requirements and compilation by viewpoint: An industrial experience report",year:2015,authors:"Olaf Zimmermann",publisher:"IEEE Press",url:""},Camilli2022:{title:"Microservices integrated performance and reliability testing",year:2022,authors:"Matteo Camilli and Antonio Guerriero and Andrea Janes and Barbara Russo and Stefano Russo",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3524481.3527233"},Filippone2023:{title:"From monolithic to microservice architecture: An automated approach based on graph clustering and combinatorial optimization",year:2023,authors:"Gianluca Filippone and Nadeem Qaisar Mehmood and Marco Autili and Fabrizio Rossi and Massimo Tivoli",publisher:"IEEE",url:"https://doi.org/10.1109/icsa56044.2023.00013"},Genfer2021:{title:"Identifying domain-based cyclic dependencies in microservice APIs using source code detectors",year:2021,authors:"Patric Genfer and Uwe Zdun",publisher:"Springer International Publishing",url:"https://doi.org/10.1007/978-3-030-86044-8_15"},Henning2022:{title:"A configurable method for benchmarking scalability of cloud-native applications",year:2022,authors:"Sören Henning and Wilhelm Hasselbring",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10664-022-10162-1"},Moreira2022:{title:"Analysis of microservice evolution using cohesion metrics",year:2022,authors:"Mateus Gabi Moreira and Breno Bernard Nicolau De França",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3559712.3559716"},Ntentos2022:{title:"Assessing architecture conformance to security-related practices in infrastructure as code based deployments",year:2022,authors:"Evangelos Ntentos and Uwe Zdun and Ghareeb Falazi and Uwe Breitenbucher and Frank Leymann",publisher:"IEEE",url:"https://doi.org/10.1109/scc55611.2022.00029"},Peng2022:{title:"Trace analysis based microservice architecture measurement",year:2022,authors:"Xin Peng and Chenxi Zhang and Zhongyuan Zhao and Akasaka Isami and Xiaofeng Guo and Yunna Cui",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3540250.3558951"},Silva2023:{title:"Quality metrics in software architecture",year:2023,authors:"Samira Silva and Adiel Tuyishime and Tiziano Santilli and Patrizio Pelliccione and Ludovico Iovino",publisher:"IEEE",url:"https://doi.org/10.1109/icsa56044.2023.00014"},Straesser2023:{title:"A systematic approach for benchmarking of container orchestration frameworks",year:2023,authors:"Martin Straesser and Jonas Mathiasch and André Bauer and Samuel Kounev",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3578244.3583726"},Yussupov2022:{title:"Serverless or serverful? A pattern-based approach for exploring hosting alternatives",year:2022,authors:"Vladimir Yussupov and Uwe Breitenbücher and Antonio Brogi and Lukas Harzenetter and Frank Leymann and Jacopo Soldani",publisher:"Springer International Publishing",url:"https://doi.org/10.1007/978-3-031-18304-1_3"},Zdun2023:{title:"Microservice security metrics for secure communication, identity management, and observability",year:2023,authors:"Uwe Zdun and Pierre-Jean Queval and Georg Simhandl and Riccardo Scandariato and Somik Chakravarty and Marjan Jelic and Aleksandar Jovanovic",publisher:"Association for Computing Machinery (ACM)",url:"https://doi.org/10.1145/3532183"},Venkitachalam2017:{title:"Automated continuous evaluation of AUTOSAR software architecture for complex powertrain systems",year:2017,authors:"Hariharan Venkitachalam and Kalkin Anand Powale and Christian Granrath and Johannes Richenhagen",publisher:"Gesellschaft für Informatik, Bonn",url:""},Abgaz2023:{title:"Decomposition of Monolith Applications Into Microservices Architectures: A Systematic Review",year:2023,authors:"Abgaz, Yalemisew and McCarren, Andrew and Elger, Peter and Solan, David and Lapuz, Neil and Bivol, Marin and Jackson, Glenn and Yilmaz, Murat and Buckley, Jim and Clarke, Paul",publisher:"IEEE",url:"https://doi.org/10.1109/TSE.2023.3287297"},AlDebagy2020:{title:"A Metrics Framework for Evaluating Microservices Architecture Designs",year:2020,authors:"Al-Debagy, O. and Martinek, P.",publisher:"IEEE",url:"https://doi.org/10.13052/jwe1540-9589.19341"},Asik2017:{title:"Policy enforcement upon software based on microservice architecture",year:2017,authors:"Asik, Tugrul and Selcuk, Yunus Emre",publisher:"IEEE",url:"https://doi.org/10.1109/SERA.2017.7965739"},Assuncao2021:{title:"A Multi-Criteria Strategy for Redesigning Legacy Features as Microservices: An Industrial Case Study",year:2021,authors:"Assuncao, Wesley K. G. and Colanzi, Thelma Elita and Carvalho, Luiz and Pereira, Juliana Alves and Garcia, Alessandro and de Lima, Maria Julia and Lucena, Carlos",publisher:"IEEE",url:"https://doi.org/10.1109/saner50967.2021.00042"},Daniel2023:{title:"Towards the Detection of Microservice Patterns Based on Metrics",year:2023,authors:"Daniel, João and Guerra, Eduardo and Rosa, Thatiane and Goldman, Alfredo",publisher:"IEEE",url:"https://doi.org/10.1109/SEAA60479.2023.00029"},Desai2021:{title:"Graph Neural Network to Dilute Outliers for Refactoring Monolith Application",year:2021,authors:"Desai, Utkarsh and Bandyopadhyay, Sambaran and Tamilselvam, Srikanth",publisher:"PKP PS",url:"https://doi.org/10.1609/aaai.v35i1.16079"},Gamage2021:{title:"Using dependency graph and graph theory concepts to identify anti-patterns in a microservices system: A tool-based approach",year:2021,authors:"Gamage, Isuru Udara Piyadigama and Perera, Indika",publisher:"IEEE",url:"https://doi.org/10.1109/MERCon52712.2021.9525743"},Ntentos2021:{title:"Evaluating and Improving Microservice Architecture Conformance to Architectural Design Decisions",year:2021,authors:"Ntentos, Evangelos and Zdun, Uwe and Plakidas, Konstantinos and Geiger, Sebastian",publisher:"IEEE",url:"https://doi.org/10.1007/978-3-030-91431-8_12"},Perera2018:{title:"TheArchitect: A Serverless-Microservices Based High-level Architecture Generation Tool",year:2018,authors:"Perera, K. J. P. G. and Perera, I.",publisher:"Springer",url:"https://doi.org/10.1109/ICIS.2018.8466390"},Perera2018a:{title:"A Rule-based System for Automated Generation of Serverless-Microservices Architecture",year:2018,authors:"Perera, K. J. P. G. and Perera, I.",publisher:"IEEE",url:"https://doi.org/10.1109/SysEng.2018.8544423"},Zdun2023a:{title:"Detection Strategies for Microservice Security Tactics",year:2023,authors:"Zdun, Uwe and Queval, Pierre-Jean and Simhandl, Georg and Scandariato, Riccardo and Chakravarty, Somik and Jelić, Marjan and Jovanović, Aleksandar",publisher:"IEEE",url:"https://doi.org/10.1109/TDSC.2023.3276487"}};var Ng,Mg,Fg;class Wk{constructor(t,n,i){Ce(this,Ng,void 0);Ce(this,Mg,void 0);Ce(this,Fg,void 0);De(this,Ng,t),De(this,Mg,n),De(this,Fg,i)}get getKey(){return O(this,Ng)}get getInfo(){return O(this,Mg)}get getUrl(){return O(this,Fg)}}Ng=new WeakMap,Mg=new WeakMap,Fg=new WeakMap;var Rg,Bg,$g,qg;class uZ{constructor(t,n,i,r){Ce(this,Rg,void 0);Ce(this,Bg,void 0);Ce(this,$g,void 0);Ce(this,qg,void 0);De(this,Rg,t),De(this,Bg,n),De(this,$g,i),De(this,qg,r)}get getKey(){return O(this,Rg)}get getName(){return O(this,Bg)}get getDescription(){return O(this,$g)}get getRelation(){return O(this,qg)}}Rg=new WeakMap,Bg=new WeakMap,$g=new WeakMap,qg=new WeakMap;const pN=e=>e.reduce((t,n)=>t+n,0)/e.length,dZ={serviceReplication:(e,t,n,i)=>{let r=n.get("serviceReplicationLevel").value;if(r==="n/a")return"n/a";if(typeof r=="number")return r<=1?"none":r>1&&r<3?"low":"high";throw new Error(`serviceReplicationLevel is of type ${typeof r}, but should be of type number`)},horizontalDataReplication:(e,t,n,i)=>{let r=n.get("storageReplicationLevel").value;if(r==="n/a")return"n/a";if(typeof r=="number")return r<=1?"none":r>1&&r<3?"low":"high";throw new Error(`storageReplicationLevel is of type ${typeof r}, but should be of type number`)},shardedDataStoreReplication:(e,t,n,i)=>{let r=n.get("dataShardingLevel").value;if(r==="n/a")return"n/a";if(typeof r=="number")return r<=1?"none":r>1&&r<10?"low":"high";throw new Error(`dataShardingLevel is of type ${typeof r}, but should be of type number`)},aggregateImpacts:(e,t,n,i)=>{let r=t.map(a=>a.weight);if(r.length===0)return"n/a";if(r.every(a=>a==="n/a"))return{tendency:"n/a",impacts:r};let o=pN(r.filter(a=>a!=="n/a").map(a=>{switch(a){case"negative":return-2;case"slightly negative":return-1;case"neutral":return 0;case"slightly positive":return 1;case"positive":return 2}}));return{tendency:(a=>a<0?"negative":a===0?"neutral":"positive")(o),impacts:r}}},hZ={aggregateImpacts:(e,t,n)=>{let i=t.map(s=>s.weight);if(i.length===0)return"n/a";if(i.every(s=>s==="n/a"))return{tendency:"n/a",impacts:i};let r=pN(i.filter(s=>s!=="n/a").map(s=>{switch(s){case"negative":return-2;case"slightly negative":return-1;case"neutral":return 0;case"slightly positive":return 1;case"positive":return 2}}));return{tendency:(s=>s<0?"negative":s===0?"neutral":"positive")(r),impacts:i}}};var Jl,zg,Ug,Hg;class fZ{constructor(t,n,i){Ce(this,Jl,void 0);Ce(this,zg,void 0);Ce(this,Ug,void 0);Ce(this,Hg,void 0);De(this,Jl,t),De(this,zg,n),De(this,Hg,i)}get getEvaluatedFactor(){return O(this,Jl)}get getEvaluationId(){return O(this,zg)}get getReasoning(){return O(this,Hg)}addEvaluation(t){De(this,Ug,t)}evaluate(t,n){let i=[];for(const r of O(this,Jl).getImpactingFactors()){let o=n.get(r.getId);if(o){let s=o.forwardImpacts.find(a=>a.impactedFactorKey===O(this,Jl).getId);s&&i.push(s)}}return O(this,Ug).call(this,O(this,Jl),i,t,n)}}Jl=new WeakMap,zg=new WeakMap,Ug=new WeakMap,Hg=new WeakMap;const Ix=e=>e.reduce((t,n)=>t+n,0)/e.length,jk={serviceReplicationLevel:e=>{let t=new Map;for(const[n,i]of e.getDeploymentMappingEntities.entries()){let r=i.getDeployedEntity;if(r.constructor.name===Zl.name){let o=i.getProperties().find(s=>s.getKey==="replicas").value;t.has(r.getId)?t.set(r.getId,t.get(r.getId)+o):t.set(r.getId,o)}}return t.size===0?"n/a":Ix(Array.from(t.values()))},storageReplicationLevel:e=>{let t=new Map;for(const[n,i]of e.getDeploymentMappingEntities.entries()){let r=i.getDeployedEntity;if(r.constructor.name===Xa.name){let o=i.getProperties().find(s=>s.getKey==="replicas").value;t.has(r.getId)?t.set(r.getId,t.get(r.getId)+o):t.set(r.getId,o)}}return t.size===0?"n/a":Ix(Array.from(t.values()))},externallyAvailableEndpoints:e=>[...e.getComponentEntities.entries()].map(t=>t[1].getExternalEndpointEntities.length).reduce((t,n)=>t+n,0),dataShardingLevel:e=>{let t=[...e.getComponentEntities.entries()].map(n=>n[1]).filter(n=>n.constructor.name===Xa.name);return t.length===0?"n/a":Ix(t.map(n=>n.getProperties().find(i=>i.getKey==="shards").value))}};var Ql,Vg,Gg,Wg;class pZ{constructor(t,n,i){Ce(this,Ql,void 0);Ce(this,Vg,void 0);Ce(this,Gg,void 0);Ce(this,Wg,void 0);De(this,Ql,t),De(this,Vg,n),De(this,Wg,i)}get getEvaluatedFactor(){return O(this,Ql)}get getEvaluationId(){return O(this,Vg)}get getReasoning(){return O(this,Wg)}addEvaluation(t){De(this,Gg,t)}evaluate(t){let n=[];for(const i of O(this,Ql).getImpactingFactors()){let r=t.get(i.getId);if(r){let o=r.forwardImpacts.find(s=>s.impactedFactorKey===O(this,Ql).getId);o&&n.push(o)}}return O(this,Gg).call(this,O(this,Ql),n,t)}}Ql=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,Wg=new WeakMap;function gN(){const e=new gZ;for(const[t,n]of Object.entries(fN)){let i=new uZ(t,n.name,n.description,n.relation);e.entities.push(i)}for(const[t,n]of Object.entries(Fc.qualityAspects)){let i=new sZ(t,n.name);e.highLevelAspects.push(i);for(const[r,o]of Object.entries(n.aspects)){let s=new qC(r,o.name,t,o.description);e.qualityAspects.push(s)}}for(const[t,n]of Object.entries(Fc.factorCategories))e.factorCategories.push({categoryKey:t,categoryName:n.name});for(const[t,n]of Object.entries(Fc.measures)){let i=new lZ(t,n.name,n.calculation);n.sources.forEach(r=>{let o=Sy[r]?Sy[r].url:"";i.addSource(new Wk(r,"",o))}),jk[t]&&i.addCalculation(jk[t]),e.measures.push(i)}for(const[t,n]of Object.entries(Fc.productFactors)){n.categories.map(r=>{if(e.findFactorCategory(r))return r;throw new Error(`Category with key ${r} in product factor ${t} does not exist!`)});let i=new cZ(t,n.name,n.description,n.categories);n.relevantEntities.forEach(r=>i.addRelevantEntity(r)),n.sources.forEach(r=>{let o=Sy[r.key]?Sy[r.key].url:"";i.addSource(new Wk(r.key,r.section,o))});for(const r of n.measures){let o=e.findMeasure(r);if(o)i.addMeasure(o);else throw Error("No measure with key "+r+" could be found, please check the quality model definition.")}e.productFactors.push(i)}for(const t of Fc.impacts){let n=(()=>{let s=e.findQualityAspect(t.impactedFactor);if(s)return s;{let a=e.findProductFactor(t.impactedFactor);if(a)return a;throw Error("No quality aspect or product factor with key: "+t.impactedFactor+" could be found, please check the quality model definition.")}})(),i=(()=>{let s=e.findProductFactor(t.sourceFactor);if(s)return s;throw Error("No product factor with key: "+t.sourceFactor+" could be found, please check the quality model definition.")})(),r=(()=>{switch(t.impactType){case"positive":return"+";case"negative":return"-";default:return"o"}})(),o=new aZ(n,i,r);n.addIncomingImpact(o),i.addOutgoingImpact(o),e.impacts.push(o)}for(const t of Fc.productFactorEvaluations){let n=e.findProductFactor(t.targetFactor);if(n){let i=new fZ(n,t.evaluation,t.reasoning),r=dZ[i.getEvaluationId];if(r)i.addEvaluation(r),n.addEvaluation(i);else throw new Error(`No evaluation implementation found with id ${i.getEvaluationId}`)}else throw new Error(`There is no product factor with key ${t.targetFactor}`)}for(const t of Fc.qualityAspectEvaluations){let n=e.findQualityAspect(t.targetAspect);if(n){let i=new pZ(n,t.evaluation,t.reasoning),r=hZ[i.getEvaluationId];if(r)i.addEvaluation(r),n.addEvaluation(i);else throw new Error(`No evaluation implementation found with id ${i.getEvaluationId}`)}else throw new Error(`There is no quality aspect with key ${t.targetAspect}`)}return e}class gZ{constructor(){Hi(this,"highLevelAspects");Hi(this,"qualityAspects");Hi(this,"productFactors");Hi(this,"factorCategories");Hi(this,"impacts");Hi(this,"measures");Hi(this,"entities");this.highLevelAspects=[],this.qualityAspects=[],this.productFactors=[],this.factorCategories=[],this.impacts=[],this.measures=[],this.entities=[]}findQualityAspect(t){return this.qualityAspects.find(n=>n.getId===t)}findFactorCategory(t){return this.factorCategories.find(n=>n.categoryKey===t)}findProductFactor(t){return this.productFactors.find(n=>n.getId===t)}findMeasure(t){return this.measures.find(n=>n.getId===t)}findEntity(t){return this.entities.find(n=>n.getKey===t)}}function mZ(e,t){let n=e.map(u=>u.id);const i=t.qualityAspects.filter(u=>n.includes(u.getId)),r=i.length;let o=Array.from({length:r},u=>Array(r).fill(0)),s=0;for(const u of i){let f=0;for(const d of i){if(f<s){f=f+1;continue}if(s===f){o[s][f]=1,f=f+1;continue}let b=u.getHighLevelAspectKey===d.getHighLevelAspectKey?.5:0,x=u.getImpactingFactors().map(F=>F.getId),C=d.getImpactingFactors().map(F=>F.getId),k=[...new Set([...x,...C])],T=x.filter(F=>C.includes(F)),A=k.length===0?0:T.length/k.length,R=b*.3+A*.7;o[s][f]=R,o[f][s]=R,f=f+1}s=s+1}let a=[],l=Array.from(Array(r).keys());for(;l.length>0;)if(a.length===0)a.push(l[0]),l.splice(0,1);else{let u=a[a.length-1],f=Math.max(...o[u].filter((m,b)=>b!==u&&!a.includes(b))),d=o[u].findIndex((m,b)=>m===f&&b!==u&&!a.includes(b));a.push(d),l.splice(l.findIndex(m=>m===d),1)}for(let u=0;u<r;u=u+1){let f=i[a[u]].getId,d=e.findIndex(m=>m.id===f);d!==u&&(e[u]=e.splice(d,1,e[u])[0])}}function yZ(e,t){let n=e.clientWidth-20,i=e.clientHeight-20,r=new $C,o=r.prop("defaults/size/width"),s=r.prop("defaults/size/height"),a=Math.floor(n/(o+10)),l=Math.floor(i/(s+10)),u=[{side:"top",sideX:10,sideY:10,sideLength:n,elementLength:o,elements:0,maximum:a,maximumReached:!1,spaceBetween:0},{side:"right",sideX:10+n-o,sideY:10+s,sideLength:i,elementLength:s,elements:0,maximum:l-2,maximumReached:!1,spaceBetween:0},{side:"bottom",sideX:10+n-o,sideY:10+i-s,sideLength:n,elementLength:o,elements:0,maximum:a,maximumReached:!1,spaceBetween:0},{side:"left",sideX:10,sideY:10+i-s,sideLength:i,elementLength:s,elements:0,maximum:l-2,maximumReached:!1,spaceBetween:0}],f=t.length,d=0;for(;f>0&&u.some(x=>!x.maximumReached);){let x=u[d];x.elements<x.maximum?(x.elements=x.elements+1,f=f-1):x.maximumReached=!0,d=d===3?0:d+1}if(f>0)throw Error("Not enough space for all quality aspects");for(const x of u)switch(x.side){case"top":case"bottom":let C=x.elements*x.elementLength,k=x.sideLength-C,T=x.elements+1;x.spaceBetween=Math.floor(k/T);break;case"right":case"left":let A=(x.elements+2)*x.elementLength,R=x.sideLength-A,F=x.elements+1;x.spaceBetween=Math.floor(R/F);break}let m=0,b=[0,0,0,0];for(let x=0;x<4;x++){let C=u[x],k=C.sideX,T=C.sideY,A=(R,F)=>({x:R,y:F});switch(C.side){case"top":k=C.sideX+C.spaceBetween,A=(R,F)=>({x:R+C.spaceBetween+C.elementLength,y:F});break;case"right":T=C.sideY+C.spaceBetween,A=(R,F)=>({x:R,y:F+C.spaceBetween+C.elementLength});break;case"bottom":k=k-C.spaceBetween,A=(R,F)=>({x:R-C.spaceBetween-C.elementLength,y:F});break;case"left":T=C.sideY-C.spaceBetween,A=(R,F)=>({x:R,y:F-C.spaceBetween-C.elementLength});break}for(;b[x]<C.elements;){let R=t[m];R.translate(k-R.position().x,T-R.position().y),b[x]=b[x]+1,m=m+1;let F=A(k,T);k=F.x,T=F.y}}}function vZ(e,t,n,i,r){let o=e.clientWidth/2,s=e.clientHeight/2,a=n.map(m=>m.id.toString()),l=i.map(m=>m.id.toString()),u=i.map(m=>m.id.toString()),f=n.map(m=>m.id.toString());const d=1e3;e:for(;u.length>0;){let m=u[0],b=i.find(pe=>pe.id===m),x=b.size().width/2,C=b.size().height/2,k=r.findProductFactor(b.id.toString()).getImpactedFactors().filter(pe=>{for(const ae of l)if(pe.getId===ae)return!0;for(const ae of a)if(pe.getId===ae)return!0;return!1});if(k.length===0)throw new Error(`No impacted factors found for: ${m}`);t:for(const pe of k){if(!a.includes(pe.getId)&&!l.includes(pe.getId))continue t;if(!f.includes(pe.getId)){u.push(u.splice(0,1)[0]);continue e}}let T=k.map(pe=>pe.constructor.name===qC.name?n.find(ae=>ae.id===pe.getId):i.find(ae=>ae.id===pe.getId)).filter(pe=>pe!==void 0),A=T.map(pe=>pe.position().x+x).reduce(function(pe,ae){return pe+ae})/T.length,R=T.map(pe=>pe.position().y+C).reduce(function(pe,ae){return pe+ae})/T.length;const F=Math.sqrt(Math.pow(o-A,2)+Math.pow(s-R,2)),Z=120,ee=Z/F,g=15,L=Math.ceil(360/g);let M=(1-ee)*A+ee*o-x,z=(1-ee)*R+ee*s-C;b.translate(M-b.position().x,z-b.position().y);let Q=t.findModelsInArea(b.getBBox().moveAndExpand({x:-10,y:-10,width:20,height:20})).filter(pe=>pe!==b).length>0,de=b.position().x<0||b.position().x+b.size().width>e.clientWidth||b.position().y<0||b.position().y+b.size().height>e.clientHeight,ce=1;for(;(Q||de)&&ce<d;){let pe=ce*ee;if(T.length>1&&pe<0)M=(1-pe)*A+pe*o-x,z=(1-pe)*R+pe*s-C,b.translate(M-b.position().x,z-b.position().y),ce=ce+1;else{let ae=M-A,q=z-R,G=Z*(Math.floor(ce/L)+1),j=bZ(ae,q);j<0&&(j=j+360);let te=ce%2===0?j-ce/2*g:j+(ce-(ce-1)/2)*g,le=G*Math.cos(te*(Math.PI/180))+A-x,Ae=G*Math.sin(te*(Math.PI/180))+R-C;b.translate(le-b.position().x,Ae-b.position().y),ce=ce+1}Q=t.findModelsInArea(b.getBBox().moveAndExpand({x:-10,y:-10,width:20,height:20})).filter(ae=>ae!==b).length>0,de=b.position().x<0||b.position().x+b.size().width>e.clientWidth||b.position().y<0||b.position().y+b.size().height>e.clientHeight}f.push(u.splice(0,1)[0])}}function bZ(e,t){return Math.atan2(t,e)*180/Math.PI}const _Z={class:"filterToolbar p-1"},xZ={class:"filterTool"},wZ=X("span",null,"Quality aspect filter:",-1),CZ=["id","onUpdate:modelValue","value"],TZ=["for"],SZ={class:"filterTool"},EZ=X("span",null,"Product factor filter:",-1),AZ=["id","onUpdate:modelValue","value"],kZ=["for"];function _d(e){return Object.entries(e).filter(t=>t[1].checked).map(t=>t[1].key)}function mN(e){let t={};for(const n of[...new Set(e.qualityAspects.map(i=>i.getHighLevelAspectKey))])t[n]={key:n,name:e.highLevelAspects.find(i=>i.getId===n).getName,checked:!0};return t}function yN(e){let t={};for(const n of e.factorCategories)t[n.categoryKey]={key:n.categoryKey,name:n.categoryName,checked:!0};return t}function vN(e,t,n){let i=n.qualityAspects.filter(s=>e.includes(s.getHighLevelAspectKey)).map(s=>s.getId),r=new Set,o=[];for(const s of n.productFactors){if(!IZ(s.getCategories,t))continue;let a=!1,l=[];l.push(...s.getImpactedFactors());let u=0;for(;u<l.length;){let f=l[u];f.constructor.name===qC.name?i.includes(f.getId)&&(a=!0,r.add(f.getId)):l.push(...f.getImpactedFactors()),u=u+1}a&&o.push(s.getId)}return i=i.filter(s=>r.has(s)),{activeQualityAspects:i,activeProductFactors:o}}function IZ(e,t){return e.some(n=>t.includes(n))}const bN=Zi({__name:"FilterToolbar",props:{highLevelAspectFilter:{},factorCategoryFilter:{}},emits:["update:filters"],setup(e,{emit:t}){const n=e,i=t;function r(){i("update:filters",n.highLevelAspectFilter,n.factorCategoryFilter)}return(o,s)=>(He(),Ke("div",_Z,[X("div",xZ,[wZ,(He(!0),Ke(Gt,null,kn(Object.entries(o.highLevelAspectFilter),([a,l])=>(He(),Ke("div",null,[dn(X("input",{id:`${a}-filter`,onChange:s[0]||(s[0]=u=>r()),"onUpdate:modelValue":u=>l.checked=u,class:"filterCheckbox",type:"checkbox",value:a},null,40,CZ),[[Ed,l.checked]]),X("span",{class:"",for:`${a}-filter`},Mt(l.name),9,TZ)]))),256))]),X("div",SZ,[EZ,(He(!0),Ke(Gt,null,kn(Object.entries(o.factorCategoryFilter),([a,l])=>(He(),Ke("div",null,[dn(X("input",{id:`${a}-filter`,onChange:s[1]||(s[1]=u=>r()),"onUpdate:modelValue":u=>l.checked=u,class:"filterCheckbox",type:"checkbox",value:a},null,40,AZ),[[Ed,l.checked]]),X("span",{class:"",for:`${a}-filter`},Mt(l.name),9,kZ)]))),256))])]))}}),PZ={class:"qualityModelView"},OZ={class:"paperContainer"},LZ={class:"qualityModelDetails"},DZ=X("div",{class:"detailsHeading"},"Factor Details",-1),NZ={class:"detailsBody p-2"},MZ={key:0,class:"factorDetails"},FZ={class:"font-italic"},RZ={key:0},BZ=X("span",null,"Entities which are relevant for this factor: ",-1),$Z=X("br",null,null,-1),qZ={key:1},zZ=X("span",null,"Categories that this factor is assigned to: ",-1),UZ=X("br",null,null,-1),HZ={key:2},VZ=X("span",null,"Read more:",-1),GZ=["href"],WZ={key:3},jZ=X("span",null,"Potential measures:",-1),KZ={class:"font-italics"},YZ=X("span",null," (",-1),XZ=["href"],JZ={key:1},QZ=X("span",null," )",-1),ZZ={key:1},Kk=Zi({__name:"QualityModelApp",props:{active:{type:Boolean},path:{}},setup(e){let t=!0,n=!1;const i=e,r=Jn(()=>i.active),o=L2(),s=nn(null),a=nn(null),l=oZ,u=new Du({},{cellNamespace:l}),f=nn(null),d=gN(),m=mN(d),b=yN(d),x=[],C=[],k=[],T=nn(null),A=Jn(()=>{if(!T.value)return null;let z=d.findQualityAspect(T.value.model.id.toString());return z||d.findProductFactor(T.value.model.id.toString())});pa(()=>{if(f.value=new wv({el:ws("#qmPaper"),model:u,width:1600,height:1400,gridSize:10,drawGrid:!0,async:!0,background:{color:"rgba(230, 230, 230, 0.3)"},cellViewNamespace:l}),f.value.render(),F(_d(m),_d(b)),f.value.on({"element:pointerdown":function(z,Q,de,ce){L(z)},"blank:pointerdown":function(z,Q,de){M()}}),R(),o.currentRoute.value.params.factorKey){let z=o.currentRoute.value.params.factorKey,Q=x.find(de=>de.id===z);Q||(Q=C.find(de=>de.id===z)),Q?L(Q.findView(f.value)):o.replace({path:i.path})}}),Hf(r,(z,Q)=>{t&&Q===!1&&z===!0&&(n=!0,t=!1)}),s0(()=>{n&&R()});function R(){ws("#qmPaper").is(":visible")?(Z(),n=!1):setTimeout(R,50)}function F(z,Q){u.clear(),x.length=0,C.length=0,k.length=0;let de=vN(z,Q,d),ce=-50,pe=-50;for(const le of d.qualityAspects)if(de.activeQualityAspects.includes(le.getId)){var ae=new $C({id:le.getId,position:{x:ce,y:pe},attrs:{body:{class:"entityHighlighting"},label:{textWrap:{text:yv(le.getName,{width:150})}}}});ae.addTo(u,{async:!1}),x.push(ae)}let q=x.map(le=>le.id);for(const le of d.productFactors)if(de.activeProductFactors.includes(le.getId)){var G=new dN({id:le.getId,position:{x:ce,y:pe},attrs:{body:{class:"entityHighlighting"},label:{text:yv(le.getName,{width:110,height:50},{"font-size":12},{ellipsis:"..."})}}});G.addTo(u,{async:!1}),C.push(G)}let j=C.map(le=>le.id);for(const le of d.impacts)if(!(!q.includes(le.getImpactedFactor.getId)&&!j.includes(le.getImpactedFactor.getId)||!j.includes(le.getSourceFactor.getId))){var te=new hN;te.source(u.getCell(le.getSourceFactor.getId),{anchor:{name:"modelCenter"},connectionPoint:{name:"boundary",args:{sticky:!1}}}),te.target(u.getCell(le.getImpactedFactor.getId),{anchor:{name:"modelCenter"},connectionPoint:{name:"boundary",args:{sticky:!1}}}),te.appendLabel({attrs:{text:{text:le.getImpactType}}}),te.connector({name:"rounded"}),te.router({name:"normal"}),te.addTo(u),te.toBack(),k.push(te)}}function Z(){mZ(x,d),yZ(a.value,x),vZ(a.value,u,x,C,d),setTimeout(ee,50)}function ee(){for(const z of k)z.toBack()}function g(){F(_d(m),_d(b)),Z()}function L(z){T.value=z,history.pushState({},null,`${i.path}/${z.model.id}`),u.getLinks().forEach(function(Q){Ka.remove(Q.findView(f.value)),Q.toBack()}),u.getConnectedLinks(z.model).forEach(Q=>{Ka.add(Q.findView(f.value),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})})}function M(){T.value=null,o.replace({path:i.path}),u.getLinks().forEach(function(z){Ka.remove(z.findView(f.value))})}return(z,Q)=>(He(),Ke("div",{class:"qualitymodel-container",ref_key:"qmContainer",ref:s},[Dn(bN,{highLevelAspectFilter:Xn(m),factorCategoryFilter:Xn(b),"onUpdate:filters":g},null,8,["highLevelAspectFilter","factorCategoryFilter"]),X("div",PZ,[X("div",OZ,[X("div",{id:"qmPaper",ref_key:"qmPaper",ref:a},null,512)]),X("div",LZ,[DZ,X("div",NZ,[A.value?(He(),Ke("div",MZ,[X("h3",null,Mt(A.value.getName),1),X("p",FZ,Mt(A.value.getDescription),1),A.value.getFactorType==="productFactor"?(He(),Ke("div",RZ,[BZ,$Z,X("span",null,Mt(A.value.getRelevantEntities.map(de=>Xn(fN)[de].name).join(", ")),1)])):cn("",!0),A.value.getFactorType==="productFactor"?(He(),Ke("div",qZ,[zZ,UZ,X("span",null,Mt(A.value.getCategories.map(de=>Xn(d).findFactorCategory(de).categoryName).join(", ")),1)])):cn("",!0),A.value.getFactorType==="productFactor"&&A.value.getSources.length>0?(He(),Ke("div",HZ,[VZ,X("ul",null,[(He(!0),Ke(Gt,null,kn(A.value.getSources,de=>(He(),Ke("li",null,[X("span",null,[X("a",{href:de.getUrl},[X("span",null,Mt(de.getKey),1)],8,GZ),ii(": "+Mt(de.getInfo),1)])]))),256))])])):cn("",!0),A.value.getFactorType==="productFactor"&&A.value.getMeasures.length>0?(He(),Ke("div",WZ,[jZ,X("ul",null,[(He(!0),Ke(Gt,null,kn(A.value.getMeasures,de=>(He(),Ke("li",null,[X("span",KZ,Mt(de.getName),1),YZ,(He(!0),Ke(Gt,null,kn(de.getSources,ce=>(He(),Ke("span",null,[ce.getUrl?(He(),Ke("a",{key:0,href:ce.getUrl},[X("span",null,Mt(ce.getKey)+", ",1)],8,XZ)):(He(),Ke("span",JZ,Mt(ce.getKey),1))]))),256)),QZ]))),256))])])):cn("",!0)])):cn("",!0),A.value?cn("",!0):(He(),Ke("div",ZZ,"Select a factor to see it's details here"))])])])],512))}});var wh,du,Qs,Zs,Ch;class eee{constructor(t,n){Ce(this,wh,void 0);Ce(this,du,void 0);Ce(this,Qs,void 0);Ce(this,Zs,void 0);Ce(this,Ch,void 0);De(this,wh,t),De(this,du,n),De(this,Qs,new Map),De(this,Zs,new Map),De(this,Ch,new Map)}get getCalculatedMeasures(){return O(this,Qs)}get getEvaluatedProductFactors(){return O(this,Zs)}get getEvaluatedQualityAspects(){return O(this,Ch)}evaluate(t,n){let i=O(this,du).productFactors.slice(0);e:for(;i.length>0;){let r=i[0];if(!n.includes(r.getId)){i.splice(0,1);continue e}for(const a of r.getImpactingFactors())if(!O(this,Zs).has(a.getId)&&n.includes(a.getId)){i.push(i.splice(0,1)[0]);continue e}let o=new Map;r.getMeasures.forEach(a=>{if(O(this,Qs).has(a.getId)){o.set(a.getId,O(this,Qs).get(a.getId));return}if(a.isCalculationAvailable()){let l={name:a.getName,value:a.calculate(O(this,wh)),description:a.getCalculationDescription};o.set(a.getId,l),O(this,Qs).set(a.getId,l)}});let s={id:r.getId,name:r.getName,factorType:"productFactor",productFactor:r,result:r.isEvaluationAvailable()?r.evaluate(this):"n/a",measures:o,forwardImpacts:[],backwardImpacts:[]};for(const a of r.getOutgoingImpacts)(n.includes(a.getImpactedFactor.getId)||t.includes(a.getImpactedFactor.getId))&&s.forwardImpacts.push({impactedFactorKey:a.getImpactedFactor.getId,impactedFactorName:a.getImpactedFactor.getName,impactType:a.getImpactType,weight:tee(s.result,a.getImpactType)});for(const a of r.getIncomingImpacts)if(n.includes(a.getSourceFactor.getId)){let l=O(this,Zs).get(a.getSourceFactor.getId),u=l.forwardImpacts.find(f=>f.impactedFactorKey===r.getId);u.impactedFactor=s,s.backwardImpacts.push({impactingFactorKey:l.id,impactingFactorName:l.name,impactType:a.getImpactType,weight:u.weight,impactingFactor:l})}O(this,Zs).set(r.getId,s),i.splice(0,1)}e:for(const r of O(this,du).qualityAspects){if(!t.includes(r.getId))continue e;let o={id:r.getId,name:r.getName,factorType:"qualityAspect",qualityAspect:r,result:r.isEvaluationAvailable()?r.evaluate(this):"n/a",backwardImpacts:[]};for(const s of r.getIncomingImpacts)if(n.includes(s.getSourceFactor.getId)){let a=O(this,Zs).get(s.getSourceFactor.getId);o.backwardImpacts.push({impactingFactorKey:a.id,impactingFactorName:a.name,impactType:s.getImpactType,weight:a.forwardImpacts.find(l=>l.impactedFactorKey===o.id).weight,impactingFactor:a}),O(this,Zs).get(s.getSourceFactor.getId).forwardImpacts.find(l=>l.impactedFactorKey===o.id).impactedFactor=o}O(this,Ch).set(o.id,o)}O(this,du).measures.forEach(r=>{if(!O(this,Qs).has(r.getId)&&r.isCalculationAvailable()){let o={name:r.getName,value:r.calculate(O(this,wh)),description:r.getCalculationDescription};O(this,Qs).set(r.getId,o)}})}}wh=new WeakMap,du=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,Ch=new WeakMap;function tee(e,t){if(e==="n/a")return"n/a";if(typeof e=="string")switch(e){case"none":return"neutral";case"low":if(t==="+"||t==="++")return"slightly positive";if(t==="--"||t==="-")return"slightly negative";break;case"high":if(t==="+"||t==="++")return"positive";if(t==="--"||t==="-")return"negative";break}else if(typeof e=="number"){if(e===0)return"neutral";if(e>0&&e<.5){if(t==="+"||t==="++")return"slightly positive";if(t==="--"||t==="-")return"slightly negative"}if(e>=.5&&e<=1){if(t==="+"||t==="++")return"positive";if(t==="--"||t==="-")return"negative"}throw new Error("A numeric evaluation result for a product factor should be between 0 and 1, here it is: "+e)}else if(e.tendency&&e.impacts)switch(e.tendency){case"positive":return"slightly positive";case"neutral":return"neutral";case"negative":return"slightly negative";case"n/a":default:return"n/a"}}function nee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(a,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?a.concat(u.map(function(f){var d,m;return(m=(d=f.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&m!==void 0?m:0})):a},[]);if(r.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(a){return a.replace(o,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return t.forEach(function(a,l){var u=s.match(/(?:^|\n)( *)$/),f=u?u[1]:"",d=a;typeof a=="string"&&a.includes(`
`)&&(d=String(a).split(`
`).map(function(m,b){return b===0?m:""+f+m}).join(`
`)),s+=d+i[l+1]}),s}const iee="modulepreload",ree=function(e){return"/"+e},Yk={},bi=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(l=>{if(l=ree(l),l in Yk)return;Yk[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let b=o.length-1;b>=0;b--){const x=o[b];if(x.href===l&&(!u||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":iee,u||(m.as="script",m.crossOrigin=""),m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((b,x)=>{m.addEventListener("load",b),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var _N={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Va,function(){var n=1e3,i=6e4,r=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",f="week",d="month",m="quarter",b="year",x="date",C="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(pe){var ae=["th","st","nd","rd"],q=pe%100;return"["+pe+(ae[(q-20)%10]||ae[q]||ae[0])+"]"}},R=function(pe,ae,q){var G=String(pe);return!G||G.length>=ae?pe:""+Array(ae+1-G.length).join(q)+pe},F={s:R,z:function(pe){var ae=-pe.utcOffset(),q=Math.abs(ae),G=Math.floor(q/60),j=q%60;return(ae<=0?"+":"-")+R(G,2,"0")+":"+R(j,2,"0")},m:function pe(ae,q){if(ae.date()<q.date())return-pe(q,ae);var G=12*(q.year()-ae.year())+(q.month()-ae.month()),j=ae.clone().add(G,d),te=q-j<0,le=ae.clone().add(G+(te?-1:1),d);return+(-(G+(q-j)/(te?j-le:le-j))||0)},a:function(pe){return pe<0?Math.ceil(pe)||0:Math.floor(pe)},p:function(pe){return{M:d,y:b,w:f,d:u,D:x,h:l,m:a,s,ms:o,Q:m}[pe]||String(pe||"").toLowerCase().replace(/s$/,"")},u:function(pe){return pe===void 0}},Z="en",ee={};ee[Z]=A;var g="$isDayjsObject",L=function(pe){return pe instanceof de||!(!pe||!pe[g])},M=function pe(ae,q,G){var j;if(!ae)return Z;if(typeof ae=="string"){var te=ae.toLowerCase();ee[te]&&(j=te),q&&(ee[te]=q,j=te);var le=ae.split("-");if(!j&&le.length>1)return pe(le[0])}else{var Ae=ae.name;ee[Ae]=ae,j=Ae}return!G&&j&&(Z=j),j||!G&&Z},z=function(pe,ae){if(L(pe))return pe.clone();var q=typeof ae=="object"?ae:{};return q.date=pe,q.args=arguments,new de(q)},Q=F;Q.l=M,Q.i=L,Q.w=function(pe,ae){return z(pe,{locale:ae.$L,utc:ae.$u,x:ae.$x,$offset:ae.$offset})};var de=function(){function pe(q){this.$L=M(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[g]=!0}var ae=pe.prototype;return ae.parse=function(q){this.$d=function(G){var j=G.date,te=G.utc;if(j===null)return new Date(NaN);if(Q.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var le=j.match(k);if(le){var Ae=le[2]-1||0,ke=(le[7]||"0").substring(0,3);return te?new Date(Date.UTC(le[1],Ae,le[3]||1,le[4]||0,le[5]||0,le[6]||0,ke)):new Date(le[1],Ae,le[3]||1,le[4]||0,le[5]||0,le[6]||0,ke)}}return new Date(j)}(q),this.init()},ae.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},ae.$utils=function(){return Q},ae.isValid=function(){return this.$d.toString()!==C},ae.isSame=function(q,G){var j=z(q);return this.startOf(G)<=j&&j<=this.endOf(G)},ae.isAfter=function(q,G){return z(q)<this.startOf(G)},ae.isBefore=function(q,G){return this.endOf(G)<z(q)},ae.$g=function(q,G,j){return Q.u(q)?this[G]:this.set(j,q)},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this.$d.getTime()},ae.startOf=function(q,G){var j=this,te=!!Q.u(G)||G,le=Q.p(q),Ae=function(qe,Fe){var xe=Q.w(j.$u?Date.UTC(j.$y,Fe,qe):new Date(j.$y,Fe,qe),j);return te?xe:xe.endOf(u)},ke=function(qe,Fe){return Q.w(j.toDate()[qe].apply(j.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(Fe)),j)},rt=this.$W,Be=this.$M,st=this.$D,lt="set"+(this.$u?"UTC":"");switch(le){case b:return te?Ae(1,0):Ae(31,11);case d:return te?Ae(1,Be):Ae(0,Be+1);case f:var Se=this.$locale().weekStart||0,$e=(rt<Se?rt+7:rt)-Se;return Ae(te?st-$e:st+(6-$e),Be);case u:case x:return ke(lt+"Hours",0);case l:return ke(lt+"Minutes",1);case a:return ke(lt+"Seconds",2);case s:return ke(lt+"Milliseconds",3);default:return this.clone()}},ae.endOf=function(q){return this.startOf(q,!1)},ae.$set=function(q,G){var j,te=Q.p(q),le="set"+(this.$u?"UTC":""),Ae=(j={},j[u]=le+"Date",j[x]=le+"Date",j[d]=le+"Month",j[b]=le+"FullYear",j[l]=le+"Hours",j[a]=le+"Minutes",j[s]=le+"Seconds",j[o]=le+"Milliseconds",j)[te],ke=te===u?this.$D+(G-this.$W):G;if(te===d||te===b){var rt=this.clone().set(x,1);rt.$d[Ae](ke),rt.init(),this.$d=rt.set(x,Math.min(this.$D,rt.daysInMonth())).$d}else Ae&&this.$d[Ae](ke);return this.init(),this},ae.set=function(q,G){return this.clone().$set(q,G)},ae.get=function(q){return this[Q.p(q)]()},ae.add=function(q,G){var j,te=this;q=Number(q);var le=Q.p(G),Ae=function(Be){var st=z(te);return Q.w(st.date(st.date()+Math.round(Be*q)),te)};if(le===d)return this.set(d,this.$M+q);if(le===b)return this.set(b,this.$y+q);if(le===u)return Ae(1);if(le===f)return Ae(7);var ke=(j={},j[a]=i,j[l]=r,j[s]=n,j)[le]||1,rt=this.$d.getTime()+q*ke;return Q.w(rt,this)},ae.subtract=function(q,G){return this.add(-1*q,G)},ae.format=function(q){var G=this,j=this.$locale();if(!this.isValid())return j.invalidDate||C;var te=q||"YYYY-MM-DDTHH:mm:ssZ",le=Q.z(this),Ae=this.$H,ke=this.$m,rt=this.$M,Be=j.weekdays,st=j.months,lt=j.meridiem,Se=function(Fe,xe,Ie,U){return Fe&&(Fe[xe]||Fe(G,te))||Ie[xe].slice(0,U)},$e=function(Fe){return Q.s(Ae%12||12,Fe,"0")},qe=lt||function(Fe,xe,Ie){var U=Fe<12?"AM":"PM";return Ie?U.toLowerCase():U};return te.replace(T,function(Fe,xe){return xe||function(Ie){switch(Ie){case"YY":return String(G.$y).slice(-2);case"YYYY":return Q.s(G.$y,4,"0");case"M":return rt+1;case"MM":return Q.s(rt+1,2,"0");case"MMM":return Se(j.monthsShort,rt,st,3);case"MMMM":return Se(st,rt);case"D":return G.$D;case"DD":return Q.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return Se(j.weekdaysMin,G.$W,Be,2);case"ddd":return Se(j.weekdaysShort,G.$W,Be,3);case"dddd":return Be[G.$W];case"H":return String(Ae);case"HH":return Q.s(Ae,2,"0");case"h":return $e(1);case"hh":return $e(2);case"a":return qe(Ae,ke,!0);case"A":return qe(Ae,ke,!1);case"m":return String(ke);case"mm":return Q.s(ke,2,"0");case"s":return String(G.$s);case"ss":return Q.s(G.$s,2,"0");case"SSS":return Q.s(G.$ms,3,"0");case"Z":return le}return null}(Fe)||le.replace(":","")})},ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ae.diff=function(q,G,j){var te,le=this,Ae=Q.p(G),ke=z(q),rt=(ke.utcOffset()-this.utcOffset())*i,Be=this-ke,st=function(){return Q.m(le,ke)};switch(Ae){case b:te=st()/12;break;case d:te=st();break;case m:te=st()/3;break;case f:te=(Be-rt)/6048e5;break;case u:te=(Be-rt)/864e5;break;case l:te=Be/r;break;case a:te=Be/i;break;case s:te=Be/n;break;default:te=Be}return j?te:Q.a(te)},ae.daysInMonth=function(){return this.endOf(d).$D},ae.$locale=function(){return ee[this.$L]},ae.locale=function(q,G){if(!q)return this.$L;var j=this.clone(),te=M(q,G,!0);return te&&(j.$L=te),j},ae.clone=function(){return Q.w(this.$d,this)},ae.toDate=function(){return new Date(this.valueOf())},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toISOString=function(){return this.$d.toISOString()},ae.toString=function(){return this.$d.toUTCString()},pe}(),ce=de.prototype;return z.prototype=ce,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",b],["$D",x]].forEach(function(pe){ce[pe[1]]=function(ae){return this.$g(ae,pe[0],pe[1])}}),z.extend=function(pe,ae){return pe.$i||(pe(ae,de,z),pe.$i=!0),z},z.locale=M,z.isDayjs=L,z.unix=function(pe){return z(1e3*pe)},z.en=ee[Z],z.Ls=ee,z.p={},z})})(_N);var oee=_N.exports;const see=D2(oee);var xN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,s=[".","/"];e.BLANK_URL="about:blank";function a(f){return s.indexOf(f[0])>-1}function l(f){var d=f.replace(r,"");return d.replace(n,function(m,b){return String.fromCharCode(b)})}function u(f){if(!f)return e.BLANK_URL;var d=l(f).replace(i,"").replace(r,"").trim();if(!d)return e.BLANK_URL;if(a(d))return d;var m=d.match(o);if(!m)return d;var b=m[0];return t.test(b)?e.BLANK_URL:d}e.sanitizeUrl=u})(xN);var aee={value:()=>{}};function wN(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Xy(n)}function Xy(e){this._=e}function lee(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Xy.prototype=wN.prototype={constructor:Xy,on:function(e,t){var n=this._,i=lee(e+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(e=i[o]).type)&&(r=cee(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=i[o]).type)n[r]=Xk(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Xk(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Xy(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function cee(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Xk(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=aee,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fw="http://www.w3.org/1999/xhtml";const Jk={svg:"http://www.w3.org/2000/svg",xhtml:Fw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function M0(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jk.hasOwnProperty(t)?{space:Jk[t],local:e}:e}function uee(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fw&&t.documentElement.namespaceURI===Fw?t.createElement(e):t.createElementNS(n,e)}}function dee(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function CN(e){var t=M0(e);return(t.local?dee:uee)(t)}function hee(){}function zC(e){return e==null?hee:function(){return this.querySelector(e)}}function fee(e){typeof e!="function"&&(e=zC(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=new Array(s),l,u,f=0;f<s;++f)(l=o[f])&&(u=e.call(l,l.__data__,f,o))&&("__data__"in l&&(u.__data__=l.__data__),a[f]=u);return new ko(i,this._parents)}function pee(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gee(){return[]}function TN(e){return e==null?gee:function(){return this.querySelectorAll(e)}}function mee(e){return function(){return pee(e.apply(this,arguments))}}function yee(e){typeof e=="function"?e=mee(e):e=TN(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(i.push(e.call(l,l.__data__,u,s)),r.push(l));return new ko(i,r)}function SN(e){return function(){return this.matches(e)}}function EN(e){return function(t){return t.matches(e)}}var vee=Array.prototype.find;function bee(e){return function(){return vee.call(this.children,e)}}function _ee(){return this.firstElementChild}function xee(e){return this.select(e==null?_ee:bee(typeof e=="function"?e:EN(e)))}var wee=Array.prototype.filter;function Cee(){return Array.from(this.children)}function Tee(e){return function(){return wee.call(this.children,e)}}function See(e){return this.selectAll(e==null?Cee:Tee(typeof e=="function"?e:EN(e)))}function Eee(e){typeof e!="function"&&(e=SN(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new ko(i,this._parents)}function AN(e){return new Array(e.length)}function Aee(){return new ko(this._enter||this._groups.map(AN),this._parents)}function Hv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hv.prototype={constructor:Hv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function kee(e){return function(){return e}}function Iee(e,t,n,i,r,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Hv(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function Pee(e,t,n,i,r,o,s){var a,l,u=new Map,f=t.length,d=o.length,m=new Array(f),b;for(a=0;a<f;++a)(l=t[a])&&(m[a]=b=s.call(l,l.__data__,a,t)+"",u.has(b)?r[a]=l:u.set(b,l));for(a=0;a<d;++a)b=s.call(e,o[a],a,o)+"",(l=u.get(b))?(i[a]=l,l.__data__=o[a],u.delete(b)):n[a]=new Hv(e,o[a]);for(a=0;a<f;++a)(l=t[a])&&u.get(m[a])===l&&(r[a]=l)}function Oee(e){return e.__data__}function Lee(e,t){if(!arguments.length)return Array.from(this,Oee);var n=t?Pee:Iee,i=this._parents,r=this._groups;typeof e!="function"&&(e=kee(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var f=i[u],d=r[u],m=d.length,b=Dee(e.call(f,f&&f.__data__,u,i)),x=b.length,C=a[u]=new Array(x),k=s[u]=new Array(x),T=l[u]=new Array(m);n(f,d,C,k,T,b,t);for(var A=0,R=0,F,Z;A<x;++A)if(F=C[A]){for(A>=R&&(R=A+1);!(Z=k[R])&&++R<x;);F._next=Z||null}}return s=new ko(s,i),s._enter=a,s._exit=l,s}function Dee(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nee(){return new ko(this._exit||this._groups.map(AN),this._parents)}function Mee(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function Fee(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var u=n[l],f=i[l],d=u.length,m=a[l]=new Array(d),b,x=0;x<d;++x)(b=u[x]||f[x])&&(m[x]=b);for(;l<r;++l)a[l]=n[l];return new ko(a,this._parents)}function Ree(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Bee(e){e||(e=$ee);function t(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,l=r[o]=new Array(a),u,f=0;f<a;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new ko(r,this._parents).order()}function $ee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qee(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zee(){return Array.from(this)}function Uee(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Hee(){let e=0;for(const t of this)++e;return e}function Vee(){return!this.node()}function Gee(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this}function Wee(e){return function(){this.removeAttribute(e)}}function jee(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kee(e,t){return function(){this.setAttribute(e,t)}}function Yee(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xee(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Jee(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Qee(e,t){var n=M0(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?jee:Wee:typeof t=="function"?n.local?Jee:Xee:n.local?Yee:Kee)(n,t))}function kN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zee(e){return function(){this.style.removeProperty(e)}}function ete(e,t,n){return function(){this.style.setProperty(e,t,n)}}function tte(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function nte(e,t,n){return arguments.length>1?this.each((t==null?Zee:typeof t=="function"?tte:ete)(e,t,n??"")):Rh(this.node(),e)}function Rh(e,t){return e.style.getPropertyValue(t)||kN(e).getComputedStyle(e,null).getPropertyValue(t)}function ite(e){return function(){delete this[e]}}function rte(e,t){return function(){this[e]=t}}function ote(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ste(e,t){return arguments.length>1?this.each((t==null?ite:typeof t=="function"?ote:rte)(e,t)):this.node()[e]}function IN(e){return e.trim().split(/^|\s+/)}function UC(e){return e.classList||new PN(e)}function PN(e){this._node=e,this._names=IN(e.getAttribute("class")||"")}PN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ON(e,t){for(var n=UC(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function LN(e,t){for(var n=UC(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function ate(e){return function(){ON(this,e)}}function lte(e){return function(){LN(this,e)}}function cte(e,t){return function(){(t.apply(this,arguments)?ON:LN)(this,e)}}function ute(e,t){var n=IN(e+"");if(arguments.length<2){for(var i=UC(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?cte:t?ate:lte)(n,t))}function dte(){this.textContent=""}function hte(e){return function(){this.textContent=e}}function fte(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pte(e){return arguments.length?this.each(e==null?dte:(typeof e=="function"?fte:hte)(e)):this.node().textContent}function gte(){this.innerHTML=""}function mte(e){return function(){this.innerHTML=e}}function yte(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function vte(e){return arguments.length?this.each(e==null?gte:(typeof e=="function"?yte:mte)(e)):this.node().innerHTML}function bte(){this.nextSibling&&this.parentNode.appendChild(this)}function _te(){return this.each(bte)}function xte(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wte(){return this.each(xte)}function Cte(e){var t=typeof e=="function"?e:CN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Tte(){return null}function Ste(e,t){var n=typeof e=="function"?e:CN(e),i=t==null?Tte:typeof t=="function"?t:zC(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ete(){var e=this.parentNode;e&&e.removeChild(this)}function Ate(){return this.each(Ete)}function kte(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ite(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pte(e){return this.select(e?Ite:kte)}function Ote(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Lte(e){return function(t){e.call(this,t,this.__data__)}}function Dte(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Nte(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Mte(e,t,n){return function(){var i=this.__on,r,o=Lte(t);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Fte(e,t,n){var i=Dte(e+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,f;l<u;++l)for(r=0,f=a[l];r<o;++r)if((s=i[r]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Mte:Nte,r=0;r<o;++r)this.each(a(i[r],t,n));return this}function DN(e,t,n){var i=kN(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Rte(e,t){return function(){return DN(this,e,t)}}function Bte(e,t){return function(){return DN(this,e,t.apply(this,arguments))}}function $te(e,t){return this.each((typeof t=="function"?Bte:Rte)(e,t))}function*qte(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var NN=[null];function ko(e,t){this._groups=e,this._parents=t}function um(){return new ko([[document.documentElement]],NN)}function zte(){return this}ko.prototype=um.prototype={constructor:ko,select:fee,selectAll:yee,selectChild:xee,selectChildren:See,filter:Eee,data:Lee,enter:Aee,exit:Nee,join:Mee,merge:Fee,selection:zte,order:Ree,sort:Bee,call:qee,nodes:zee,node:Uee,size:Hee,empty:Vee,each:Gee,attr:Qee,style:nte,property:ste,classed:ute,text:pte,html:vte,raise:_te,lower:wte,append:Cte,insert:Ste,remove:Ate,clone:Pte,datum:Ote,on:Fte,dispatch:$te,[Symbol.iterator]:qte};function Ho(e){return typeof e=="string"?new ko([[document.querySelector(e)]],[document.documentElement]):new ko([[e]],NN)}function HC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MN(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function dm(){}var Sp=.7,Vv=1/Sp,Od="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ute=/^#([0-9a-f]{3,8})$/,Hte=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),Vte=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),Gte=new RegExp(`^rgba\\(${Od},${Od},${Od},${Ep}\\)$`),Wte=new RegExp(`^rgba\\(${ca},${ca},${ca},${Ep}\\)$`),jte=new RegExp(`^hsl\\(${Ep},${ca},${ca}\\)$`),Kte=new RegExp(`^hsla\\(${Ep},${ca},${ca},${Ep}\\)$`),Qk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HC(dm,Ap,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zk,formatHex:Zk,formatHex8:Yte,formatHsl:Xte,formatRgb:eI,toString:eI});function Zk(){return this.rgb().formatHex()}function Yte(){return this.rgb().formatHex8()}function Xte(){return FN(this).formatHsl()}function eI(){return this.rgb().formatRgb()}function Ap(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ute.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tI(t):n===3?new oo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ey(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ey(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hte.exec(e))?new oo(t[1],t[2],t[3],1):(t=Vte.exec(e))?new oo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gte.exec(e))?Ey(t[1],t[2],t[3],t[4]):(t=Wte.exec(e))?Ey(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jte.exec(e))?rI(t[1],t[2]/100,t[3]/100,1):(t=Kte.exec(e))?rI(t[1],t[2]/100,t[3]/100,t[4]):Qk.hasOwnProperty(e)?tI(Qk[e]):e==="transparent"?new oo(NaN,NaN,NaN,0):null}function tI(e){return new oo(e>>16&255,e>>8&255,e&255,1)}function Ey(e,t,n,i){return i<=0&&(e=t=n=NaN),new oo(e,t,n,i)}function Jte(e){return e instanceof dm||(e=Ap(e)),e?(e=e.rgb(),new oo(e.r,e.g,e.b,e.opacity)):new oo}function Rw(e,t,n,i){return arguments.length===1?Jte(e):new oo(e,t,n,i??1)}function oo(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}HC(oo,Rw,MN(dm,{brighter(e){return e=e==null?Vv:Math.pow(Vv,e),new oo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sp:Math.pow(Sp,e),new oo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oo(bu(this.r),bu(this.g),bu(this.b),Gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nI,formatHex:nI,formatHex8:Qte,formatRgb:iI,toString:iI}));function nI(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function Qte(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function iI(){const e=Gv(this.opacity);return`${e===1?"rgb(":"rgba("}${bu(this.r)}, ${bu(this.g)}, ${bu(this.b)}${e===1?")":`, ${e})`}`}function Gv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jc(e){return e=bu(e),(e<16?"0":"")+e.toString(16)}function rI(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _s(e,t,n,i)}function FN(e){if(e instanceof _s)return new _s(e.h,e.s,e.l,e.opacity);if(e instanceof dm||(e=Ap(e)),!e)return new _s;if(e instanceof _s)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(t===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new _s(s,a,l,e.opacity)}function Zte(e,t,n,i){return arguments.length===1?FN(e):new _s(e,t,n,i??1)}function _s(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}HC(_s,Zte,MN(dm,{brighter(e){return e=e==null?Vv:Math.pow(Vv,e),new _s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sp:Math.pow(Sp,e),new _s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new oo(Px(e>=240?e-240:e+120,r,i),Px(e,r,i),Px(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new _s(oI(this.h),Ay(this.s),Ay(this.l),Gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gv(this.opacity);return`${e===1?"hsl(":"hsla("}${oI(this.h)}, ${Ay(this.s)*100}%, ${Ay(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oI(e){return e=(e||0)%360,e<0?e+360:e}function Ay(e){return Math.max(0,Math.min(1,e||0))}function Px(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const VC=e=>()=>e;function RN(e,t){return function(n){return e+n*t}}function ene(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function hge(e,t){var n=t-e;return n?RN(e,n>180||n<-180?n-360*Math.round(n/360):n):VC(isNaN(e)?t:e)}function tne(e){return(e=+e)==1?BN:function(t,n){return n-t?ene(t,n,e):VC(isNaN(t)?n:t)}}function BN(e,t){var n=t-e;return n?RN(e,n):VC(isNaN(e)?t:e)}const sI=function e(t){var n=tne(t);function i(r,o){var s=n((r=Rw(r)).r,(o=Rw(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),u=BN(r.opacity,o.opacity);return function(f){return r.r=s(f),r.g=a(f),r.b=l(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Bl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Bw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ox=new RegExp(Bw.source,"g");function nne(e){return function(){return e}}function ine(e){return function(t){return e(t)+""}}function rne(e,t){var n=Bw.lastIndex=Ox.lastIndex=0,i,r,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(i=Bw.exec(e))&&(r=Ox.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Bl(i,r)})),n=Ox.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ine(l[0].x):nne(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)a[(d=l[f]).i]=d.x(u);return a.join("")})}var aI=180/Math.PI,$w={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $N(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*aI,skewX:Math.atan(l)*aI,scaleX:s,scaleY:a}}var ky;function one(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$w:$N(t.a,t.b,t.c,t.d,t.e,t.f)}function sne(e){return e==null||(ky||(ky=document.createElementNS("http://www.w3.org/2000/svg","g")),ky.setAttribute("transform",e),!(e=ky.transform.baseVal.consolidate()))?$w:(e=e.matrix,$N(e.a,e.b,e.c,e.d,e.e,e.f))}function qN(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function o(u,f,d,m,b,x){if(u!==d||f!==m){var C=b.push("translate(",null,t,null,n);x.push({i:C-4,x:Bl(u,d)},{i:C-2,x:Bl(f,m)})}else(d||m)&&b.push("translate("+d+t+m+n)}function s(u,f,d,m){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),m.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Bl(u,f)})):f&&d.push(r(d)+"rotate("+f+i)}function a(u,f,d,m){u!==f?m.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Bl(u,f)}):f&&d.push(r(d)+"skewX("+f+i)}function l(u,f,d,m,b,x){if(u!==d||f!==m){var C=b.push(r(b)+"scale(",null,",",null,")");x.push({i:C-4,x:Bl(u,d)},{i:C-2,x:Bl(f,m)})}else(d!==1||m!==1)&&b.push(r(b)+"scale("+d+","+m+")")}return function(u,f){var d=[],m=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,d,m),s(u.rotate,f.rotate,d,m),a(u.skewX,f.skewX,d,m),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,m),u=f=null,function(b){for(var x=-1,C=m.length,k;++x<C;)d[(k=m[x]).i]=k.x(b);return d.join("")}}}var ane=qN(one,"px, ","px)","deg)"),lne=qN(sne,", ",")",")"),Bh=0,Rf=0,kf=0,zN=1e3,Wv,Bf,jv=0,Su=0,F0=0,kp=typeof performance=="object"&&performance.now?performance:Date,UN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function GC(){return Su||(UN(cne),Su=kp.now()+F0)}function cne(){Su=0}function Kv(){this._call=this._time=this._next=null}Kv.prototype=HN.prototype={constructor:Kv,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?GC():+n)+(t==null?0:+t),!this._next&&Bf!==this&&(Bf?Bf._next=this:Wv=this,Bf=this),this._call=e,this._time=n,qw()},stop:function(){this._call&&(this._call=null,this._time=1/0,qw())}};function HN(e,t,n){var i=new Kv;return i.restart(e,t,n),i}function une(){GC(),++Bh;for(var e=Wv,t;e;)(t=Su-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bh}function lI(){Su=(jv=kp.now())+F0,Bh=Rf=0;try{une()}finally{Bh=0,hne(),Su=0}}function dne(){var e=kp.now(),t=e-jv;t>zN&&(F0-=t,jv=e)}function hne(){for(var e,t=Wv,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wv=n);Bf=e,qw(i)}function qw(e){if(!Bh){Rf&&(Rf=clearTimeout(Rf));var t=e-Su;t>24?(e<1/0&&(Rf=setTimeout(lI,e-kp.now()-F0)),kf&&(kf=clearInterval(kf))):(kf||(jv=kp.now(),kf=setInterval(dne,zN)),Bh=1,UN(lI))}}function cI(e,t,n){var i=new Kv;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var fne=wN("start","end","cancel","interrupt"),pne=[],VN=0,uI=1,zw=2,Jy=3,dI=4,Uw=5,Qy=6;function R0(e,t,n,i,r,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;gne(e,n,{name:t,index:i,group:r,on:fne,tween:pne,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:VN})}function WC(e,t){var n=ks(e,t);if(n.state>VN)throw new Error("too late; already scheduled");return n}function ma(e,t){var n=ks(e,t);if(n.state>Jy)throw new Error("too late; already running");return n}function ks(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gne(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=HN(o,0,n.time);function o(u){n.state=uI,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,m,b;if(n.state!==uI)return l();for(f in i)if(b=i[f],b.name===n.name){if(b.state===Jy)return cI(s);b.state===dI?(b.state=Qy,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[f]):+f<t&&(b.state=Qy,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[f])}if(cI(function(){n.state===Jy&&(n.state=dI,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=zw,n.on.call("start",e,e.__data__,n.index,n.group),n.state===zw){for(n.state=Jy,r=new Array(m=n.tween.length),f=0,d=-1;f<m;++f)(b=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=b);r.length=d+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Uw,1),d=-1,m=r.length;++d<m;)r[d].call(e,f);n.state===Uw&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Qy,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function mne(e,t){var n=e.__transition,i,r,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){o=!1;continue}r=i.state>zw&&i.state<Uw,i.state=Qy,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}o&&delete e.__transition}}function yne(e){return this.each(function(){mne(this,e)})}function vne(e,t){var n,i;return function(){var r=ma(this,e),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function bne(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=ma(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function _ne(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=ks(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((t==null?vne:bne)(n,e,t))}function jC(e,t,n){var i=e._id;return e.each(function(){var r=ma(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return ks(r,i).value[t]}}function GN(e,t){var n;return(typeof t=="number"?Bl:t instanceof Ap?sI:(n=Ap(t))?(t=n,sI):rne)(e,t)}function xne(e){return function(){this.removeAttribute(e)}}function wne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cne(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=t(i=s,n)}}function Tne(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=t(i=s,n)}}function Sne(e,t,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a)))}}function Ene(e,t,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a)))}}function Ane(e,t){var n=M0(e),i=n==="transform"?lne:GN;return this.attrTween(e,typeof t=="function"?(n.local?Ene:Sne)(n,i,jC(this,"attr."+e,t)):t==null?(n.local?wne:xne)(n):(n.local?Tne:Cne)(n,i,t))}function kne(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ine(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Pne(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Ine(e,o)),n}return r._value=t,r}function One(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&kne(e,o)),n}return r._value=t,r}function Lne(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=M0(e);return this.tween(n,(i.local?Pne:One)(i,t))}function Dne(e,t){return function(){WC(this,e).delay=+t.apply(this,arguments)}}function Nne(e,t){return t=+t,function(){WC(this,e).delay=t}}function Mne(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dne:Nne)(t,e)):ks(this.node(),t).delay}function Fne(e,t){return function(){ma(this,e).duration=+t.apply(this,arguments)}}function Rne(e,t){return t=+t,function(){ma(this,e).duration=t}}function Bne(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fne:Rne)(t,e)):ks(this.node(),t).duration}function $ne(e,t){if(typeof t!="function")throw new Error;return function(){ma(this,e).ease=t}}function qne(e){var t=this._id;return arguments.length?this.each($ne(t,e)):ks(this.node(),t).ease}function zne(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ma(this,e).ease=n}}function Une(e){if(typeof e!="function")throw new Error;return this.each(zne(this._id,e))}function Hne(e){typeof e!="function"&&(e=SN(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new rl(i,this._parents,this._name,this._id)}function Vne(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l=t[a],u=n[a],f=l.length,d=s[a]=new Array(f),m,b=0;b<f;++b)(m=l[b]||u[b])&&(d[b]=m);for(;a<i;++a)s[a]=t[a];return new rl(s,this._parents,this._name,this._id)}function Gne(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Wne(e,t,n){var i,r,o=Gne(t)?WC:ma;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}function jne(e,t){var n=this._id;return arguments.length<2?ks(this.node(),n).on.on(e):this.each(Wne(n,e,t))}function Kne(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Yne(){return this.on("end.remove",Kne(this._id))}function Xne(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zC(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],l=a.length,u=o[s]=new Array(l),f,d,m=0;m<l;++m)(f=a[m])&&(d=e.call(f,f.__data__,m,a))&&("__data__"in f&&(d.__data__=f.__data__),u[m]=d,R0(u[m],t,n,m,u,ks(f,n)));return new rl(o,this._parents,t,n)}function Jne(e){var t=this._name,n=this._id;typeof e!="function"&&(e=TN(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l=i[a],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var m=e.call(f,f.__data__,d,l),b,x=ks(f,n),C=0,k=m.length;C<k;++C)(b=m[C])&&R0(b,t,n,C,m,x);o.push(m),s.push(f)}return new rl(o,s,t,n)}var Qne=um.prototype.constructor;function Zne(){return new Qne(this._groups,this._parents)}function eie(e,t){var n,i,r;return function(){var o=Rh(this,e),s=(this.style.removeProperty(e),Rh(this,e));return o===s?null:o===n&&s===i?r:r=t(n=o,i=s)}}function WN(e){return function(){this.style.removeProperty(e)}}function tie(e,t,n){var i,r=n+"",o;return function(){var s=Rh(this,e);return s===r?null:s===i?o:o=t(i=s,n)}}function nie(e,t,n){var i,r,o;return function(){var s=Rh(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Rh(this,e))),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}function iie(e,t){var n,i,r,o="style."+t,s="end."+o,a;return function(){var l=ma(this,e),u=l.on,f=l.value[o]==null?a||(a=WN(t)):void 0;(u!==n||r!==f)&&(i=(n=u).copy()).on(s,r=f),l.on=i}}function rie(e,t,n){var i=(e+="")=="transform"?ane:GN;return t==null?this.styleTween(e,eie(e,i)).on("end.style."+e,WN(e)):typeof t=="function"?this.styleTween(e,nie(e,i,jC(this,"style."+e,t))).each(iie(this._id,e)):this.styleTween(e,tie(e,i,t),n).on("end.style."+e,null)}function oie(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function sie(e,t,n){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&oie(e,s,n)),i}return o._value=t,o}function aie(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,sie(e,t,n??""))}function lie(e){return function(){this.textContent=e}}function cie(e){return function(){var t=e(this);this.textContent=t??""}}function uie(e){return this.tween("text",typeof e=="function"?cie(jC(this,"text",e)):lie(e==null?"":e+""))}function die(e){return function(t){this.textContent=e.call(this,t)}}function hie(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&die(r)),t}return i._value=e,i}function fie(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hie(e))}function pie(){for(var e=this._name,t=this._id,n=jN(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var f=ks(l,t);R0(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new rl(i,this._parents,e,n)}function gie(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};n.each(function(){var u=ma(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&o()})}var mie=0;function rl(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function jN(){return++mie}var Ba=um.prototype;rl.prototype={constructor:rl,select:Xne,selectAll:Jne,selectChild:Ba.selectChild,selectChildren:Ba.selectChildren,filter:Hne,merge:Vne,selection:Zne,transition:pie,call:Ba.call,nodes:Ba.nodes,node:Ba.node,size:Ba.size,empty:Ba.empty,each:Ba.each,on:jne,attr:Ane,attrTween:Lne,style:rie,styleTween:aie,text:uie,textTween:fie,remove:Yne,tween:_ne,delay:Mne,duration:Bne,ease:qne,easeVarying:Une,end:gie,[Symbol.iterator]:Ba[Symbol.iterator]};function yie(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vie={time:null,delay:0,duration:250,ease:yie};function bie(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _ie(e){var t,n;e instanceof rl?(t=e._id,e=e._name):(t=jN(),(n=vie).time=GC(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&R0(l,e,t,u,s,n||bie(l,t));return new rl(i,this._parents,e,t)}um.prototype.interrupt=yne;um.prototype.transition=_ie;const fge=Math.abs,pge=Math.atan2,gge=Math.cos,mge=Math.max,yge=Math.min,vge=Math.sin,bge=Math.sqrt,hI=1e-12,KC=Math.PI,fI=KC/2,_ge=2*KC;function xge(e){return e>1?0:e<-1?KC:Math.acos(e)}function wge(e){return e>=1?fI:e<=-1?-fI:Math.asin(e)}function KN(e){this._context=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xie(e){return new KN(e)}class YN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wie(e){return new YN(e,!0)}function Cie(e){return new YN(e,!1)}function cc(){}function Yv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function B0(e){this._context=e}B0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tie(e){return new B0(e)}function XN(e){this._context=e}XN.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sie(e){return new XN(e)}function JN(e){this._context=e}JN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Yv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eie(e){return new JN(e)}function QN(e,t){this._basis=new B0(e),this._beta=t}QN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],r=t[0],o=e[n]-i,s=t[n]-r,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(i+l*o),this._beta*t[a]+(1-this._beta)*(r+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Aie=function e(t){function n(i){return t===1?new B0(i):new QN(i,t)}return n.beta=function(i){return e(+i)},n}(.85);function Xv(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function YC(e,t){this._context=e,this._k=(1-t)/6}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xv(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kie=function e(t){function n(i){return new YC(i,t)}return n.tension=function(i){return e(+i)},n}(0);function XC(e,t){this._context=e,this._k=(1-t)/6}XC.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Iie=function e(t){function n(i){return new XC(i,t)}return n.tension=function(i){return e(+i)},n}(0);function JC(e,t){this._context=e,this._k=(1-t)/6}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Pie=function e(t){function n(i){return new JC(i,t)}return n.tension=function(i){return e(+i)},n}(0);function QC(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>hI){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>hI){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}function ZN(e,t){this._context=e,this._alpha=t}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:QC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oie=function e(t){function n(i){return t?new ZN(i,t):new YC(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function eM(e,t){this._context=e,this._alpha=t}eM.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:QC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Lie=function e(t){function n(i){return t?new eM(i,t):new XC(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function tM(e,t){this._context=e,this._alpha=t}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:QC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Die=function e(t){function n(i){return t?new tM(i,t):new JC(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function nM(e){this._context=e}nM.prototype={areaStart:cc,areaEnd:cc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Nie(e){return new nM(e)}function pI(e){return e<0?-1:1}function gI(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(pI(o)+pI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function mI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lx(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function Jv(e){this._context=e}Jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lx(this,this._t0,mI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lx(this,mI(this,n=gI(this,e,t)),n);break;default:Lx(this,this._t0,n=gI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function iM(e){this._context=new rM(e)}(iM.prototype=Object.create(Jv.prototype)).point=function(e,t){Jv.prototype.point.call(this,t,e)};function rM(e){this._context=e}rM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}};function Mie(e){return new Jv(e)}function Fie(e){return new iM(e)}function oM(e){this._context=e}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=yI(e),r=yI(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yI(e){var t,n=e.length-1,i,r=new Array(n),o=new Array(n),s=new Array(n);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=r[t]/o[t-1],o[t]-=i,s[t]-=i*s[t-1];for(r[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(o[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function Rie(e){return new oM(e)}function $0(e,t){this._context=e,this._t=t}$0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Bie(e){return new $0(e,.5)}function $ie(e){return new $0(e,0)}function qie(e){return new $0(e,1)}function $f(e,t,n){this.k=e,this.x=t,this.y=n}$f.prototype={constructor:$f,scale:function(e){return e===1?this:new $f(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $f(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$f.prototype;/*! @license DOMPurify 3.1.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.0/LICENSE */const{entries:sM,setPrototypeOf:vI,isFrozen:zie,getPrototypeOf:Uie,getOwnPropertyDescriptor:Hie}=Object;let{freeze:Br,seal:Jo,create:aM}=Object,{apply:Hw,construct:Vw}=typeof Reflect<"u"&&Reflect;Br||(Br=function(t){return t});Jo||(Jo=function(t){return t});Hw||(Hw=function(t,n,i){return t.apply(n,i)});Vw||(Vw=function(t,n){return new t(...n)});const Iy=Io(Array.prototype.forEach),bI=Io(Array.prototype.pop),If=Io(Array.prototype.push),Zy=Io(String.prototype.toLowerCase),Dx=Io(String.prototype.toString),_I=Io(String.prototype.match),Pf=Io(String.prototype.replace),Vie=Io(String.prototype.indexOf),Gie=Io(String.prototype.trim),ys=Io(Object.prototype.hasOwnProperty),Jr=Io(RegExp.prototype.test),Of=Wie(TypeError);function Io(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Hw(e,t,i)}}function Wie(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Vw(e,n)}}function xn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zy;vI&&vI(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const o=n(r);o!==r&&(zie(t)||(t[i]=o),r=o)}e[r]=!0}return e}function jie(e){for(let t=0;t<e.length;t++)ys(e,t)||(e[t]=null);return e}function zc(e){const t=aM(null);for(const[n,i]of sM(e))ys(e,n)&&(Array.isArray(i)?t[n]=jie(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=zc(i):t[n]=i);return t}function Py(e,t){for(;e!==null;){const i=Hie(e,t);if(i){if(i.get)return Io(i.get);if(typeof i.value=="function")return Io(i.value)}e=Uie(e)}function n(){return null}return n}const xI=Br(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nx=Br(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mx=Br(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kie=Br(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fx=Br(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Yie=Br(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wI=Br(["#text"]),CI=Br(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rx=Br(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TI=Br(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Oy=Br(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xie=Jo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jie=Jo(/<%[\w\W]*|[\w\W]*%>/gm),Qie=Jo(/\${[\w\W]*}/gm),Zie=Jo(/^data-[\-\w.\u00B7-\uFFFF]/),ere=Jo(/^aria-[\-\w]+$/),lM=Jo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tre=Jo(/^(?:\w+script|data):/i),nre=Jo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cM=Jo(/^html$/i),ire=Jo(/^[a-z][.\w]*(-[.\w]+)+$/i);var SI=Object.freeze({__proto__:null,MUSTACHE_EXPR:Xie,ERB_EXPR:Jie,TMPLIT_EXPR:Qie,DATA_ATTR:Zie,ARIA_ATTR:ere,IS_ALLOWED_URI:lM,IS_SCRIPT_OR_DATA:tre,ATTR_WHITESPACE:nre,DOCTYPE_NAME:cM,CUSTOM_ELEMENT:ire});const rre=function(){return typeof window>"u"?null:window},ore=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function uM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rre();const t=Lt=>uM(Lt);if(t.version="3.1.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:b}=e,x=l.prototype,C=Py(x,"cloneNode"),k=Py(x,"nextSibling"),T=Py(x,"childNodes"),A=Py(x,"parentNode");if(typeof s=="function"){const Lt=n.createElement("template");Lt.content&&Lt.content.ownerDocument&&(n=Lt.content.ownerDocument)}let R,F="";const{implementation:Z,createNodeIterator:ee,createDocumentFragment:g,getElementsByTagName:L}=n,{importNode:M}=i;let z={};t.isSupported=typeof sM=="function"&&typeof A=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Q,ERB_EXPR:de,TMPLIT_EXPR:ce,DATA_ATTR:pe,ARIA_ATTR:ae,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:j}=SI;let{IS_ALLOWED_URI:te}=SI,le=null;const Ae=xn({},[...xI,...Nx,...Mx,...Fx,...wI]);let ke=null;const rt=xn({},[...CI,...Rx,...TI,...Oy]);let Be=Object.seal(aM(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),st=null,lt=null,Se=!0,$e=!0,qe=!1,Fe=!0,xe=!1,Ie=!0,U=!1,K=!1,ne=!1,we=!1,fe=!1,ze=!1,tt=!0,Je=!1;const nt="user-content-";let Xe=!0,ht=!1,vt={},Ge=null;const ft=xn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Et=null;const Jt=xn({},["audio","video","img","source","image","track"]);let yn=null;const Fn=xn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rn="http://www.w3.org/1998/Math/MathML",Cn="http://www.w3.org/2000/svg",bn="http://www.w3.org/1999/xhtml";let Gn=bn,yi=!1,Qn=null;const ti=xn({},[Rn,Cn,bn],Dx);let Bi=null;const ho=["application/xhtml+xml","text/html"],qr="text/html";let On=null,Ti=null;const Oo=n.createElement("form"),zr=function(Te){return Te instanceof RegExp||Te instanceof Function},Wn=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ti&&Ti===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=zc(Te),Bi=ho.indexOf(Te.PARSER_MEDIA_TYPE)===-1?qr:Te.PARSER_MEDIA_TYPE,On=Bi==="application/xhtml+xml"?Dx:Zy,le=ys(Te,"ALLOWED_TAGS")?xn({},Te.ALLOWED_TAGS,On):Ae,ke=ys(Te,"ALLOWED_ATTR")?xn({},Te.ALLOWED_ATTR,On):rt,Qn=ys(Te,"ALLOWED_NAMESPACES")?xn({},Te.ALLOWED_NAMESPACES,Dx):ti,yn=ys(Te,"ADD_URI_SAFE_ATTR")?xn(zc(Fn),Te.ADD_URI_SAFE_ATTR,On):Fn,Et=ys(Te,"ADD_DATA_URI_TAGS")?xn(zc(Jt),Te.ADD_DATA_URI_TAGS,On):Jt,Ge=ys(Te,"FORBID_CONTENTS")?xn({},Te.FORBID_CONTENTS,On):ft,st=ys(Te,"FORBID_TAGS")?xn({},Te.FORBID_TAGS,On):{},lt=ys(Te,"FORBID_ATTR")?xn({},Te.FORBID_ATTR,On):{},vt=ys(Te,"USE_PROFILES")?Te.USE_PROFILES:!1,Se=Te.ALLOW_ARIA_ATTR!==!1,$e=Te.ALLOW_DATA_ATTR!==!1,qe=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=Te.SAFE_FOR_TEMPLATES||!1,Ie=Te.SAFE_FOR_XML!==!1,U=Te.WHOLE_DOCUMENT||!1,we=Te.RETURN_DOM||!1,fe=Te.RETURN_DOM_FRAGMENT||!1,ze=Te.RETURN_TRUSTED_TYPE||!1,ne=Te.FORCE_BODY||!1,tt=Te.SANITIZE_DOM!==!1,Je=Te.SANITIZE_NAMED_PROPS||!1,Xe=Te.KEEP_CONTENT!==!1,ht=Te.IN_PLACE||!1,te=Te.ALLOWED_URI_REGEXP||lM,Gn=Te.NAMESPACE||bn,Be=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&zr(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Be.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&zr(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Be.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Be.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&($e=!1),fe&&(we=!0),vt&&(le=xn({},wI),ke=[],vt.html===!0&&(xn(le,xI),xn(ke,CI)),vt.svg===!0&&(xn(le,Nx),xn(ke,Rx),xn(ke,Oy)),vt.svgFilters===!0&&(xn(le,Mx),xn(ke,Rx),xn(ke,Oy)),vt.mathMl===!0&&(xn(le,Fx),xn(ke,TI),xn(ke,Oy))),Te.ADD_TAGS&&(le===Ae&&(le=zc(le)),xn(le,Te.ADD_TAGS,On)),Te.ADD_ATTR&&(ke===rt&&(ke=zc(ke)),xn(ke,Te.ADD_ATTR,On)),Te.ADD_URI_SAFE_ATTR&&xn(yn,Te.ADD_URI_SAFE_ATTR,On),Te.FORBID_CONTENTS&&(Ge===ft&&(Ge=zc(Ge)),xn(Ge,Te.FORBID_CONTENTS,On)),Xe&&(le["#text"]=!0),U&&xn(le,["html","head","body"]),le.table&&(xn(le,["tbody"]),delete st.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Of('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Of('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=Te.TRUSTED_TYPES_POLICY,F=R.createHTML("")}else R===void 0&&(R=ore(b,r)),R!==null&&typeof F=="string"&&(F=R.createHTML(""));Br&&Br(Te),Ti=Te}},ci=xn({},["mi","mo","mn","ms","mtext"]),Lo=xn({},["foreignobject","desc","title","annotation-xml"]),yc=xn({},["title","style","font","a","script"]),Is=xn({},[...Nx,...Mx,...Kie]),ts=xn({},[...Fx,...Yie]),Ur=function(Te){let ct=A(Te);(!ct||!ct.tagName)&&(ct={namespaceURI:Gn,tagName:"template"});const Ct=Zy(Te.tagName),Tn=Zy(ct.tagName);return Qn[Te.namespaceURI]?Te.namespaceURI===Cn?ct.namespaceURI===bn?Ct==="svg":ct.namespaceURI===Rn?Ct==="svg"&&(Tn==="annotation-xml"||ci[Tn]):!!Is[Ct]:Te.namespaceURI===Rn?ct.namespaceURI===bn?Ct==="math":ct.namespaceURI===Cn?Ct==="math"&&Lo[Tn]:!!ts[Ct]:Te.namespaceURI===bn?ct.namespaceURI===Cn&&!Lo[Tn]||ct.namespaceURI===Rn&&!ci[Tn]?!1:!ts[Ct]&&(yc[Ct]||!Is[Ct]):!!(Bi==="application/xhtml+xml"&&Qn[Te.namespaceURI]):!1},Si=function(Te){If(t.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{Te.remove()}},Hr=function(Te,ct){try{If(t.removed,{attribute:ct.getAttributeNode(Te),from:ct})}catch{If(t.removed,{attribute:null,from:ct})}if(ct.removeAttribute(Te),Te==="is"&&!ke[Te])if(we||fe)try{Si(ct)}catch{}else try{ct.setAttribute(Te,"")}catch{}},ns=function(Te){let ct=null,Ct=null;if(ne)Te="<remove></remove>"+Te;else{const oi=_I(Te,/^[\r\n\t ]+/);Ct=oi&&oi[0]}Bi==="application/xhtml+xml"&&Gn===bn&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Tn=R?R.createHTML(Te):Te;if(Gn===bn)try{ct=new m().parseFromString(Tn,Bi)}catch{}if(!ct||!ct.documentElement){ct=Z.createDocument(Gn,"template",null);try{ct.documentElement.innerHTML=yi?F:Tn}catch{}}const ui=ct.body||ct.documentElement;return Te&&Ct&&ui.insertBefore(n.createTextNode(Ct),ui.childNodes[0]||null),Gn===bn?L.call(ct,U?"html":"body")[0]:U?ct.documentElement:ui},ll=function(Te){return ee.call(Te.ownerDocument||Te,Te,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},vc=function(Te){return Te instanceof d&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof f)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},Ps=function(Te){return typeof a=="function"&&Te instanceof a},ji=function(Te,ct,Ct){z[Te]&&Iy(z[Te],Tn=>{Tn.call(t,ct,Ct,Ti)})},cl=function(Te){let ct=null;if(ji("beforeSanitizeElements",Te,null),vc(Te))return Si(Te),!0;const Ct=On(Te.nodeName);if(ji("uponSanitizeElement",Te,{tagName:Ct,allowedTags:le}),Te.hasChildNodes()&&!Ps(Te.firstElementChild)&&Jr(/<[/\w]/g,Te.innerHTML)&&Jr(/<[/\w]/g,Te.textContent)||Te.nodeType===7||Ie&&Te.nodeType===8&&Jr(/<[/\w]/g,Te.data))return Si(Te),!0;if(!le[Ct]||st[Ct]){if(!st[Ct]&&Os(Ct)&&(Be.tagNameCheck instanceof RegExp&&Jr(Be.tagNameCheck,Ct)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(Ct)))return!1;if(Xe&&!Ge[Ct]){const Tn=A(Te)||Te.parentNode,ui=T(Te)||Te.childNodes;if(ui&&Tn){const oi=ui.length;for(let ni=oi-1;ni>=0;--ni)Tn.insertBefore(C(ui[ni],!0),k(Te))}}return Si(Te),!0}return Te instanceof l&&!Ur(Te)||(Ct==="noscript"||Ct==="noembed"||Ct==="noframes")&&Jr(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Si(Te),!0):(xe&&Te.nodeType===3&&(ct=Te.textContent,Iy([Q,de,ce],Tn=>{ct=Pf(ct,Tn," ")}),Te.textContent!==ct&&(If(t.removed,{element:Te.cloneNode()}),Te.textContent=ct)),ji("afterSanitizeElements",Te,null),!1)},va=function(Te,ct,Ct){if(tt&&(ct==="id"||ct==="name")&&(Ct in n||Ct in Oo))return!1;if(!($e&&!lt[ct]&&Jr(pe,ct))){if(!(Se&&Jr(ae,ct))){if(!ke[ct]||lt[ct]){if(!(Os(Te)&&(Be.tagNameCheck instanceof RegExp&&Jr(Be.tagNameCheck,Te)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(Te))&&(Be.attributeNameCheck instanceof RegExp&&Jr(Be.attributeNameCheck,ct)||Be.attributeNameCheck instanceof Function&&Be.attributeNameCheck(ct))||ct==="is"&&Be.allowCustomizedBuiltInElements&&(Be.tagNameCheck instanceof RegExp&&Jr(Be.tagNameCheck,Ct)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(Ct))))return!1}else if(!yn[ct]){if(!Jr(te,Pf(Ct,G,""))){if(!((ct==="src"||ct==="xlink:href"||ct==="href")&&Te!=="script"&&Vie(Ct,"data:")===0&&Et[Te])){if(!(qe&&!Jr(q,Pf(Ct,G,"")))){if(Ct)return!1}}}}}}return!0},Os=function(Te){return Te!=="annotation-xml"&&_I(Te,j)},is=function(Te){ji("beforeSanitizeAttributes",Te,null);const{attributes:ct}=Te;if(!ct)return;const Ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};let Tn=ct.length;for(;Tn--;){const ui=ct[Tn],{name:oi,namespaceURI:ni,value:fi}=ui,po=On(oi);let _i=oi==="value"?fi:Gie(fi);if(Ct.attrName=po,Ct.attrValue=_i,Ct.keepAttr=!0,Ct.forceKeepAttr=void 0,ji("uponSanitizeAttribute",Te,Ct),_i=Ct.attrValue,Ct.forceKeepAttr||(Hr(oi,Te),!Ct.keepAttr))continue;if(!Fe&&Jr(/\/>/i,_i)){Hr(oi,Te);continue}xe&&Iy([Q,de,ce],go=>{_i=Pf(_i,go," ")});const Ls=On(Te.nodeName);if(va(Ls,po,_i)){if(Je&&(po==="id"||po==="name")&&(Hr(oi,Te),_i=nt+_i),R&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ni)switch(b.getAttributeType(Ls,po)){case"TrustedHTML":{_i=R.createHTML(_i);break}case"TrustedScriptURL":{_i=R.createScriptURL(_i);break}}try{ni?Te.setAttributeNS(ni,oi,_i):Te.setAttribute(oi,_i),bI(t.removed)}catch{}}}ji("afterSanitizeAttributes",Te,null)},fo=function Lt(Te){let ct=null;const Ct=ll(Te);for(ji("beforeSanitizeShadowDOM",Te,null);ct=Ct.nextNode();)ji("uponSanitizeShadowNode",ct,null),!cl(ct)&&(ct.content instanceof o&&Lt(ct.content),is(ct));ji("afterSanitizeShadowDOM",Te,null)};return t.sanitize=function(Lt){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=null,Ct=null,Tn=null,ui=null;if(yi=!Lt,yi&&(Lt="<!-->"),typeof Lt!="string"&&!Ps(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw Of("dirty is not a string, aborting")}else throw Of("toString is not a function");if(!t.isSupported)return Lt;if(K||Wn(Te),t.removed=[],typeof Lt=="string"&&(ht=!1),ht){if(Lt.nodeName){const fi=On(Lt.nodeName);if(!le[fi]||st[fi])throw Of("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof a)ct=ns("<!---->"),Ct=ct.ownerDocument.importNode(Lt,!0),Ct.nodeType===1&&Ct.nodeName==="BODY"||Ct.nodeName==="HTML"?ct=Ct:ct.appendChild(Ct);else{if(!we&&!xe&&!U&&Lt.indexOf("<")===-1)return R&&ze?R.createHTML(Lt):Lt;if(ct=ns(Lt),!ct)return we?null:ze?F:""}ct&&ne&&Si(ct.firstChild);const oi=ll(ht?Lt:ct);for(;Tn=oi.nextNode();)cl(Tn)||(Tn.content instanceof o&&fo(Tn.content),is(Tn));if(ht)return Lt;if(we){if(fe)for(ui=g.call(ct.ownerDocument);ct.firstChild;)ui.appendChild(ct.firstChild);else ui=ct;return(ke.shadowroot||ke.shadowrootmode)&&(ui=M.call(i,ui,!0)),ui}let ni=U?ct.outerHTML:ct.innerHTML;return U&&le["!doctype"]&&ct.ownerDocument&&ct.ownerDocument.doctype&&ct.ownerDocument.doctype.name&&Jr(cM,ct.ownerDocument.doctype.name)&&(ni="<!DOCTYPE "+ct.ownerDocument.doctype.name+`>
`+ni),xe&&Iy([Q,de,ce],fi=>{ni=Pf(ni,fi," ")}),R&&ze?R.createHTML(ni):ni},t.setConfig=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wn(Lt),K=!0},t.clearConfig=function(){Ti=null,K=!1},t.isValidAttribute=function(Lt,Te,ct){Ti||Wn({});const Ct=On(Lt),Tn=On(Te);return va(Ct,Tn,ct)},t.addHook=function(Lt,Te){typeof Te=="function"&&(z[Lt]=z[Lt]||[],If(z[Lt],Te))},t.removeHook=function(Lt){if(z[Lt])return bI(z[Lt])},t.removeHooks=function(Lt){z[Lt]&&(z[Lt]=[])},t.removeAllHooks=function(){z={}},t}var $h=uM();const ev={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;switch(i){case"r":return ev.hue2rgb(o,r,e+1/3)*255;case"g":return ev.hue2rgb(o,r,e)*255;case"b":return ev.hue2rgb(o,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),s=(r+o)/2;if(i==="l")return s*100;if(r===o)return 0;const a=r-o,l=s>.5?a/(2-r-o):a/(r+o);if(i==="s")return l*100;switch(r){case e:return((t-n)/a+(t<n?6:0))*60;case t:return((n-e)/a+2)*60;case n:return((e-t)/a+4)*60;default:return-1}}},sre={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},are=sre,lre={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},cre=lre,Qt={channel:ev,lang:are,unit:cre},Dl={};for(let e=0;e<=255;e++)Dl[e]=Qt.unit.dec2hex(e);const dr={ALL:0,RGB:1,HSL:2};class ure{constructor(){this.type=dr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=dr.ALL}is(t){return this.type===t}}class dre{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new ure}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=dr.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:r}=t;n===void 0&&(t.h=Qt.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=Qt.channel.rgb2hsl(t,"s")),r===void 0&&(t.l=Qt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:r}=t;n===void 0&&(t.r=Qt.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=Qt.channel.hsl2rgb(t,"g")),r===void 0&&(t.b=Qt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(dr.HSL)&&n!==void 0?n:(this._ensureHSL(),Qt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(dr.HSL)&&n!==void 0?n:(this._ensureHSL(),Qt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(dr.HSL)&&n!==void 0?n:(this._ensureHSL(),Qt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(dr.RGB)&&n!==void 0?n:(this._ensureRGB(),Qt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(dr.RGB)&&n!==void 0?n:(this._ensureRGB(),Qt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(dr.RGB)&&n!==void 0?n:(this._ensureRGB(),Qt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(dr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(dr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(dr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(dr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(dr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(dr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const hre=dre,q0=new hre({r:0,g:0,b:0,a:0},"transparent"),Ld={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Ld.re);if(!t)return;const n=t[1],i=parseInt(n,16),r=n.length,o=r%4===0,s=r>4,a=s?1:17,l=s?8:4,u=o?0:-1,f=s?255:15;return q0.set({r:(i>>l*(u+3)&f)*a,g:(i>>l*(u+2)&f)*a,b:(i>>l*(u+1)&f)*a,a:o?(i&f)*a/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`#${Dl[Math.round(t)]}${Dl[Math.round(n)]}${Dl[Math.round(i)]}${Dl[Math.round(r*255)]}`:`#${Dl[Math.round(t)]}${Dl[Math.round(n)]}${Dl[Math.round(i)]}`}},Qc={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Qc.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return Qt.channel.clamp.h(parseFloat(n)*.9);case"rad":return Qt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Qt.channel.clamp.h(parseFloat(n)*360)}}return Qt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(Qc.re);if(!n)return;const[,i,r,o,s,a]=n;return q0.set({h:Qc._hue2deg(i),s:Qt.channel.clamp.s(parseFloat(r)),l:Qt.channel.clamp.l(parseFloat(o)),a:s?Qt.channel.clamp.a(a?parseFloat(s)/100:parseFloat(s)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a:r}=e;return r<1?`hsla(${Qt.lang.round(t)}, ${Qt.lang.round(n)}%, ${Qt.lang.round(i)}%, ${r})`:`hsl(${Qt.lang.round(t)}, ${Qt.lang.round(n)}%, ${Qt.lang.round(i)}%)`}},ep={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=ep.colors[e];if(t)return Ld.parse(t)},stringify:e=>{const t=Ld.stringify(e);for(const n in ep.colors)if(ep.colors[n]===t)return n}},qf={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(qf.re);if(!n)return;const[,i,r,o,s,a,l,u,f]=n;return q0.set({r:Qt.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:Qt.channel.clamp.g(s?parseFloat(o)*2.55:parseFloat(o)),b:Qt.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:u?Qt.channel.clamp.a(f?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`rgba(${Qt.lang.round(t)}, ${Qt.lang.round(n)}, ${Qt.lang.round(i)}, ${Qt.lang.round(r)})`:`rgb(${Qt.lang.round(t)}, ${Qt.lang.round(n)}, ${Qt.lang.round(i)})`}},ha={format:{keyword:ep,hex:Ld,rgb:qf,rgba:qf,hsl:Qc,hsla:Qc},parse:e=>{if(typeof e!="string")return e;const t=Ld.parse(e)||qf.parse(e)||Qc.parse(e)||ep.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(dr.HSL)||e.data.r===void 0?Qc.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?qf.stringify(e):Ld.stringify(e)},dM=(e,t)=>{const n=ha.parse(e);for(const i in t)n[i]=Qt.channel.clamp[i](t[i]);return ha.stringify(n)},tp=(e,t,n=0,i=1)=>{if(typeof e!="number")return dM(e,{a:t});const r=q0.set({r:Qt.channel.clamp.r(e),g:Qt.channel.clamp.g(t),b:Qt.channel.clamp.b(n),a:Qt.channel.clamp.a(i)});return ha.stringify(r)},fre=e=>{const{r:t,g:n,b:i}=ha.parse(e),r=.2126*Qt.channel.toLinear(t)+.7152*Qt.channel.toLinear(n)+.0722*Qt.channel.toLinear(i);return Qt.lang.round(r)},pre=e=>fre(e)>=.5,gre=pre,hm=e=>!gre(e),hM=(e,t,n)=>{const i=ha.parse(e),r=i[t],o=Qt.channel.clamp[t](r+n);return r!==o&&(i[t]=o),ha.stringify(i)},Ft=(e,t)=>hM(e,"l",t),Ut=(e,t)=>hM(e,"l",-t),Oe=(e,t)=>{const n=ha.parse(e),i={};for(const r in t)t[r]&&(i[r]=n[r]+t[r]);return dM(e,i)},mre=(e,t,n=50)=>{const{r:i,g:r,b:o,a:s}=ha.parse(e),{r:a,g:l,b:u,a:f}=ha.parse(t),d=n/100,m=d*2-1,b=s-f,C=((m*b===-1?m:(m+b)/(1+m*b))+1)/2,k=1-C,T=i*C+a*k,A=r*C+l*k,R=o*C+u*k,F=s*d+f*(1-d);return tp(T,A,R,F)},bt=(e,t=100)=>{const n=ha.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,mre(n,e,t)};var fM=typeof global=="object"&&global&&global.Object===Object&&global,yre=typeof self=="object"&&self&&self.Object===Object&&self,ya=fM||yre||Function("return this")(),Qv=ya.Symbol,pM=Object.prototype,vre=pM.hasOwnProperty,bre=pM.toString,Lf=Qv?Qv.toStringTag:void 0;function _re(e){var t=vre.call(e,Lf),n=e[Lf];try{e[Lf]=void 0;var i=!0}catch{}var r=bre.call(e);return i&&(t?e[Lf]=n:delete e[Lf]),r}var xre=Object.prototype,wre=xre.toString;function Cre(e){return wre.call(e)}var Tre="[object Null]",Sre="[object Undefined]",EI=Qv?Qv.toStringTag:void 0;function Xh(e){return e==null?e===void 0?Sre:Tre:EI&&EI in Object(e)?_re(e):Cre(e)}function Fu(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ere="[object AsyncFunction]",Are="[object Function]",kre="[object GeneratorFunction]",Ire="[object Proxy]";function ZC(e){if(!Fu(e))return!1;var t=Xh(e);return t==Are||t==kre||t==Ere||t==Ire}var Bx=ya["__core-js_shared__"],AI=function(){var e=/[^.]+$/.exec(Bx&&Bx.keys&&Bx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pre(e){return!!AI&&AI in e}var Ore=Function.prototype,Lre=Ore.toString;function Ru(e){if(e!=null){try{return Lre.call(e)}catch{}try{return e+""}catch{}}return""}var Dre=/[\\^$.*+?()[\]{}|]/g,Nre=/^\[object .+?Constructor\]$/,Mre=Function.prototype,Fre=Object.prototype,Rre=Mre.toString,Bre=Fre.hasOwnProperty,$re=RegExp("^"+Rre.call(Bre).replace(Dre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qre(e){if(!Fu(e)||Pre(e))return!1;var t=ZC(e)?$re:Nre;return t.test(Ru(e))}function zre(e,t){return e==null?void 0:e[t]}function Bu(e,t){var n=zre(e,t);return qre(n)?n:void 0}var Ip=Bu(Object,"create");function Ure(){this.__data__=Ip?Ip(null):{},this.size=0}function Hre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vre="__lodash_hash_undefined__",Gre=Object.prototype,Wre=Gre.hasOwnProperty;function jre(e){var t=this.__data__;if(Ip){var n=t[e];return n===Vre?void 0:n}return Wre.call(t,e)?t[e]:void 0}var Kre=Object.prototype,Yre=Kre.hasOwnProperty;function Xre(e){var t=this.__data__;return Ip?t[e]!==void 0:Yre.call(t,e)}var Jre="__lodash_hash_undefined__";function Qre(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ip&&t===void 0?Jre:t,this}function Eu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Eu.prototype.clear=Ure;Eu.prototype.delete=Hre;Eu.prototype.get=jre;Eu.prototype.has=Xre;Eu.prototype.set=Qre;function Zre(){this.__data__=[],this.size=0}function z0(e,t){return e===t||e!==e&&t!==t}function U0(e,t){for(var n=e.length;n--;)if(z0(e[n][0],t))return n;return-1}var eoe=Array.prototype,toe=eoe.splice;function noe(e){var t=this.__data__,n=U0(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():toe.call(t,n,1),--this.size,!0}function ioe(e){var t=this.__data__,n=U0(t,e);return n<0?void 0:t[n][1]}function roe(e){return U0(this.__data__,e)>-1}function ooe(e,t){var n=this.__data__,i=U0(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function al(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}al.prototype.clear=Zre;al.prototype.delete=noe;al.prototype.get=ioe;al.prototype.has=roe;al.prototype.set=ooe;var Pp=Bu(ya,"Map");function soe(){this.size=0,this.__data__={hash:new Eu,map:new(Pp||al),string:new Eu}}function aoe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function H0(e,t){var n=e.__data__;return aoe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function loe(e){var t=H0(this,e).delete(e);return this.size-=t?1:0,t}function coe(e){return H0(this,e).get(e)}function uoe(e){return H0(this,e).has(e)}function doe(e,t){var n=H0(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function mc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}mc.prototype.clear=soe;mc.prototype.delete=loe;mc.prototype.get=coe;mc.prototype.has=uoe;mc.prototype.set=doe;var hoe="Expected a function";function fm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hoe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(fm.Cache||mc),n}fm.Cache=mc;function foe(){this.__data__=new al,this.size=0}function poe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function goe(e){return this.__data__.get(e)}function moe(e){return this.__data__.has(e)}var yoe=200;function voe(e,t){var n=this.__data__;if(n instanceof al){var i=n.__data__;if(!Pp||i.length<yoe-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new mc(i)}return n.set(e,t),this.size=n.size,this}function Jh(e){var t=this.__data__=new al(e);this.size=t.size}Jh.prototype.clear=foe;Jh.prototype.delete=poe;Jh.prototype.get=goe;Jh.prototype.has=moe;Jh.prototype.set=voe;var Zv=function(){try{var e=Bu(Object,"defineProperty");return e({},"",{}),e}catch{}}();function eT(e,t,n){t=="__proto__"&&Zv?Zv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gw(e,t,n){(n!==void 0&&!z0(e[t],n)||n===void 0&&!(t in e))&&eT(e,t,n)}function boe(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(n(o[l],l,o)===!1)break}return t}}var _oe=boe(),gM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kI=gM&&typeof module=="object"&&module&&!module.nodeType&&module,xoe=kI&&kI.exports===gM,II=xoe?ya.Buffer:void 0,PI=II?II.allocUnsafe:void 0;function woe(e,t){if(t)return e.slice();var n=e.length,i=PI?PI(n):new e.constructor(n);return e.copy(i),i}var OI=ya.Uint8Array;function Coe(e){var t=new e.constructor(e.byteLength);return new OI(t).set(new OI(e)),t}function Toe(e,t){var n=t?Coe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Soe(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var LI=Object.create,Eoe=function(){function e(){}return function(t){if(!Fu(t))return{};if(LI)return LI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function mM(e,t){return function(n){return e(t(n))}}var Aoe=mM(Object.getPrototypeOf,Object);const yM=Aoe;var koe=Object.prototype;function V0(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||koe;return e===n}function Ioe(e){return typeof e.constructor=="function"&&!V0(e)?Eoe(yM(e)):{}}function pm(e){return e!=null&&typeof e=="object"}var Poe="[object Arguments]";function DI(e){return pm(e)&&Xh(e)==Poe}var vM=Object.prototype,Ooe=vM.hasOwnProperty,Loe=vM.propertyIsEnumerable,Doe=DI(function(){return arguments}())?DI:function(e){return pm(e)&&Ooe.call(e,"callee")&&!Loe.call(e,"callee")};const eb=Doe;var tb=Array.isArray,Noe=9007199254740991;function bM(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Noe}function G0(e){return e!=null&&bM(e.length)&&!ZC(e)}function Moe(e){return pm(e)&&G0(e)}function Foe(){return!1}var _M=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NI=_M&&typeof module=="object"&&module&&!module.nodeType&&module,Roe=NI&&NI.exports===_M,MI=Roe?ya.Buffer:void 0,Boe=MI?MI.isBuffer:void 0,$oe=Boe||Foe;const tT=$oe;var qoe="[object Object]",zoe=Function.prototype,Uoe=Object.prototype,xM=zoe.toString,Hoe=Uoe.hasOwnProperty,Voe=xM.call(Object);function Goe(e){if(!pm(e)||Xh(e)!=qoe)return!1;var t=yM(e);if(t===null)return!0;var n=Hoe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&xM.call(n)==Voe}var Woe="[object Arguments]",joe="[object Array]",Koe="[object Boolean]",Yoe="[object Date]",Xoe="[object Error]",Joe="[object Function]",Qoe="[object Map]",Zoe="[object Number]",ese="[object Object]",tse="[object RegExp]",nse="[object Set]",ise="[object String]",rse="[object WeakMap]",ose="[object ArrayBuffer]",sse="[object DataView]",ase="[object Float32Array]",lse="[object Float64Array]",cse="[object Int8Array]",use="[object Int16Array]",dse="[object Int32Array]",hse="[object Uint8Array]",fse="[object Uint8ClampedArray]",pse="[object Uint16Array]",gse="[object Uint32Array]",di={};di[ase]=di[lse]=di[cse]=di[use]=di[dse]=di[hse]=di[fse]=di[pse]=di[gse]=!0;di[Woe]=di[joe]=di[ose]=di[Koe]=di[sse]=di[Yoe]=di[Xoe]=di[Joe]=di[Qoe]=di[Zoe]=di[ese]=di[tse]=di[nse]=di[ise]=di[rse]=!1;function mse(e){return pm(e)&&bM(e.length)&&!!di[Xh(e)]}function yse(e){return function(t){return e(t)}}var wM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,np=wM&&typeof module=="object"&&module&&!module.nodeType&&module,vse=np&&np.exports===wM,$x=vse&&fM.process,FI=function(){try{var e=np&&np.require&&np.require("util").types;return e||$x&&$x.binding&&$x.binding("util")}catch{}}(),RI=FI&&FI.isTypedArray,bse=RI?yse(RI):mse;const nT=bse;function Ww(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _se=Object.prototype,xse=_se.hasOwnProperty;function wse(e,t,n){var i=e[t];(!(xse.call(e,t)&&z0(i,n))||n===void 0&&!(t in e))&&eT(e,t,n)}function Cse(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),r?eT(n,a,l):wse(n,a,l)}return n}function Tse(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var Sse=9007199254740991,Ese=/^(?:0|[1-9]\d*)$/;function CM(e,t){var n=typeof e;return t=t??Sse,!!t&&(n=="number"||n!="symbol"&&Ese.test(e))&&e>-1&&e%1==0&&e<t}var Ase=Object.prototype,kse=Ase.hasOwnProperty;function Ise(e,t){var n=tb(e),i=!n&&eb(e),r=!n&&!i&&tT(e),o=!n&&!i&&!r&&nT(e),s=n||i||r||o,a=s?Tse(e.length,String):[],l=a.length;for(var u in e)(t||kse.call(e,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||CM(u,l)))&&a.push(u);return a}function Pse(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ose=Object.prototype,Lse=Ose.hasOwnProperty;function Dse(e){if(!Fu(e))return Pse(e);var t=V0(e),n=[];for(var i in e)i=="constructor"&&(t||!Lse.call(e,i))||n.push(i);return n}function TM(e){return G0(e)?Ise(e,!0):Dse(e)}function Nse(e){return Cse(e,TM(e))}function Mse(e,t,n,i,r,o,s){var a=Ww(e,n),l=Ww(t,n),u=s.get(l);if(u){Gw(e,n,u);return}var f=o?o(a,l,n+"",e,t,s):void 0,d=f===void 0;if(d){var m=tb(l),b=!m&&tT(l),x=!m&&!b&&nT(l);f=l,m||b||x?tb(a)?f=a:Moe(a)?f=Soe(a):b?(d=!1,f=woe(l,!0)):x?(d=!1,f=Toe(l,!0)):f=[]:Goe(l)||eb(l)?(f=a,eb(a)?f=Nse(a):(!Fu(a)||ZC(a))&&(f=Ioe(l))):d=!1}d&&(s.set(l,f),r(f,l,i,o,s),s.delete(l)),Gw(e,n,f)}function SM(e,t,n,i,r){e!==t&&_oe(t,function(o,s){if(r||(r=new Jh),Fu(o))Mse(e,t,s,n,SM,i,r);else{var a=i?i(Ww(e,s),o,s+"",e,t,r):void 0;a===void 0&&(a=o),Gw(e,s,a)}},TM)}function EM(e){return e}function Fse(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var BI=Math.max;function Rse(e,t,n){return t=BI(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=BI(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),Fse(e,this,a)}}function Bse(e){return function(){return e}}var $se=Zv?function(e,t){return Zv(e,"toString",{configurable:!0,enumerable:!1,value:Bse(t),writable:!0})}:EM;const qse=$se;var zse=800,Use=16,Hse=Date.now;function Vse(e){var t=0,n=0;return function(){var i=Hse(),r=Use-(i-n);if(n=i,r>0){if(++t>=zse)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Gse=Vse(qse);function Wse(e,t){return Gse(Rse(e,t,EM),e+"")}function jse(e,t,n){if(!Fu(n))return!1;var i=typeof t;return(i=="number"?G0(n)&&CM(t,n.length):i=="string"&&t in n)?z0(n[t],e):!1}function Kse(e){return Wse(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,s&&jse(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t})}var Yse=Kse(function(e,t,n){SM(e,t,n)}),AM="comm",kM="rule",IM="decl",Xse="@import",Jse="@keyframes",Qse="@layer",PM=Math.abs,iT=String.fromCharCode;function OM(e){return e.trim()}function tv(e,t,n){return e.replace(t,n)}function Zse(e,t,n){return e.indexOf(t,n)}function Op(e,t){return e.charCodeAt(t)|0}function Lp(e,t,n){return e.slice(t,n)}function Ua(e){return e.length}function eae(e){return e.length}function Ly(e,t){return t.push(e),e}var W0=1,qh=1,LM=0,Qo=0,Ni=0,Qh="";function rT(e,t,n,i,r,o,s,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:W0,column:qh,length:s,return:"",siblings:a}}function tae(){return Ni}function nae(){return Ni=Qo>0?Op(Qh,--Qo):0,qh--,Ni===10&&(qh=1,W0--),Ni}function Ts(){return Ni=Qo<LM?Op(Qh,Qo++):0,qh++,Ni===10&&(qh=1,W0++),Ni}function _u(){return Op(Qh,Qo)}function nv(){return Qo}function j0(e,t){return Lp(Qh,e,t)}function jw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iae(e){return W0=qh=1,LM=Ua(Qh=e),Qo=0,[]}function rae(e){return Qh="",e}function qx(e){return OM(j0(Qo-1,Kw(e===91?e+2:e===40?e+1:e)))}function oae(e){for(;(Ni=_u())&&Ni<33;)Ts();return jw(e)>2||jw(Ni)>3?"":" "}function sae(e,t){for(;--t&&Ts()&&!(Ni<48||Ni>102||Ni>57&&Ni<65||Ni>70&&Ni<97););return j0(e,nv()+(t<6&&_u()==32&&Ts()==32))}function Kw(e){for(;Ts();)switch(Ni){case e:return Qo;case 34:case 39:e!==34&&e!==39&&Kw(Ni);break;case 40:e===41&&Kw(e);break;case 92:Ts();break}return Qo}function aae(e,t){for(;Ts()&&e+Ni!==57;)if(e+Ni===84&&_u()===47)break;return"/*"+j0(t,Qo-1)+"*"+iT(e===47?e:Ts())}function lae(e){for(;!jw(_u());)Ts();return j0(e,Qo)}function cae(e){return rae(iv("",null,null,null,[""],e=iae(e),0,[0],e))}function iv(e,t,n,i,r,o,s,a,l){for(var u=0,f=0,d=s,m=0,b=0,x=0,C=1,k=1,T=1,A=0,R="",F=r,Z=o,ee=i,g=R;k;)switch(x=A,A=Ts()){case 40:if(x!=108&&Op(g,d-1)==58){Zse(g+=tv(qx(A),"&","&\f"),"&\f",PM(u?a[u-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:g+=qx(A);break;case 9:case 10:case 13:case 32:g+=oae(x);break;case 92:g+=sae(nv()-1,7);continue;case 47:switch(_u()){case 42:case 47:Ly(uae(aae(Ts(),nv()),t,n,l),l);break;default:g+="/"}break;case 123*C:a[u++]=Ua(g)*T;case 125*C:case 59:case 0:switch(A){case 0:case 125:k=0;case 59+f:T==-1&&(g=tv(g,/\f/g,"")),b>0&&Ua(g)-d&&Ly(b>32?qI(g+";",i,n,d-1,l):qI(tv(g," ","")+";",i,n,d-2,l),l);break;case 59:g+=";";default:if(Ly(ee=$I(g,t,n,u,f,r,a,R,F=[],Z=[],d,o),o),A===123)if(f===0)iv(g,t,ee,ee,F,o,d,a,Z);else switch(m===99&&Op(g,3)===110?100:m){case 100:case 108:case 109:case 115:iv(e,ee,ee,i&&Ly($I(e,ee,ee,0,0,r,a,R,r,F=[],d,Z),Z),r,Z,d,a,i?F:Z);break;default:iv(g,ee,ee,ee,[""],Z,0,a,Z)}}u=f=b=0,C=T=1,R=g="",d=s;break;case 58:d=1+Ua(g),b=x;default:if(C<1){if(A==123)--C;else if(A==125&&C++==0&&nae()==125)continue}switch(g+=iT(A),A*C){case 38:T=f>0?1:(g+="\f",-1);break;case 44:a[u++]=(Ua(g)-1)*T,T=1;break;case 64:_u()===45&&(g+=qx(Ts())),m=_u(),f=d=Ua(R=g+=lae(nv())),A++;break;case 45:x===45&&Ua(g)==2&&(C=0)}}return o}function $I(e,t,n,i,r,o,s,a,l,u,f,d){for(var m=r-1,b=r===0?o:[""],x=eae(b),C=0,k=0,T=0;C<i;++C)for(var A=0,R=Lp(e,m+1,m=PM(k=s[C])),F=e;A<x;++A)(F=OM(k>0?b[A]+" "+R:tv(R,/&\f/g,b[A])))&&(l[T++]=F);return rT(e,t,n,r===0?kM:a,l,u,f,d)}function uae(e,t,n,i){return rT(e,t,n,AM,iT(tae()),Lp(e,2,-2),0,i)}function qI(e,t,n,i,r){return rT(e,t,n,IM,Lp(e,0,i),Lp(e,i+1,-1),i,r)}function Yw(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function dae(e,t,n,i){switch(e.type){case Qse:if(e.children.length)break;case Xse:case IM:return e.return=e.return||e.value;case AM:return"";case Jse:return e.return=e.value+"{"+Yw(e.children,i)+"}";case kM:if(!Ua(e.value=e.props.join(",")))return""}return Ua(n=Yw(e.children,i))?e.return=e.value+"{"+n+"}":""}var hae=mM(Object.keys,Object),fae=Object.prototype,pae=fae.hasOwnProperty;function gae(e){if(!V0(e))return hae(e);var t=[];for(var n in Object(e))pae.call(e,n)&&n!="constructor"&&t.push(n);return t}var Xw=Bu(ya,"DataView"),Jw=Bu(ya,"Promise"),Qw=Bu(ya,"Set"),Zw=Bu(ya,"WeakMap"),zI="[object Map]",mae="[object Object]",UI="[object Promise]",HI="[object Set]",VI="[object WeakMap]",GI="[object DataView]",yae=Ru(Xw),vae=Ru(Pp),bae=Ru(Jw),_ae=Ru(Qw),xae=Ru(Zw),Uc=Xh;(Xw&&Uc(new Xw(new ArrayBuffer(1)))!=GI||Pp&&Uc(new Pp)!=zI||Jw&&Uc(Jw.resolve())!=UI||Qw&&Uc(new Qw)!=HI||Zw&&Uc(new Zw)!=VI)&&(Uc=function(e){var t=Xh(e),n=t==mae?e.constructor:void 0,i=n?Ru(n):"";if(i)switch(i){case yae:return GI;case vae:return zI;case bae:return UI;case _ae:return HI;case xae:return VI}return t});const wae=Uc;var Cae="[object Map]",Tae="[object Set]",Sae=Object.prototype,Eae=Sae.hasOwnProperty;function zx(e){if(e==null)return!0;if(G0(e)&&(tb(e)||typeof e=="string"||typeof e.splice=="function"||tT(e)||nT(e)||eb(e)))return!e.length;var t=wae(e);if(t==Cae||t==Tae)return!e.size;if(V0(e))return!gae(e).length;for(var n in e)if(Eae.call(e,n))return!1;return!0}const $a={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},zt={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},oT=function(e="fatal"){let t=$a.fatal;typeof e=="string"?(e=e.toLowerCase(),e in $a&&(t=$a[e])):typeof e=="number"&&(t=e),zt.trace=()=>{},zt.debug=()=>{},zt.info=()=>{},zt.warn=()=>{},zt.error=()=>{},zt.fatal=()=>{},t<=$a.fatal&&(zt.fatal=console.error?console.error.bind(console,zo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",zo("FATAL"))),t<=$a.error&&(zt.error=console.error?console.error.bind(console,zo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",zo("ERROR"))),t<=$a.warn&&(zt.warn=console.warn?console.warn.bind(console,zo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",zo("WARN"))),t<=$a.info&&(zt.info=console.info?console.info.bind(console,zo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",zo("INFO"))),t<=$a.debug&&(zt.debug=console.debug?console.debug.bind(console,zo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",zo("DEBUG"))),t<=$a.trace&&(zt.trace=console.debug?console.debug.bind(console,zo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",zo("TRACE")))},zo=e=>`%c${see().format("ss.SSS")} : ${e} : `,gm=/<br\s*\/?>/gi,Aae=e=>e?NM(e).replace(/\\n/g,"#br#").split("#br#"):[""],kae=(()=>{let e=!1;return()=>{e||(Iae(),e=!0)}})();function Iae(){const e="data-temp-href-target";$h.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),$h.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const DM=e=>(kae(),$h.sanitize(e)),WI=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=DM(e):i!=="loose"&&(e=NM(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=Dae(e))}return e},Dp=(e,t)=>e&&(t.dompurifyConfig?e=$h.sanitize(WI(e,t),t.dompurifyConfig).toString():e=$h.sanitize(WI(e,t),{FORBID_TAGS:["style"]}).toString(),e),Pae=(e,t)=>typeof e=="string"?Dp(e,t):e.flat().map(n=>Dp(n,t)),Oae=e=>gm.test(e),Lae=e=>e.split(gm),Dae=e=>e.replace(/#br#/g,"<br/>"),NM=e=>e.replace(gm,"#br#"),Nae=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},MM=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),Mae=function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},Fae=function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},Cge=function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let r=t[i];if(r===","&&i>0&&i+1<t.length){const o=t[i-1],s=t[i+1];Rae(o,s)&&(r=o+","+s,i++,n.pop())}n.push(Bae(r))}return n.join("")},e1=(e,t)=>Math.max(0,e.split(t).length-1),Rae=(e,t)=>{const n=e1(e,"~"),i=e1(t,"~");return n===1&&i===1},Bae=e=>{const t=e1(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let r=i.indexOf("~"),o=i.lastIndexOf("~");for(;r!==-1&&o!==-1&&r!==o;)i[r]="<",i[o]=">",r=i.indexOf("~"),o=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},jI=()=>window.MathMLElement!==void 0,t1=/\$\$(.*)\$\$/g,KI=e=>{var t;return(((t=e.match(t1))==null?void 0:t.length)??0)>0},Tge=async(e,t)=>{e=await $ae(e,t);const n=document.createElement("div");n.innerHTML=e,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const r={width:n.clientWidth,height:n.clientHeight};return n.remove(),r},$ae=async(e,t)=>{if(!KI(e))return e;if(!jI()&&!t.legacyMathML)return e.replace(t1,"MathML is unsupported in this environment.");const{default:n}=await bi(()=>import("./katex-rPiVaalG.js"),[]);return e.split(gm).map(i=>KI(i)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${i}
            </div>
          `:`<div>${i}</div>`).join("").replace(t1,(i,r)=>n.renderToString(r,{throwOnError:!0,displayMode:!0,output:jI()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},sT={getRows:Aae,sanitizeText:Dp,sanitizeTextOrArray:Pae,hasBreaks:Oae,splitBreaks:Lae,lineBreakRegex:gm,removeScript:DM,getUrl:Nae,evaluate:MM,getMax:Mae,getMin:Fae},Mr=(e,t)=>t?Oe(e,{s:-40,l:10}):Oe(e,{s:-40,l:-10}),K0="#ffffff",Y0="#f2f2f2";let qae=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,n,i,r,o,s,a,l,u,f,d;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Oe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Oe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Mr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Mr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||bt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||bt(this.tertiaryColor),this.lineColor=this.lineColor||bt(this.background),this.arrowheadColor=this.arrowheadColor||bt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ut(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ut(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||bt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ft(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.darkMode)for(let b=0;b<this.THEME_COLOR_LIMIT;b++)this["cScale"+b]=Ut(this["cScale"+b],75);else for(let b=0;b<this.THEME_COLOR_LIMIT;b++)this["cScale"+b]=Ut(this["cScale"+b],25);for(let b=0;b<this.THEME_COLOR_LIMIT;b++)this["cScaleInv"+b]=this["cScaleInv"+b]||bt(this["cScale"+b]);for(let b=0;b<this.THEME_COLOR_LIMIT;b++)this.darkMode?this["cScalePeer"+b]=this["cScalePeer"+b]||Ft(this["cScale"+b],10):this["cScalePeer"+b]=this["cScalePeer"+b]||Ut(this["cScale"+b],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let b=0;b<this.THEME_COLOR_LIMIT;b++)this["cScaleLabel"+b]=this["cScaleLabel"+b]||this.scaleLabelColor;const m=this.darkMode?-4:-1;for(let b=0;b<5;b++)this["surface"+b]=this["surface"+b]||Oe(this.mainBkg,{h:180,s:-15,l:m*(5+b*3)}),this["surfacePeer"+b]=this["surfacePeer"+b]||Oe(this.mainBkg,{h:180,s:-15,l:m*(8+b*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Oe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Oe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Oe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Oe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Oe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?Ft(this.quadrant1Fill):Ut(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ut(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Ut(this.git0,25),this.git1=Ut(this.git1,25),this.git2=Ut(this.git2,25),this.git3=Ut(this.git3,25),this.git4=Ut(this.git4,25),this.git5=Ut(this.git5,25),this.git6=Ut(this.git6,25),this.git7=Ut(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||K0,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Y0}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const zae=e=>{const t=new qae;return t.calculate(e),t};let Uae=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ft(this.primaryColor,16),this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.background),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ft(bt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=tp(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ut("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ut(this.sectionBkgColor,10),this.taskBorderColor=tp(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=tp(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,i,r,o,s,a,l,u,f,d;this.secondBkg=Ft(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ft(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ft(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330});for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||bt(this["cScale"+m]);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScalePeer"+m]=this["cScalePeer"+m]||Ft(this["cScale"+m],10);for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Oe(this.mainBkg,{h:30,s:-30,l:-(-10+m*4)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Oe(this.mainBkg,{h:30,s:-30,l:-(-7+m*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.scaleLabelColor;for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["pie"+m]=this["cScale"+m];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?Ft(this.quadrant1Fill):Ut(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ut(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.secondaryColor,20),this.git1=Ft(this.pie2||this.secondaryColor,20),this.git2=Ft(this.pie3||this.tertiaryColor,20),this.git3=Ft(this.pie4||Oe(this.primaryColor,{h:-30}),20),this.git4=Ft(this.pie5||Oe(this.primaryColor,{h:-60}),20),this.git5=Ft(this.pie6||Oe(this.primaryColor,{h:-90}),10),this.git6=Ft(this.pie7||Oe(this.primaryColor,{h:60}),10),this.git7=Ft(this.pie8||Oe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ft(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ft(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const Hae=e=>{const t=new Uae;return t.calculate(e),t};let Vae=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Oe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=tp(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,i,r,o,s,a,l,u,f,d;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ut(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ut(this.tertiaryColor,40);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=Ut(this["cScale"+m],10),this["cScalePeer"+m]=this["cScalePeer"+m]||Ut(this["cScale"+m],25);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||Oe(this["cScale"+m],{h:180});for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Oe(this.mainBkg,{h:30,l:-(5+m*5)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Oe(this.mainBkg,{h:30,l:-(7+m*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||bt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||bt(this.labelTextColor);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Oe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?Ft(this.quadrant1Fill):Ut(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Ut(this.git0,25),this.git1=Ut(this.git1,25),this.git2=Ut(this.git2,25),this.git3=Ut(this.git3,25),this.git4=Ut(this.git4,25),this.git5=Ut(this.git5,25),this.git6=Ut(this.git6,25),this.git7=Ut(this.git7,25)),this.gitInv0=this.gitInv0||Ut(bt(this.git0),25),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||K0,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Y0}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const Gae=e=>{const t=new Vae;return t.calculate(e),t};let Wae=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ft("#cde498",10),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.primaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,o,s,a,l,u,f,d;this.actorBorder=Ut(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ut(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ut(this.tertiaryColor,40);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=Ut(this["cScale"+m],10),this["cScalePeer"+m]=this["cScalePeer"+m]||Ut(this["cScale"+m],25);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||Oe(this["cScale"+m],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.scaleLabelColor;for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Oe(this.mainBkg,{h:30,s:-30,l:-(5+m*5)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Oe(this.mainBkg,{h:30,s:-30,l:-(8+m*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-30}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?Ft(this.quadrant1Fill):Ut(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=Ut(this.git0,25),this.git1=Ut(this.git1,25),this.git2=Ut(this.git2,25),this.git3=Ut(this.git3,25),this.git4=Ut(this.git4,25),this.git5=Ut(this.git5,25),this.git6=Ut(this.git6,25),this.git7=Ut(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||K0,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Y0}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const jae=e=>{const t=new Wae;return t.calculate(e),t};class Kae{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ft(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,o,s,a,l,u,f,d;this.secondBkg=Ft(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||bt(this["cScale"+m]);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this.darkMode?this["cScalePeer"+m]=this["cScalePeer"+m]||Ft(this["cScale"+m],10):this["cScalePeer"+m]=this["cScalePeer"+m]||Ut(this["cScale"+m],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.scaleLabelColor;for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Oe(this.mainBkg,{l:-(5+m*5)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Oe(this.mainBkg,{l:-(8+m*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ft(this.contrast,30),this.sectionBkgColor2=Ft(this.contrast,30),this.taskBorderColor=Ut(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ft(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ut(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128});for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["pie"+m]=this["cScale"+m];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?Ft(this.quadrant1Fill):Ut(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ut(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Oe(this.primaryColor,{h:-30}),this.git4=this.pie5||Oe(this.primaryColor,{h:-60}),this.git5=this.pie6||Oe(this.primaryColor,{h:-90}),this.git6=this.pie7||Oe(this.primaryColor,{h:60}),this.git7=this.pie8||Oe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||K0,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Y0}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}}const Yae=e=>{const t=new Kae;return t.calculate(e),t},Za={base:{getThemeVariables:zae},dark:{getThemeVariables:Hae},default:{getThemeVariables:Gae},forest:{getThemeVariables:jae},neutral:{getThemeVariables:Yae}},qa={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},FM={...qa,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Za.default.getThemeVariables(),sequence:{...qa.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...qa.gantt,tickInterval:void 0,useWidth:void 0},c4:{...qa.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...qa.pie,useWidth:984},xyChart:{...qa.xyChart,useWidth:void 0},requirement:{...qa.requirement,useWidth:void 0},gitGraph:{...qa.gitGraph,useMaxWidth:!1},sankey:{...qa.sankey,useMaxWidth:!1}},RM=(e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,...RM(e[i],"")]:[...n,t+i],[]),Xae=new Set(RM(FM,"")),Jae=FM,nb=e=>{if(zt.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>nb(t));return}for(const t of Object.keys(e)){if(zt.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!Xae.has(t)||e[t]==null){zt.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){zt.debug("sanitizing object",t),nb(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(zt.debug("sanitizing css option",t),e[t]=Qae(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}zt.debug("After sanitization",e)}},Qae=e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},BM=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,ip=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Zae=/\s*%%.*\n/gm;class $M extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const zh={},X0=function(e,t){e=e.replace(BM,"").replace(ip,"").replace(Zae,`
`);for(const[n,{detector:i}]of Object.entries(zh))if(i(e,t))return n;throw new $M(`No diagram type detected matching given configuration for text: ${e}`)},qM=(...e)=>{for(const{id:t,detector:n,loader:i}of e)zM(t,n,i)},zM=(e,t,n)=>{zh[e]?zt.error(`Detector with key ${e} already exists`):zh[e]={detector:t,loader:n},zt.debug(`Detector with key ${e} added${n?" with loader":""}`)},ele=e=>zh[e].loader,n1=(e,t,{depth:n=2,clobber:i=!1}={})=>{const r={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>n1(e,o,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=n1(e[o],t[o],{depth:n-1,clobber:i})):(i||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},vr=n1,tle="​",nle={curveBasis:Tie,curveBasisClosed:Sie,curveBasisOpen:Eie,curveBumpX:wie,curveBumpY:Cie,curveBundle:Aie,curveCardinalClosed:Iie,curveCardinalOpen:Pie,curveCardinal:kie,curveCatmullRomClosed:Lie,curveCatmullRomOpen:Die,curveCatmullRom:Oie,curveLinear:xie,curveLinearClosed:Nie,curveMonotoneX:Mie,curveMonotoneY:Fie,curveNatural:Rie,curveStep:Bie,curveStepAfter:qie,curveStepBefore:$ie},ile=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,rle=function(e,t){const n=UM(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const s=n.map(a=>a.args);nb(s),i=vr(i,[...s])}else i=n.args;if(!i)return;let r=X0(e,t);const o="config";return i[o]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[o],delete i[o]),i},UM=function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${ile.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),zt.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const r=[];for(;(i=ip.exec(e))!==null;)if(i.index===ip.lastIndex&&ip.lastIndex++,i&&!t||t&&i[1]&&i[1].match(t)||t&&i[2]&&i[2].match(t)){const o=i[1]?i[1]:i[2],s=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:o,args:s})}return r.length===0?{type:e,args:null}:r.length===1?r[0]:r}catch(n){return zt.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},ole=function(e){return e.replace(ip,"")},sle=function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1};function ale(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return nle[n]??t}function lle(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?xN.sanitizeUrl(n):n}const cle=(e,...t)=>{const n=e.split("."),i=n.length-1,r=n[i];let o=window;for(let s=0;s<i;s++)if(o=o[n[s]],!o){zt.error(`Function name: ${e} not found in window`);return}o[r](...t)};function HM(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ule(e){let t,n=0;e.forEach(r=>{n+=HM(r,t),t=r});const i=n/2;return aT(e,i)}function dle(e){return e.length===1?e[0]:ule(e)}const YI=(e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},aT=(e,t)=>{let n,i=t;for(const r of e){if(n){const o=HM(r,n);if(o<i)i-=o;else{const s=i/o;if(s<=0)return n;if(s>=1)return{x:r.x,y:r.y};if(s>0&&s<1)return{x:YI((1-s)*n.x+s*r.x,5),y:YI((1-s)*n.y+s*r.y,5)}}}n=r}throw new Error("Could not find a suitable point for the given distance")},hle=(e,t,n)=>{zt.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const r=aT(t,25),o=e?10:5,s=Math.atan2(t[0].y-r.y,t[0].x-r.x),a={x:0,y:0};return a.x=Math.sin(s)*o+(t[0].x+r.x)/2,a.y=-Math.cos(s)*o+(t[0].y+r.y)/2,a};function fle(e,t,n){const i=structuredClone(n);zt.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const r=25+e,o=aT(i,r),s=10+e*.5,a=Math.atan2(i[0].y-o.y,i[0].x-o.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(a+Math.PI)*s+(i[0].x+o.x)/2,l.y=-Math.cos(a+Math.PI)*s+(i[0].y+o.y)/2):t==="end_right"?(l.x=Math.sin(a-Math.PI)*s+(i[0].x+o.x)/2-5,l.y=-Math.cos(a-Math.PI)*s+(i[0].y+o.y)/2-5):t==="end_left"?(l.x=Math.sin(a)*s+(i[0].x+o.x)/2-5,l.y=-Math.cos(a)*s+(i[0].y+o.y)/2-5):(l.x=Math.sin(a)*s+(i[0].x+o.x)/2,l.y=-Math.cos(a)*s+(i[0].y+o.y)/2),l}function ple(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}let XI=0;const gle=()=>(XI++,"id-"+Math.random().toString(36).substr(2,12)+"-"+XI);function mle(e){let t="";const n="0123456789abcdef",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}const yle=e=>mle(e.length),vle=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},ble=function(e,t){const n=t.text.replace(sT.lineBreakRegex," "),[,i]=cT(t.fontSize),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.style("text-anchor",t.anchor),r.style("font-family",t.fontFamily),r.style("font-size",i),r.style("font-weight",t.fontWeight),r.attr("fill",t.fill),t.class!==void 0&&r.attr("class",t.class);const o=r.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(n),r},_le=fm((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),sT.lineBreakRegex.test(e)))return e;const i=e.split(" "),r=[];let o="";return i.forEach((s,a)=>{const l=ib(`${s} `,n),u=ib(o,n);if(l>t){const{hyphenatedStrings:m,remainingWord:b}=xle(s,t,"-",n);r.push(o,...m),o=b}else u+l>=t?(r.push(o),o=s):o=[o,s].filter(Boolean).join(" ");a+1===i.length&&r.push(o)}),r.filter(s=>s!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),xle=fm((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...e],o=[];let s="";return r.forEach((a,l)=>{const u=`${s}${a}`;if(ib(u,i)>=t){const d=l+1,m=r.length===d,b=`${u}${n}`;o.push(m?u:b),s=""}else s=u}),{hyphenatedStrings:o,remainingWord:s}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function wle(e,t){return lT(e,t).height}function ib(e,t){return lT(e,t).width}const lT=fm((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:r=400}=t;if(!e)return{width:0,height:0};const[,o]=cT(n),s=["sans-serif",i],a=e.split(sT.lineBreakRegex),l=[],u=Ho("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const f=u.append("svg");for(const m of s){let b=0;const x={width:0,height:0,lineHeight:0};for(const C of a){const k=vle();k.text=C||tle;const T=ble(f,k).style("font-size",o).style("font-weight",r).style("font-family",m),A=(T._groups||T)[0][0].getBBox();if(A.width===0&&A.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,A.width)),b=Math.round(A.height),x.height+=b,x.lineHeight=Math.round(Math.max(x.lineHeight,b))}l.push(x)}f.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class Cle{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let Dy;const Tle=function(e){return Dy=Dy||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Dy.innerHTML=e,unescape(Dy.textContent)};function VM(e){return"str"in e}const Sle=(e,t,n,i)=>{var r;if(!i)return;const o=(r=e.node())==null?void 0:r.getBBox();o&&e.append("text").text(i).attr("x",o.x+o.width/2).attr("y",-n).attr("class",t)},cT=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function GM(e,t){return Yse({},e,t)}const rp={assignWithDepth:vr,wrapLabel:_le,calculateTextHeight:wle,calculateTextWidth:ib,calculateTextDimensions:lT,cleanAndMerge:GM,detectInit:rle,detectDirective:UM,isSubstringInArray:sle,interpolateToCurve:ale,calcLabelPosition:dle,calcCardinalityPosition:hle,calcTerminalLabelPosition:fle,formatUrl:lle,getStylesFromArray:ple,generateId:gle,random:yle,runFunc:cle,entityDecode:Tle,insertTitle:Sle,parseFontSize:cT,InitIDGenerator:Cle},Ele=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),t},Ale=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},JI="10.9.0",Uh=Object.freeze(Jae);let no=vr({},Uh),WM,Hh=[],op=vr({},Uh);const J0=(e,t)=>{let n=vr({},e),i={};for(const r of t)YM(r),i=vr(i,r);if(n=vr(n,i),i.theme&&i.theme in Za){const r=vr({},WM),o=vr(r.themeVariables||{},i.themeVariables);n.theme&&n.theme in Za&&(n.themeVariables=Za[n.theme].getThemeVariables(o))}return op=n,XM(op),op},kle=e=>(no=vr({},Uh),no=vr(no,e),e.theme&&Za[e.theme]&&(no.themeVariables=Za[e.theme].getThemeVariables(e.themeVariables)),J0(no,Hh),no),Ile=e=>{WM=vr({},e)},Ple=e=>(no=vr(no,e),J0(no,Hh),no),jM=()=>vr({},no),KM=e=>(XM(e),vr(op,e),fa()),fa=()=>vr({},op),YM=e=>{e&&(["secure",...no.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(zt.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&YM(e[t])}))},Ole=e=>{nb(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Hh.push(e),J0(no,Hh)},rb=(e=no)=>{Hh=[],J0(e,Hh)},Lle={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},QI={},Dle=e=>{QI[e]||(zt.warn(Lle[e]),QI[e]=!0)},XM=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Dle("LAZY_LOAD_DEPRECATED")},JM="c4",Nle=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),Mle=async()=>{const{diagram:e}=await bi(()=>import("./c4Diagram-b2a90758-V1WgorCj.js"),__vite__mapDeps([0,1]));return{id:JM,diagram:e}},Fle={id:JM,detector:Nle,loader:Mle},Rle=Fle,QM="flowchart",Ble=(e,t)=>{var n,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},$le=async()=>{const{diagram:e}=await bi(()=>import("./flowDiagram-5540d9b9-CjMlvzr-.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:QM,diagram:e}},qle={id:QM,detector:Ble,loader:$le},zle=qle,ZM="flowchart-v2",Ule=(e,t)=>{var n,i,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},Hle=async()=>{const{diagram:e}=await bi(()=>import("./flowDiagram-v2-3b53844e-B8DNBvIz.js"),__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:ZM,diagram:e}},Vle={id:ZM,detector:Ule,loader:Hle},Gle=Vle,eF="er",Wle=e=>/^\s*erDiagram/.test(e),jle=async()=>{const{diagram:e}=await bi(()=>import("./erDiagram-47591fe2-DJyo1zTM.js"),__vite__mapDeps([16,4,5,11,12,13]));return{id:eF,diagram:e}},Kle={id:eF,detector:Wle,loader:jle},Yle=Kle,tF="gitGraph",Xle=e=>/^\s*gitGraph/.test(e),Jle=async()=>{const{diagram:e}=await bi(()=>import("./gitGraphDiagram-96e6b4ee-BDnSbvHe.js"),[]);return{id:tF,diagram:e}},Qle={id:tF,detector:Xle,loader:Jle},Zle=Qle,nF="gantt",ece=e=>/^\s*gantt/.test(e),tce=async()=>{const{diagram:e}=await bi(()=>import("./ganttDiagram-9a3bba1f-DqryuTbF.js"),__vite__mapDeps([17,18,19]));return{id:nF,diagram:e}},nce={id:nF,detector:ece,loader:tce},ice=nce,iF="info",rce=e=>/^\s*info/.test(e),oce=async()=>{const{diagram:e}=await bi(()=>import("./infoDiagram-bcd20f53-2gqVW-Rk.js"),[]);return{id:iF,diagram:e}},sce={id:iF,detector:rce,loader:oce},rF="pie",ace=e=>/^\s*pie/.test(e),lce=async()=>{const{diagram:e}=await bi(()=>import("./pieDiagram-79897490-DOtV5zHT.js"),__vite__mapDeps([20,21,13,22,19,12]));return{id:rF,diagram:e}},cce={id:rF,detector:ace,loader:lce},oF="quadrantChart",uce=e=>/^\s*quadrantChart/.test(e),dce=async()=>{const{diagram:e}=await bi(()=>import("./quadrantDiagram-62f64e94-CND-Bafo.js"),__vite__mapDeps([23,18,19]));return{id:oF,diagram:e}},hce={id:oF,detector:uce,loader:dce},fce=hce,sF="xychart",pce=e=>/^\s*xychart-beta/.test(e),gce=async()=>{const{diagram:e}=await bi(()=>import("./xychartDiagram-ab372869-BfZNS4R7.js"),__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:sF,diagram:e}},mce={id:sF,detector:pce,loader:gce},yce=mce,aF="requirement",vce=e=>/^\s*requirement(Diagram)?/.test(e),bce=async()=>{const{diagram:e}=await bi(()=>import("./requirementDiagram-05bf5f74-BG1w53a4.js"),__vite__mapDeps([25,4,5,11,12,13]));return{id:aF,diagram:e}},_ce={id:aF,detector:vce,loader:bce},xce=_ce,lF="sequence",wce=e=>/^\s*sequenceDiagram/.test(e),Cce=async()=>{const{diagram:e}=await bi(()=>import("./sequenceDiagram-acc0e65c-0ytJN1XU.js"),__vite__mapDeps([26,1]));return{id:lF,diagram:e}},Tce={id:lF,detector:wce,loader:Cce},Sce=Tce,cF="class",Ece=(e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},Ace=async()=>{const{diagram:e}=await bi(()=>import("./classDiagram-30eddba6-ZbJU0QgF.js"),__vite__mapDeps([27,28,4,5,11,12,13]));return{id:cF,diagram:e}},kce={id:cF,detector:Ece,loader:Ace},Ice=kce,uF="classDiagram",Pce=(e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},Oce=async()=>{const{diagram:e}=await bi(()=>import("./classDiagram-v2-f2df5561-D08C7TsG.js"),__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:uF,diagram:e}},Lce={id:uF,detector:Pce,loader:Oce},Dce=Lce,dF="state",Nce=(e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},Mce=async()=>{const{diagram:e}=await bi(()=>import("./stateDiagram-0ff1cf1a-ByJsjuaX.js"),__vite__mapDeps([30,31,4,5,11,12,13]));return{id:dF,diagram:e}},Fce={id:dF,detector:Nce,loader:Mce},Rce=Fce,hF="stateDiagram",Bce=(e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},$ce=async()=>{const{diagram:e}=await bi(()=>import("./stateDiagram-v2-9a9d610d-BQGGRCz6.js"),__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:hF,diagram:e}},qce={id:hF,detector:Bce,loader:$ce},zce=qce,fF="journey",Uce=e=>/^\s*journey/.test(e),Hce=async()=>{const{diagram:e}=await bi(()=>import("./journeyDiagram-4fe6b3dc-CcP12EL8.js"),__vite__mapDeps([33,1,21,13]));return{id:fF,diagram:e}},Vce={id:fF,detector:Uce,loader:Hce},Gce=Vce,Wce=function(e,t){for(let n of t)e.attr(n[0],n[1])},jce=function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},pF=function(e,t,n,i){const r=jce(t,n,i);Wce(e,r)},Kce=function(e,t,n,i){const r=t.node().getBBox(),o=r.width,s=r.height;zt.info(`SVG bounds: ${o}x${s}`,r);let a=0,l=0;zt.info(`Graph bounds: ${a}x${l}`,e),a=o+n*2,l=s+n*2,zt.info(`Calculated bounds: ${a}x${l}`),pF(t,l,a,i);const u=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;t.attr("viewBox",u)},rv={},Yce=(e,t,n)=>{let i="";return e in rv&&rv[e]?i=rv[e](n):zt.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${t}
`},Xce=(e,t)=>{t!==void 0&&(rv[e]=t)},Jce=Yce;let uT="",dT="",hT="";const fT=e=>Dp(e,fa()),Qce=()=>{uT="",hT="",dT=""},Zce=e=>{uT=fT(e).replace(/^\s+/g,"")},eue=()=>uT,tue=e=>{hT=fT(e).replace(/\n\s+/g,`
`)},nue=()=>hT,iue=e=>{dT=fT(e)},rue=()=>dT,oue=Object.freeze(Object.defineProperty({__proto__:null,clear:Qce,getAccDescription:nue,getAccTitle:eue,getDiagramTitle:rue,setAccDescription:tue,setAccTitle:Zce,setDiagramTitle:iue},Symbol.toStringTag,{value:"Module"})),sue=zt,aue=oT,pT=fa,Ige=KM,Pge=Uh,lue=e=>Dp(e,pT()),cue=Kce,uue=()=>oue,ob={},sb=(e,t,n)=>{var i;if(ob[e])throw new Error(`Diagram ${e} already registered.`);ob[e]=t,n&&zM(e,n),Xce(e,t.styles),(i=t.injectUtils)==null||i.call(t,sue,aue,pT,lue,cue,uue(),()=>{})},gT=e=>{if(e in ob)return ob[e];throw new due(e)};class due extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const hue=e=>{var t;const{securityLevel:n}=pT();let i=Ho("body");if(n==="sandbox"){const s=((t=Ho(`#i${e}`).node())==null?void 0:t.contentDocument)??document;i=Ho(s.body)}return i.select(`#${e}`)},fue=(e,t,n)=>{zt.debug(`rendering svg for syntax error
`);const i=hue(t),r=i.append("g");i.attr("viewBox","0 0 2412 512"),pF(i,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},gF={draw:fue},pue=gF,gue={db:{},renderer:gF,parser:{parser:{yy:{}},parse:()=>{}}},mue=gue,mF="flowchart-elk",yue=(e,t)=>{var n;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk")},vue=async()=>{const{diagram:e}=await bi(()=>import("./flowchart-elk-definition-5fe447d6-DSy1MrMz.js"),__vite__mapDeps([34,3,9,10,11,12,13]));return{id:mF,diagram:e}},bue={id:mF,detector:yue,loader:vue},_ue=bue,yF="timeline",xue=e=>/^\s*timeline/.test(e),wue=async()=>{const{diagram:e}=await bi(()=>import("./timeline-definition-fea2a41d-CjhUzZ4O.js"),__vite__mapDeps([35,21,13]));return{id:yF,diagram:e}},Cue={id:yF,detector:xue,loader:wue},Tue=Cue,vF="mindmap",Sue=e=>/^\s*mindmap/.test(e),Eue=async()=>{const{diagram:e}=await bi(()=>import("./mindmap-definition-f354de21-DZHOU7US.js"),__vite__mapDeps([36,10]));return{id:vF,diagram:e}},Aue={id:vF,detector:Sue,loader:Eue},kue=Aue,bF="sankey",Iue=e=>/^\s*sankey-beta/.test(e),Pue=async()=>{const{diagram:e}=await bi(()=>import("./sankeyDiagram-97764748-5_IJsgTn.js"),__vite__mapDeps([37,22,19,38]));return{id:bF,diagram:e}},Oue={id:bF,detector:Iue,loader:Pue},Lue=Oue,_F="block",Due=e=>/^\s*block-beta/.test(e),Nue=async()=>{const{diagram:e}=await bi(()=>import("./blockDiagram-91b80b7a-DGhKY7-w.js"),__vite__mapDeps([39,8,4,9,10,11,12,13,22,19,14,38]));return{id:_F,diagram:e}},Mue={id:_F,detector:Due,loader:Nue},Fue=Mue;let ZI=!1;const mT=()=>{ZI||(ZI=!0,sb("error",mue,e=>e.toLowerCase().trim()==="error"),sb("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),qM(Rle,Dce,Ice,Yle,ice,sce,cce,xce,Sce,_ue,Gle,zle,kue,Tue,Zle,zce,Rce,Gce,fce,Lue,yce,Fue))};class xF{constructor(t,n={}){this.text=t,this.metadata=n,this.type="graph",this.text=Ele(t),this.text+=`
`;const i=fa();try{this.type=X0(t,i)}catch(o){this.type="error",this.detectError=o}const r=gT(this.type);zt.debug("Type "+this.type),this.db=r.db,this.renderer=r.renderer,this.parser=r.parser,this.parser.parser.yy=this.db,this.init=r.init,this.parse()}parse(){var t,n,i,r,o;if(this.detectError)throw this.detectError;(n=(t=this.db).clear)==null||n.call(t);const s=fa();(i=this.init)==null||i.call(this,s),this.metadata.title&&((o=(r=this.db).setDiagramTitle)==null||o.call(r,this.metadata.title)),this.parser.parse(this.text)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}}const Rue=async(e,t={})=>{const n=X0(e,fa());try{gT(n)}catch{const r=ele(n);if(!r)throw new $M(`Diagram ${n} not found.`);const{id:o,diagram:s}=await r();sb(o,s)}return new xF(e,t)};let eP=[];const Bue=()=>{eP.forEach(e=>{e()}),eP=[]},$ue="graphics-document document";function que(e,t){e.attr("role",$ue),t!==""&&e.attr("aria-roledescription",t)}function zue(e,t,n,i){if(e.insert!==void 0){if(n){const r=`chart-desc-${i}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(n)}if(t){const r=`chart-title-${i}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}const Uue=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function wF(e){return typeof e>"u"||e===null}function Hue(e){return typeof e=="object"&&e!==null}function Vue(e){return Array.isArray(e)?e:wF(e)?[]:[e]}function Gue(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function Wue(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function jue(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Kue=wF,Yue=Hue,Xue=Vue,Jue=Wue,Que=jue,Zue=Gue,Lr={isNothing:Kue,isObject:Yue,toArray:Xue,repeat:Jue,isNegativeZero:Que,extend:Zue};function CF(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function Np(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=CF(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Np.prototype=Object.create(Error.prototype);Np.prototype.constructor=Np;Np.prototype.toString=function(t){return this.name+": "+CF(this,t)};var Ga=Np;function Ux(e,t,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-t>a&&(o=" ... ",t=i-a+o.length),n-i>a&&(s=" ...",n=i+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:i-t+o.length}}function Hx(e,t){return Lr.repeat(" ",t-e.length)+e}function ede(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,s=-1;o=n.exec(e.buffer);)r.push(o.index),i.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a="",l,u,f=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(s-l<0);l++)u=Ux(e.buffer,i[s-l],r[s-l],e.position-(i[s]-i[s-l]),d),a=Lr.repeat(" ",t.indent)+Hx((e.line-l+1).toString(),f)+" | "+u.str+`
`+a;for(u=Ux(e.buffer,i[s],r[s],e.position,d),a+=Lr.repeat(" ",t.indent)+Hx((e.line+1).toString(),f)+" | "+u.str+`
`,a+=Lr.repeat("-",t.indent+f+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(s+l>=r.length);l++)u=Ux(e.buffer,i[s+l],r[s+l],e.position-(i[s]-i[s+l]),d),a+=Lr.repeat(" ",t.indent)+Hx((e.line+l+1).toString(),f)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var tde=ede,nde=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ide=["scalar","sequence","mapping"];function rde(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function ode(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(nde.indexOf(n)===-1)throw new Ga('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=rde(t.styleAliases||null),ide.indexOf(this.kind)===-1)throw new Ga('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var _r=ode;function tP(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=s)}),n[r]=i}),n}function sde(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function i1(e){return this.extend(e)}i1.prototype.extend=function(t){var n=[],i=[];if(t instanceof _r)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Ga("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof _r))throw new Ga("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ga("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ga("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof _r))throw new Ga("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(i1.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=tP(r,"implicit"),r.compiledExplicit=tP(r,"explicit"),r.compiledTypeMap=sde(r.compiledImplicit,r.compiledExplicit),r};var ade=i1,lde=new _r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),cde=new _r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),ude=new _r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),dde=new ade({explicit:[lde,cde,ude]});function hde(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function fde(){return null}function pde(e){return e===null}var gde=new _r("tag:yaml.org,2002:null",{kind:"scalar",resolve:hde,construct:fde,predicate:pde,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function mde(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function yde(e){return e==="true"||e==="True"||e==="TRUE"}function vde(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bde=new _r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:mde,construct:yde,predicate:vde,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function _de(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function xde(e){return 48<=e&&e<=55}function wde(e){return 48<=e&&e<=57}function Cde(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!_de(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!xde(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!wde(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function Tde(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Sde(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Lr.isNegativeZero(e)}var Ede=new _r("tag:yaml.org,2002:int",{kind:"scalar",resolve:Cde,construct:Tde,predicate:Sde,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ade=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kde(e){return!(e===null||!Ade.test(e)||e[e.length-1]==="_")}function Ide(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var Pde=/^[-+]?[0-9]+e/;function Ode(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Lr.isNegativeZero(e))return"-0.0";return n=e.toString(10),Pde.test(n)?n.replace("e",".e"):n}function Lde(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Lr.isNegativeZero(e))}var Dde=new _r("tag:yaml.org,2002:float",{kind:"scalar",resolve:kde,construct:Ide,predicate:Lde,represent:Ode,defaultStyle:"lowercase"}),TF=dde.extend({implicit:[gde,bde,Ede,Dde]}),Nde=TF,SF=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),EF=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Mde(e){return e===null?!1:SF.exec(e)!==null||EF.exec(e)!==null}function Fde(e){var t,n,i,r,o,s,a,l=0,u=null,f,d,m;if(t=SF.exec(e),t===null&&(t=EF.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],d=+(t[11]||0),u=(f*60+d)*6e4,t[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,i,r,o,s,a,l)),u&&m.setTime(m.getTime()-u),m}function Rde(e){return e.toISOString()}var Bde=new _r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Mde,construct:Fde,instanceOf:Date,represent:Rde});function $de(e){return e==="<<"||e===null}var qde=new _r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$de}),yT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function zde(e){if(e===null)return!1;var t,n,i=0,r=e.length,o=yT;for(n=0;n<r;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function Ude(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=yT,s=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(i.charAt(t));return n=r%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function Hde(e){var t="",n=0,i,r,o=e.length,s=yT;for(i=0;i<o;i++)i%3===0&&i&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[i];return r=o%3,r===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):r===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):r===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function Vde(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Gde=new _r("tag:yaml.org,2002:binary",{kind:"scalar",resolve:zde,construct:Ude,predicate:Vde,represent:Hde}),Wde=Object.prototype.hasOwnProperty,jde=Object.prototype.toString;function Kde(e){if(e===null)return!0;var t=[],n,i,r,o,s,a=e;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],s=!1,jde.call(r)!=="[object Object]")return!1;for(o in r)if(Wde.call(r,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Yde(e){return e!==null?e:[]}var Xde=new _r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Kde,construct:Yde}),Jde=Object.prototype.toString;function Qde(e){if(e===null)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(i=s[t],Jde.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[t]=[r[0],i[r[0]]]}return!0}function Zde(e){if(e===null)return[];var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)i=s[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var ehe=new _r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Qde,construct:Zde}),the=Object.prototype.hasOwnProperty;function nhe(e){if(e===null)return!0;var t,n=e;for(t in n)if(the.call(n,t)&&n[t]!==null)return!1;return!0}function ihe(e){return e!==null?e:{}}var rhe=new _r("tag:yaml.org,2002:set",{kind:"mapping",resolve:nhe,construct:ihe}),ohe=Nde.extend({implicit:[Bde,qde],explicit:[Gde,Xde,ehe,rhe]}),uc=Object.prototype.hasOwnProperty,ab=1,AF=2,kF=3,lb=4,Vx=1,she=2,nP=3,ahe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,lhe=/[\x85\u2028\u2029]/,che=/[,\[\]\{\}]/,IF=/^(?:!|!!|![a-z\-]+!)$/i,PF=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function iP(e){return Object.prototype.toString.call(e)}function ua(e){return e===10||e===13}function xu(e){return e===9||e===32}function so(e){return e===9||e===32||e===10||e===13}function xd(e){return e===44||e===91||e===93||e===123||e===125}function uhe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function dhe(e){return e===120?2:e===117?4:e===85?8:0}function hhe(e){return 48<=e&&e<=57?e-48:-1}function rP(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function fhe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var OF=new Array(256),LF=new Array(256);for(var ad=0;ad<256;ad++)OF[ad]=rP(ad)?1:0,LF[ad]=rP(ad);function phe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ohe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function DF(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=tde(n),new Ga(t,n)}function Bt(e,t){throw DF(e,t)}function cb(e,t){e.onWarning&&e.onWarning.call(null,DF(e,t))}var oP={YAML:function(t,n,i){var r,o,s;t.version!==null&&Bt(t,"duplication of %YAML directive"),i.length!==1&&Bt(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Bt(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),s=parseInt(r[2],10),o!==1&&Bt(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&cb(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,o;i.length!==2&&Bt(t,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],IF.test(r)||Bt(t,"ill-formed tag handle (first argument) of the TAG directive"),uc.call(t.tagMap,r)&&Bt(t,'there is a previously declared suffix for "'+r+'" tag handle'),PF.test(o)||Bt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Bt(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function ic(e,t,n,i){var r,o,s,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,o=a.length;r<o;r+=1)s=a.charCodeAt(r),s===9||32<=s&&s<=1114111||Bt(e,"expected valid JSON character");else ahe.test(a)&&Bt(e,"the stream contains non-printable characters");e.result+=a}}function sP(e,t,n,i){var r,o,s,a;for(Lr.isObject(n)||Bt(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],uc.call(t,o)||(t[o]=n[o],i[o]=!0)}function wd(e,t,n,i,r,o,s,a,l){var u,f;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,f=r.length;u<f;u+=1)Array.isArray(r[u])&&Bt(e,"nested arrays are not supported inside keys"),typeof r=="object"&&iP(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&iP(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,f=o.length;u<f;u+=1)sP(e,t,o[u],n);else sP(e,t,o,n);else!e.json&&!uc.call(n,r)&&uc.call(t,r)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,Bt(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[r]=o,delete n[r];return t}function vT(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Bt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Fi(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;xu(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(ua(r))for(vT(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&cb(e,"deficient indentation"),i}function Q0(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||so(n)))}function bT(e,t){t===1?e.result+=" ":t>1&&(e.result+=Lr.repeat(`
`,t-1))}function ghe(e,t,n){var i,r,o,s,a,l,u,f,d=e.kind,m=e.result,b;if(b=e.input.charCodeAt(e.position),so(b)||xd(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(r=e.input.charCodeAt(e.position+1),so(r)||n&&xd(r)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;b!==0;){if(b===58){if(r=e.input.charCodeAt(e.position+1),so(r)||n&&xd(r))break}else if(b===35){if(i=e.input.charCodeAt(e.position-1),so(i))break}else{if(e.position===e.lineStart&&Q0(e)||n&&xd(b))break;if(ua(b))if(l=e.line,u=e.lineStart,f=e.lineIndent,Fi(e,!1,-1),e.lineIndent>=t){a=!0,b=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=l,e.lineStart=u,e.lineIndent=f;break}}a&&(ic(e,o,s,!1),bT(e,e.line-l),o=s=e.position,a=!1),xu(b)||(s=e.position+1),b=e.input.charCodeAt(++e.position)}return ic(e,o,s,!1),e.result?!0:(e.kind=d,e.result=m,!1)}function mhe(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(ic(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else ua(n)?(ic(e,i,r,!0),bT(e,Fi(e,!1,t)),i=r=e.position):e.position===e.lineStart&&Q0(e)?Bt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Bt(e,"unexpected end of the stream within a single quoted scalar")}function yhe(e,t){var n,i,r,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return ic(e,n,e.position,!0),e.position++,!0;if(a===92){if(ic(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),ua(a))Fi(e,!1,t);else if(a<256&&OF[a])e.result+=LF[a],e.position++;else if((s=dhe(a))>0){for(r=s,o=0;r>0;r--)a=e.input.charCodeAt(++e.position),(s=uhe(a))>=0?o=(o<<4)+s:Bt(e,"expected hexadecimal character");e.result+=fhe(o),e.position++}else Bt(e,"unknown escape sequence");n=i=e.position}else ua(a)?(ic(e,n,i,!0),bT(e,Fi(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Q0(e)?Bt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}Bt(e,"unexpected end of the stream within a double quoted scalar")}function vhe(e,t){var n=!0,i,r,o,s=e.tag,a,l=e.anchor,u,f,d,m,b,x=Object.create(null),C,k,T,A;if(A=e.input.charCodeAt(e.position),A===91)f=93,b=!1,a=[];else if(A===123)f=125,b=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),A=e.input.charCodeAt(++e.position);A!==0;){if(Fi(e,!0,t),A=e.input.charCodeAt(e.position),A===f)return e.position++,e.tag=s,e.anchor=l,e.kind=b?"mapping":"sequence",e.result=a,!0;n?A===44&&Bt(e,"expected the node content, but found ','"):Bt(e,"missed comma between flow collection entries"),k=C=T=null,d=m=!1,A===63&&(u=e.input.charCodeAt(e.position+1),so(u)&&(d=m=!0,e.position++,Fi(e,!0,t))),i=e.line,r=e.lineStart,o=e.position,Vh(e,t,ab,!1,!0),k=e.tag,C=e.result,Fi(e,!0,t),A=e.input.charCodeAt(e.position),(m||e.line===i)&&A===58&&(d=!0,A=e.input.charCodeAt(++e.position),Fi(e,!0,t),Vh(e,t,ab,!1,!0),T=e.result),b?wd(e,a,x,k,C,T,i,r,o):d?a.push(wd(e,null,x,k,C,T,i,r,o)):a.push(C),Fi(e,!0,t),A=e.input.charCodeAt(e.position),A===44?(n=!0,A=e.input.charCodeAt(++e.position)):n=!1}Bt(e,"unexpected end of the stream within a flow collection")}function bhe(e,t){var n,i,r=Vx,o=!1,s=!1,a=t,l=0,u=!1,f,d;if(d=e.input.charCodeAt(e.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Vx===r?r=d===43?nP:she:Bt(e,"repeat of a chomping mode identifier");else if((f=hhe(d))>=0)f===0?Bt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Bt(e,"repeat of an indentation width identifier"):(a=t+f-1,s=!0);else break;if(xu(d)){do d=e.input.charCodeAt(++e.position);while(xu(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!ua(d)&&d!==0)}for(;d!==0;){for(vT(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),ua(d)){l++;continue}if(e.lineIndent<a){r===nP?e.result+=Lr.repeat(`
`,o?1+l:l):r===Vx&&o&&(e.result+=`
`);break}for(i?xu(d)?(u=!0,e.result+=Lr.repeat(`
`,o?1+l:l)):u?(u=!1,e.result+=Lr.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=Lr.repeat(`
`,l):e.result+=Lr.repeat(`
`,o?1+l:l),o=!0,s=!0,l=0,n=e.position;!ua(d)&&d!==0;)d=e.input.charCodeAt(++e.position);ic(e,n,e.position,!1)}return!0}function aP(e,t){var n,i=e.tag,r=e.anchor,o=[],s,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Bt(e,"tab characters must not be used in indentation")),!(l!==45||(s=e.input.charCodeAt(e.position+1),!so(s))));){if(a=!0,e.position++,Fi(e,!0,-1)&&e.lineIndent<=t){o.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,Vh(e,t,kF,!1,!0),o.push(e.result),Fi(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)Bt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=o,!0):!1}function _he(e,t,n){var i,r,o,s,a,l,u=e.tag,f=e.anchor,d={},m=Object.create(null),b=null,x=null,C=null,k=!1,T=!1,A;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),A=e.input.charCodeAt(e.position);A!==0;){if(!k&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Bt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),o=e.line,(A===63||A===58)&&so(i))A===63?(k&&(wd(e,d,m,b,x,null,s,a,l),b=x=C=null),T=!0,k=!0,r=!0):k?(k=!1,r=!0):Bt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,A=i;else{if(s=e.line,a=e.lineStart,l=e.position,!Vh(e,n,AF,!1,!0))break;if(e.line===o){for(A=e.input.charCodeAt(e.position);xu(A);)A=e.input.charCodeAt(++e.position);if(A===58)A=e.input.charCodeAt(++e.position),so(A)||Bt(e,"a whitespace character is expected after the key-value separator within a block mapping"),k&&(wd(e,d,m,b,x,null,s,a,l),b=x=C=null),T=!0,k=!1,r=!1,b=e.tag,x=e.result;else if(T)Bt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(T)Bt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(k&&(s=e.line,a=e.lineStart,l=e.position),Vh(e,t,lb,!0,r)&&(k?x=e.result:C=e.result),k||(wd(e,d,m,b,x,C,s,a,l),b=x=C=null),Fi(e,!0,-1),A=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&A!==0)Bt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return k&&wd(e,d,m,b,x,null,s,a,l),T&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=d),T}function xhe(e){var t,n=!1,i=!1,r,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Bt(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,r="!!",s=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Bt(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!so(s);)s===33&&(i?Bt(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),IF.test(r)||Bt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),che.test(o)&&Bt(e,"tag suffix cannot contain flow indicator characters")}o&&!PF.test(o)&&Bt(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Bt(e,"tag name is malformed: "+o)}return n?e.tag=o:uc.call(e.tagMap,r)?e.tag=e.tagMap[r]+o:r==="!"?e.tag="!"+o:r==="!!"?e.tag="tag:yaml.org,2002:"+o:Bt(e,'undeclared tag handle "'+r+'"'),!0}function whe(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Bt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!so(n)&&!xd(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Bt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Che(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!so(i)&&!xd(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&Bt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),uc.call(e.anchorMap,n)||Bt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Fi(e,!0,-1),!0}function Vh(e,t,n,i,r){var o,s,a,l=1,u=!1,f=!1,d,m,b,x,C,k;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=lb===n||kF===n,i&&Fi(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;xhe(e)||whe(e);)Fi(e,!0,-1)?(u=!0,a=o,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||r),(l===1||lb===n)&&(ab===n||AF===n?C=t:C=t+1,k=e.position-e.lineStart,l===1?a&&(aP(e,k)||_he(e,k,C))||vhe(e,C)?f=!0:(s&&bhe(e,C)||mhe(e,C)||yhe(e,C)?f=!0:Che(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Bt(e,"alias node should not have any properties")):ghe(e,C,ab===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&aP(e,k))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Bt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,m=e.implicitTypes.length;d<m;d+=1)if(x=e.implicitTypes[d],x.resolve(e.result)){e.result=x.construct(e.result),e.tag=x.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(uc.call(e.typeMap[e.kind||"fallback"],e.tag))x=e.typeMap[e.kind||"fallback"][e.tag];else for(x=null,b=e.typeMap.multi[e.kind||"fallback"],d=0,m=b.length;d<m;d+=1)if(e.tag.slice(0,b[d].tag.length)===b[d].tag){x=b[d];break}x||Bt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&x.kind!==e.kind&&Bt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+x.kind+'", not "'+e.kind+'"'),x.resolve(e.result,e.tag)?(e.result=x.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Bt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function The(e){var t=e.position,n,i,r,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Fi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!so(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&Bt(e,"directive name must not be less than one character in length");s!==0;){for(;xu(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!ua(s));break}if(ua(s))break;for(n=e.position;s!==0&&!so(s);)s=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}s!==0&&vT(e),uc.call(oP,i)?oP[i](e,i,r):cb(e,'unknown document directive "'+i+'"')}if(Fi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Fi(e,!0,-1)):o&&Bt(e,"directives end mark is expected"),Vh(e,e.lineIndent-1,lb,!1,!0),Fi(e,!0,-1),e.checkLineBreaks&&lhe.test(e.input.slice(t,e.position))&&cb(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Q0(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Fi(e,!0,-1));return}if(e.position<e.length-1)Bt(e,"end of the stream or a document separator is expected");else return}function NF(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new phe(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,Bt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)The(n);return n.documents}function She(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=NF(e,n);if(typeof t!="function")return i;for(var r=0,o=i.length;r<o;r+=1)t(i[r])}function Ehe(e,t){var n=NF(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Ga("expected a single document in the stream, but found more")}}var Ahe=She,khe=Ehe,Ihe={loadAll:Ahe,load:khe},Phe=TF,Ohe=Ihe.load;function Lhe(e){const t=e.match(BM);if(!t)return{text:e,metadata:{}};let n=Ohe(t[1],{schema:Phe})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}const Dhe=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),Nhe=e=>{const{text:t,metadata:n}=Lhe(e),{displayMode:i,title:r,config:o={}}=n;return i&&(o.gantt||(o.gantt={}),o.gantt.displayMode=i),{title:r,config:o,text:t}},Mhe=e=>{const t=rp.detectInit(e)??{},n=rp.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>{}):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:ole(e),directive:t}};function MF(e){const t=Dhe(e),n=Nhe(t),i=Mhe(n.text),r=GM(n.config,i.directive);return e=Uue(i.text),{code:e,title:n.title,config:r}}const Fhe=5e4,Rhe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Bhe="sandbox",$he="loose",qhe="http://www.w3.org/2000/svg",zhe="http://www.w3.org/1999/xlink",Uhe="http://www.w3.org/1999/xhtml",Hhe="100%",Vhe="100%",Ghe="border:0;margin:0;",Whe="margin:0",jhe="allow-top-navigation-by-user-activation allow-popups",Khe='The "iframe" tag is not supported by your browser.',Yhe=["foreignobject"],Xhe=["dominant-baseline"];function FF(e){const t=MF(e);return rb(),Ole(t.config??{}),t}async function Jhe(e,t){mT(),e=FF(e).code;try{await _T(e)}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}return!0}const lP=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,Qhe=(e,t={})=>{var n;let i="";if(e.themeCSS!==void 0&&(i+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!zx(t)){const a=e.htmlLabels||((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const u=t[l];zx(u.styles)||a.forEach(f=>{i+=lP(u.id,f,u.styles)}),zx(u.textStyles)||(i+=lP(u.id,"tspan",u.textStyles))}}return i},Zhe=(e,t,n,i)=>{const r=Qhe(e,n),o=Jce(t,r,e.themeVariables);return Yw(cae(`${i}{${o}}`),dae)},efe=(e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=Ale(i),i=i.replace(/<br>/g,"<br/>"),i},tfe=(e="",t)=>{var n,i;const r=(i=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&i.height?t.viewBox.baseVal.height+"px":Vhe,o=btoa('<body style="'+Whe+'">'+e+"</body>");return`<iframe style="width:${Hhe};height:${r};${Ghe}" src="data:text/html;base64,${o}" sandbox="${jhe}">
  ${Khe}
</iframe>`},cP=(e,t,n,i,r)=>{const o=e.append("div");o.attr("id",n),i&&o.attr("style",i);const s=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",qhe);return r&&s.attr("xmlns:xlink",r),s.append("g"),e};function uP(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const nfe=(e,t,n,i)=>{var r,o,s;(r=e.getElementById(t))==null||r.remove(),(o=e.getElementById(n))==null||o.remove(),(s=e.getElementById(i))==null||s.remove()},ife=async function(e,t,n){var i,r,o,s,a,l;mT();const u=FF(t);t=u.code;const f=fa();zt.debug(f),t.length>((f==null?void 0:f.maxTextSize)??Fhe)&&(t=Rhe);const d="#"+e,m="i"+e,b="#"+m,x="d"+e,C="#"+x;let k=Ho("body");const T=f.securityLevel===Bhe,A=f.securityLevel===$he,R=f.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),T){const te=uP(Ho(n),m);k=Ho(te.nodes()[0].contentDocument.body),k.node().style.margin=0}else k=Ho(n);cP(k,e,x,`font-family: ${R}`,zhe)}else{if(nfe(document,e,x,m),T){const te=uP(Ho("body"),m);k=Ho(te.nodes()[0].contentDocument.body),k.node().style.margin=0}else k=Ho("body");cP(k,e,x)}let F,Z;try{F=await _T(t,{title:u.title})}catch(te){F=new xF("error"),Z=te}const ee=k.select(C).node(),g=F.type,L=ee.firstChild,M=L.firstChild,z=(r=(i=F.renderer).getClasses)==null?void 0:r.call(i,t,F),Q=Zhe(f,g,z,d),de=document.createElement("style");de.innerHTML=Q,L.insertBefore(de,M);try{await F.renderer.draw(t,e,JI,F)}catch(te){throw pue.draw(t,e,JI),te}const ce=k.select(`${C} svg`),pe=(s=(o=F.db).getAccTitle)==null?void 0:s.call(o),ae=(l=(a=F.db).getAccDescription)==null?void 0:l.call(a);ofe(g,ce,pe,ae),k.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Uhe);let q=k.select(C).node().innerHTML;if(zt.debug("config.arrowMarkerAbsolute",f.arrowMarkerAbsolute),q=efe(q,T,MM(f.arrowMarkerAbsolute)),T){const te=k.select(C+" svg").node();q=tfe(q,te)}else A||(q=$h.sanitize(q,{ADD_TAGS:Yhe,ADD_ATTR:Xhe}));if(Bue(),Z)throw Z;const j=Ho(T?b:C).node();return j&&"remove"in j&&j.remove(),{svg:q,bindFunctions:F.db.bindFunctions}};function rfe(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Ile(e),e!=null&&e.theme&&e.theme in Za?e.themeVariables=Za[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Za.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?kle(e):jM();oT(n.logLevel),mT()}const _T=(e,t={})=>{const{code:n}=MF(e);return Rue(n,t)};function ofe(e,t,n,i){que(t,e),zue(t,n,i,t.attr("id"))}const Au=Object.freeze({render:ife,parse:Jhe,getDiagramFromText:_T,initialize:rfe,getConfig:fa,setConfig:KM,getSiteConfig:jM,updateSiteConfig:Ple,reset:()=>{rb()},globalReset:()=>{rb(Uh)},defaultConfig:Uh});oT(fa().logLevel);rb(fa());const sfe=async()=>{zt.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(zh).map(async([n,{detector:i,loader:r}])=>{if(r)try{gT(n)}catch{try{const{diagram:s,id:a}=await r();sb(a,s,i)}catch(s){throw zt.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete zh[n],s}}}))).filter(n=>n.status==="rejected");if(t.length>0){zt.error(`Failed to load ${t.length} external diagrams`);for(const n of t)zt.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},afe=(e,t,n)=>{zt.warn(e),VM(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},RF=async function(e={querySelector:".mermaid"}){try{await lfe(e)}catch(t){if(VM(t)&&zt.error(t.str),Po.parseError&&Po.parseError(t),!e.suppressErrors)throw zt.error("Use the suppressErrors option to suppress these errors"),t}},lfe=async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=Au.getConfig();zt.debug(`${e?"":"No "}Callback function found`);let r;if(n)r=n;else if(t)r=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");zt.debug(`Found ${r.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(zt.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Au.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const o=new rp.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let s;const a=[];for(const l of Array.from(r)){zt.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${o.next()}`;s=l.innerHTML,s=nee(rp.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=rp.detectInit(s);f&&zt.debug("Detected early reinit: ",f);try{const{svg:d,bindFunctions:m}=await zF(u,s,l);l.innerHTML=d,e&&await e(u),m&&m(l)}catch(d){afe(d,a,Po.parseError)}}if(a.length>0)throw a[0]},BF=function(e){Au.initialize(e)},cfe=async function(e,t,n){zt.warn("mermaid.init is deprecated. Please use run instead."),e&&BF(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await RF(i)},ufe=async(e,{lazyLoad:t=!0}={})=>{qM(...e),t===!1&&await sfe()},$F=function(){if(Po.startOnLoad){const{startOnLoad:e}=Au.getConfig();e&&Po.run().catch(t=>zt.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",$F,!1)}const dfe=function(e){Po.parseError=e},ub=[];let Gx=!1;const qF=async()=>{if(!Gx){for(Gx=!0;ub.length>0;){const e=ub.shift();if(e)try{await e()}catch(t){zt.error("Error executing queue",t)}}Gx=!1}},hfe=async(e,t)=>new Promise((n,i)=>{const r=()=>new Promise((o,s)=>{Au.parse(e,t).then(a=>{o(a),n(a)},a=>{var l;zt.error("Error parsing",a),(l=Po.parseError)==null||l.call(Po,a),s(a),i(a)})});ub.push(r),qF().catch(i)}),zF=(e,t,n)=>new Promise((i,r)=>{const o=()=>new Promise((s,a)=>{Au.render(e,t,n).then(l=>{s(l),i(l)},l=>{var u;zt.error("Error parsing",l),(u=Po.parseError)==null||u.call(Po,l),a(l),r(l)})});ub.push(o),qF().catch(r)}),Po={startOnLoad:!0,mermaidAPI:Au,parse:hfe,render:zF,init:cfe,run:RF,registerExternalDiagrams:ufe,initialize:BF,parseError:void 0,contentLoaded:$F,setParseErrorHandler:dfe,detectType:X0};var Th,Sh,hu,fu;class UF{constructor(){Ce(this,Th,void 0);Ce(this,Sh,void 0);Ce(this,hu,void 0);Ce(this,fu,void 0);De(this,Th,0),De(this,Sh,[]),De(this,hu,""),De(this,fu,"")}incrementLinkCounter(){uE(this,Th)._++}get getLinkCounter(){return O(this,Th)}isNotYetAdded(t){return!O(this,Sh).includes(t)}addElement(t,n){De(this,hu,O(this,hu).concat(n)),O(this,Sh).push(t)}get getElementSection(){return O(this,hu)}addStyling(t){De(this,fu,O(this,fu).concat(t))}get getStylingSection(){return O(this,fu)}}Th=new WeakMap,Sh=new WeakMap,hu=new WeakMap,fu=new WeakMap;function HF(){return`     classDef factor-not-applicable fill:#f2f2f2,stroke:#d9d9d9,stroke-width:2px;
    classDef factor-applicable fill:#d9d9d9,stroke:#000,stroke-width:2px;
    classDef factor-low fill:#b3d9ff,stroke:#000,stroke-width:2px;
    classDef factor-high fill:#80bfff,stroke:#000,stroke-width:3px;`}function db(e){let t="";return typeof e.result=="string"?t=e.result:typeof e.result=="number"?t=e.result.toString():e.result.tendency&&e.result.impacts&&(t=`${e.result.impacts.join(" #124; ")}`),`
	${e.id}[${e.name}
	<span class="evaluation-result">${t}</span>]`}function hb(e){let t="";if(typeof e.result=="string")switch(e.result){case"none":t="factor-applicable";break;case"low":t="factor-low";break;case"high":t="factor-high";break;case"n/a":default:t="factor-not-applicable";break}else if(typeof e.result=="number")t="factor-applicable";else if(e.result.tendency)switch(e.result.tendency){case"negative":t="factor-negative";break;case"neutral":t="factor-applicable";break;case"positive":t="factor-positive";break;case"n/a":default:t="factor-not-applicable";break}return`
	class ${e.id} ${t}`}function VF(e,t,n,i){let r="";switch(t){case"neutral":r="o";break;case"positive":case"slightly positive":r="+";break;case"negative":case"slightly negative":r="-";break;case"n/a":default:r=n;break}return`
	${e}-->|${r}|${i}`}function GF(e,t){let n="#000";switch(t){case"neutral":n="#000";break;case"positive":case"slightly positive":n="#33cc33";break;case"negative":case"slightly negative":n="#ff5050";break;case"n/a":default:n="#d9d9d9";break}return`
	linkStyle ${e} stroke-width:2px,fill:none,stroke:${n},color:#000`}const ffe=["innerHTML"],pfe=Zi({__name:"ForwardImpactVisualization",props:{rootFactors:{}},setup(e){pa(()=>{Po.initialize({startOnLoad:!0})});const t=e,n=`${t.rootFactors.map(o=>o.id).join("-")}-impact-graph`;function i(){let o="graph LR",s=new UF;s.addStyling(HF());let a=t.rootFactors;for(const l of a)s.addElement(l.id,db(l)),s.addStyling(hb(l));for(const l of a)r(l,s);o=o.concat(s.getElementSection,`
`,s.getStylingSection),Po.render(`${n}-svg`,o).then(l=>{let u=ws(`#${n}`)[0];u.innerHTML=l.svg})}function r(o,s){for(const a of o.forwardImpacts){s.isNotYetAdded(a.impactedFactorKey)&&(s.addElement(a.impactedFactorKey,db(a.impactedFactor)),s.addStyling(hb(a.impactedFactor)));let l=`${o.id}-impacts-${a.impactedFactorKey}`;s.isNotYetAdded(l)&&(s.addElement(l,VF(o.id,a.weight,a.impactType,a.impactedFactorKey)),s.addStyling(GF(s.getLinkCounter,a.weight)),s.incrementLinkCounter()),a.impactedFactor&&a.impactedFactor.factorType==="productFactor"&&r(a.impactedFactor,s)}}return(o,s)=>(He(),Ke("div",{id:n,innerHTML:i()},null,8,ffe))}}),gfe={class:"factorGroup d-flex flex-column"},mfe={class:"accordion"},yfe={class:"card"},vfe={class:"card-header"},bfe=["data-target","aria-controls"],_fe=["id"],xfe={class:"card-body d-flex flex-column factorDetails"},wfe={class:"font-weight-bold"},Cfe=X("span",null,"evaluation result",-1),Tfe={key:0},Sfe={class:"font-weight-bold"},Efe=Zi({__name:"ProductFactorViewpoint",props:{evaluatedProductFactors:{}},setup(e){const t=e,n=Jn(()=>i());function i(){let o=[];e:for(const[s,a]of t.evaluatedProductFactors.entries()){if(a.backwardImpacts.length>0)continue e;let l=r(a,!1);for(const u of o)if(Array.from(u.impactedFactorKeys).some(f=>l.includes(f))){u.rootFactorKeys.add(s),u.factors.push(a),l.forEach(f=>u.impactedFactorKeys.add(f));continue e}o.push({rootFactorKeys:new Set([s]),impactedFactorKeys:new Set(l),factors:[a]})}return o.map(s=>s.factors)}function r(o,s){let a=[];for(const l of o.forwardImpacts)a.push(l.impactedFactorKey),s&&l.impactedFactor.factorType==="productFactor"&&a.push(...r(l.impactedFactor,s));return a}return(o,s)=>(He(!0),Ke(Gt,null,kn(n.value,a=>(He(),Ke("div",gfe,[Dn(pfe,{rootFactors:a},null,8,["rootFactors"]),X("div",mfe,[(He(!0),Ke(Gt,null,kn(a,l=>(He(),Ke("div",yfe,[X("h3",vfe,[X("button",{class:"btn btn-link btn-block text-left",type:"button","data-toggle":"collapse","data-target":`#${l.id}-details`,"aria-expanded":"true","aria-controls":`${l.id}-details`}," Details for "+Mt(l.name),9,bfe)]),X("div",{id:`${l.id}-details`,class:"collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},[X("div",xfe,[X("div",null,[X("span",wfe,Mt(l.name),1),ii(),Cfe,ii(": "),X("span",null,Mt(l.result),1)]),X("div",null,[l.measures.size>0?(He(),Ke("span",Tfe,"Relevant measures:")):cn("",!0),X("ul",null,[(He(!0),Ke(Gt,null,kn(l.measures,([u,f])=>(He(),Ke("li",null,[X("span",null,Mt(f.name),1),ii(": "),X("span",Sfe,Mt(f.value),1),X("span",null," ("+Mt(f.description)+")",1)]))),256))])])])],8,_fe)]))),256))])]))),256))}}),Afe={class:"aspectGroup"},kfe=["id","innerHTML"],Ife={class:"accordion"},Pfe={class:"card"},Ofe={class:"card-header"},Lfe=["data-target","aria-controls"],Dfe=["id"],Nfe={class:"card-body d-flex flex-column factorDetails"},Mfe={class:"font-weight-bold"},Ffe=X("span",null,"evaluation result",-1),Rfe={key:0},Bfe={class:"font-weight-bold"},$fe=Zi({__name:"QualityAspectViewpoint",props:{evaluatedQualityAspects:{}},setup(e){function t(o,s){let a="graph BT",l=new UF;l.addStyling(HF()),l.addElement(s.id,db(s)),l.addStyling(hb(s)),n(s,l),a=a.concat(l.getElementSection,`
`,l.getStylingSection),Po.render(`${o}-svg`,a).then(u=>{let f=ws(`#${o}`)[0];f.innerHTML=u.svg})}function n(o,s){for(const a of o.backwardImpacts){s.isNotYetAdded(a.impactingFactorKey)&&(s.addElement(a.impactingFactorKey,db(a.impactingFactor)),s.addStyling(hb(a.impactingFactor)));let l=`${a.impactingFactor.id}-impacts-${o.id}`;s.isNotYetAdded(l)&&(s.addElement(l,VF(a.impactingFactorKey,a.weight,a.impactType,o.id)),s.addStyling(GF(s.getLinkCounter,a.weight)),s.incrementLinkCounter()),n(a.impactingFactor,s)}}function i(o){let s=[];return r(o,s),s}function r(o,s){for(const a of o.backwardImpacts)s.push(a.impactingFactor),r(a.impactingFactor,s)}return(o,s)=>(He(!0),Ke(Gt,null,kn(o.evaluatedQualityAspects,([a,l])=>(He(),Ke("div",Afe,[X("div",{id:`${a}-impacts`,innerHTML:t(`${a}-impacts`,l)},null,8,kfe),X("div",Ife,[(He(!0),Ke(Gt,null,kn(i(l),u=>(He(),Ke("div",Pfe,[X("h3",Ofe,[X("button",{class:"btn btn-link btn-block text-left",type:"button","data-toggle":"collapse","data-target":`#${u.id}-details`,"aria-expanded":"true","aria-controls":`${u.id}-details`}," Details for "+Mt(u.name),9,Lfe)]),X("div",{id:`${u.id}-details`,class:"collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},[X("div",Nfe,[X("div",null,[X("span",Mfe,Mt(u.name),1),ii(),Ffe,ii(": "),X("span",null,Mt(u.result),1)]),X("div",null,[u.measures.size>0?(He(),Ke("span",Rfe,"Relevant measures:")):cn("",!0),X("ul",null,[(He(!0),Ke(Gt,null,kn(u.measures,([f,d])=>(He(),Ke("li",null,[X("span",null,Mt(d.name),1),ii(": "),X("span",Bfe,Mt(d.value),1),X("span",null," ("+Mt(d.description)+")",1)]))),256))])])])],8,Dfe)]))),256))])]))),256))}}),qfe={class:"full-width"},zfe={class:"d-flex flex-column p-1 evaluation-background"},Ufe=X("h2",null,"Evaluation",-1),Hfe=X("p",{class:"font-weight-bold"},"The evaluation feature is still in development...",-1),Vfe={class:"d-flex flex-row selection-bar"},Gfe={class:"m-1"},Wfe=X("span",null,"Select the evaluation viewpoint: ",-1),jfe=X("option",{value:"perQualityAspect"},"per Quality Aspect",-1),Kfe=X("option",{value:"perProductFactor"},"per Product Factor",-1),Yfe=[jfe,Kfe],Xfe={class:"m-1"},Jfe=X("span",null,"Select the modeled system to evaluate: ",-1),Qfe=X("option",{value:"-1"},"Select a system...",-1),Zfe=["value"],epe={key:0},tpe={key:0},npe={key:1},ipe=Zi({__name:"EvaluationApp",props:{systemsData:{},evaluatedSystemId:{}},emits:["update:evaluatedSystem"],setup(e,{emit:t}){const n=e,i=t,r=gN(),o=mN(r),s=yN(r),a=nn(-1),l=nn("perProductFactor"),u=nn(new Map),f=nn(new Map),d=nn(new Map);pa(()=>{n.evaluatedSystemId&&n.systemsData.find(k=>k.id===n.evaluatedSystemId)&&(a.value=n.evaluatedSystemId,x())}),s0(()=>{n.systemsData.find(k=>k.id===a.value)||(a.value=-1,b())});function m(){if(a.value==-1){b();return}else i("update:evaluatedSystem",a.value),x()}function b(){u.value.clear(),f.value.clear(),d.value.clear()}function x(){b();let k=n.systemsData.find(Z=>Z.id===a.value);if(!k){a.value=-1;return}let A=(k.entityManager?Un(k.entityManager):C(k)).getSystemEntity(),R=new eee(A,r);console.time("evaluation");let F=vN(_d(o),_d(s),r);R.evaluate(F.activeQualityAspects,F.activeProductFactors),R.getCalculatedMeasures.forEach((Z,ee,g)=>{u.value.set(ee,Z)}),R.getEvaluatedProductFactors.forEach((Z,ee,g)=>{Z.productFactor.getImpactingFactors().length===0&&f.value.set(ee,Z)}),R.getEvaluatedQualityAspects.forEach((Z,ee,g)=>{d.value.set(ee,Z)}),console.timeEnd("evaluation")}function C(k){let T=new Lw(new Du({},{cellNamespace:cm}));return T.loadFromJson(k.toImport.fileContent,k.toImport.fileName),T}return(k,T)=>(He(),Ke("div",qfe,[X("div",zfe,[Ufe,Hfe,Dn(bN,{highLevelAspectFilter:Xn(o),factorCategoryFilter:Xn(s),"onUpdate:filters":x},null,8,["highLevelAspectFilter","factorCategoryFilter"]),X("div",Vfe,[X("div",Gfe,[Wfe,dn(X("select",{"onUpdate:modelValue":T[0]||(T[0]=A=>l.value=A)},Yfe,512),[[kh,l.value]])]),X("div",Xfe,[Jfe,dn(X("select",{onChange:m,"onUpdate:modelValue":T[1]||(T[1]=A=>a.value=A)},[Qfe,(He(!0),Ke(Gt,null,kn(k.systemsData,A=>(He(),Ke("option",{value:A.id},Mt(A.name),9,Zfe))),256))],544),[[kh,a.value]])])]),a.value>-1?(He(),Ke("div",epe,[l.value==="perProductFactor"?(He(),Ke("div",tpe,[Dn(Efe,{evaluatedProductFactors:f.value},null,8,["evaluatedProductFactors"])])):cn("",!0),l.value==="perQualityAspect"?(He(),Ke("div",npe,[Dn($fe,{evaluatedQualityAspects:d.value},null,8,["evaluatedQualityAspects"])])):cn("",!0)])):cn("",!0)])]))}}),rpe={class:"navbar navbar-expand-lg navbar-dark bg-dark text-white"},ope={class:"navbar-header"},spe={class:"navbar-brand text-muted no-line-space"},ape=X("i",{class:"fa-solid fa-cube"},null,-1),lpe=X("br",null,null,-1),cpe={class:"versionInfo"},upe=X("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[X("span",{class:"navbar-toggler-icon"})],-1),dpe={class:"collapse navbar-collapse",id:"navbarSupportedContent"},hpe={class:"navbar-nav mr-auto"},fpe={class:"nav-link d-flex flex-row"},ppe=["onClick"],gpe=X("i",{class:"fa fa-fw fa-x text-white"},null,-1),mpe=[gpe],ype={class:"nav-item"},vpe=X("i",{class:"fa-solid fa-plus"},null,-1),bpe={class:"navbar-nav ml-auto"},_pe={class:"nav-item"},xpe=X("i",{class:"fa-solid fa-scale-balanced"},null,-1),wpe={role:"main",ref:"mainSection",class:"flex-grow-1 mainElement"},Cpe={id:"init-overlay",class:"init-overlay"},Tpe={class:"init-overlay-content"},Spe=X("i",{class:"fa fa-fw fa-x text-white"},null,-1),Epe=[Spe],Ape=X("h2",{class:"text-center"},"Start Modeling Software Architectures!",-1),kpe={id:"init-firstInformation"},Ipe=X("p",null,[ii("The modeling feature allows you to model cloud-native application (CNA) architectures using different entities. It is based on the "),X("a",{href:"https://r0light.github.io/cna-quality-model/",target:"_blank"},"Cloud-native Quality Model "),ii(". You can either start with a new architectural model or import a previously created and exported model.")],-1),Ppe={class:"d-flex flex-row justify-content-around"},Ope=X("i",{class:"fa-solid fa-pencil"},null,-1),Lpe=X("i",{class:"fa-solid fa-pencil"},null,-1),Dpe={id:"startModelingForm"},Npe=X("p",null,"Please type the application name of the System entity you want to model in the following form. Afterwards, you can start modeling your application's architecture.",-1),Mpe={class:"needs-validation",novalidate:""},Fpe={class:"form-row"},Rpe={class:"input-group has-validation"},Bpe=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},"Application Name")],-1),$pe=X("div",{class:"validationError invalid-feedback"}," Please provide an application name. ",-1),qpe=X("i",{class:"fa-solid fa-pencil"},null,-1),zpe={id:"startModelingForm"},Upe=X("p",{class:"user-select-none"},"Please select a file to import a model from it (TOSCA or JSON format)",-1),Hpe={class:"pagesContainer"},Vpe=X("div",{id:"modalBackground"},null,-1),Gpe=X("div",{id:"modals",class:"d-print-none"},null,-1),ld="Clounaq",Wpe=Zi({__name:"App",setup(e){const t="0.3.0",n=L2(),i=nn([{id:1,path:"/",active:!1,pageType:"home",iconClass:"fa fa-fw fa-home",name:"Home"},{id:2,path:"/quality-model",active:!1,pageType:"qualityModel",iconClass:"fa-solid fa-sitemap",name:"Quality Model"},{id:3,path:"/evaluation",active:!1,pageType:"evaluation",iconClass:"fa-solid fa-gauge-high",name:"Evaluation"}]),r=nn([]),o=Jn(()=>r.value.filter(A=>A.id!==-1));function s(A,R,F,Z,ee){for(let g=0;g<r.value.length;g++)r.value[g].id===A&&(r.value[g]={id:A,name:r.value[g].name,toImport:R,entityManager:F,importDone:Z,appSettings:ee})}const a=nn(-1);function l(A){a.value=A}const u=nn("none"),f=nn(""),d=nn(null);function m(){let A=ws("#init-overlay .needs-validation");for(const R of A)R.classList.add("was-validated");f.value&&(u.value="none",C(f.value,{fileName:"",fileContent:""}),f.value="")}function b(){let A=new FileReader;A.onload=R=>{let F=d.value.files[0].name,Z=F.replace(/\..*$/g,""),ee=R.target.result.toString();C(Z,{fileName:F,fileContent:ee}),u.value="none"},A.readAsText(d.value.files[0])}function x(A,R){for(let F=0;F<r.value.length;F++)if(r.value[F].id===A)if(r.value[F].importDone){R();return}else setTimeout(()=>{x(A,R)},2e3)}pa(()=>{console.log("onMounted");for(const F of i.value)F.pageType==="home"?n.addRoute({path:F.path,component:P6}):F.pageType==="qualityModel"?(n.addRoute({path:F.path,component:Kk,props:Z=>({active:F.active,path:F.path})}),n.addRoute({path:`${F.path}/:factorKey`,component:Kk,props:Z=>({active:F.active,path:F.path})})):F.pageType==="evaluation"&&n.addRoute({path:F.path,component:ipe,props:Z=>({systemsData:o.value,evaluatedSystemId:a.value})});n.addRoute({path:"/imprint",component:F6}),n.beforeEach(async(F,Z)=>{F.path!=="/"&&!n.getRoutes().find(ee=>ee.path!=="/"&&F.path.startsWith(ee.path))&&n.replace({path:"/"});for(const ee of i.value){if(ee.path==="/"&&F.path!=="/"){ee.active=!1;continue}if(!F.path.startsWith(ee.path)){ee.active=!1;continue}switch(ee.active=!0,ee.pageType){case"home":document.title=ld+": Home";break;case"qualityModel":document.title=ld+": Quality Model";break;case"evaluation":document.title=ld+": Evaluation";break;case"modeling":document.title=ld+`: Modeling ${ee.name}`;break;default:document.title=ld+": Home"}}return!0});let A=Promise.resolve(),R=sessionStorage.getItem("lastRoute")?sessionStorage.getItem("lastRoute"):"";if(sessionStorage.getItem("modelingData")){let F=JSON.parse(sessionStorage.getItem("modelingData"));for(const Z of F)A=A.then(()=>new Promise((ee,g)=>{Z.toImport.fileContent=JSON.stringify(Z.toImport.fileContent),r.value.push(Z),i.value.push({id:Z.id,path:`/modeling-${Z.id}`,active:!1,pageType:"modeling",iconClass:"fa-solid fa-pencil",name:Z.name}),n.addRoute({path:`/modeling-${Z.id}`,name:`modeling-${Z.id}`,component:Gk,props:L=>({systemName:r.value.find(M=>M.id===Z.id)?r.value.find(M=>M.id===Z.id).name:"",pageId:Z.id,modelingData:r.value.find(M=>M.id===Z.id)})}),R.startsWith("modeling")?(n.push(`/modeling-${Z.id}`),x(Z.id,ee)):ee()}))}A.then(()=>{n.isReady().then(()=>{n.push(n.currentRoute.value.path)})}),document.getElementById("applicationNameInputField").addEventListener("keydown",F=>{var Z;((Z=F.key)==null?void 0:Z.localeCompare("Enter"))===0&&(F.preventDefault(),m())}),window.onbeforeunload=function(){let F=r.value.map(Z=>Z.importDone?{id:Z.id,name:Z.name,toImport:{fileName:`${Z.name}.json`,fileContent:Z.entityManager.convertToJson()},entityManager:null,importDone:!1,appSettings:Z.appSettings}:{id:Z.id,name:Z.name,toImport:{fileName:`${Z.name}.json`,fileContent:JSON.parse(Z.toImport.fileContent)},entityManager:null,importDone:!1,appSettings:Z.appSettings});sessionStorage.setItem("modelingData",JSON.stringify(F)),sessionStorage.setItem("lastRoute",n.currentRoute.value.path)}});function C(A,R){const F=Math.max(...i.value.map(Z=>Z.id))+1;r.value.push({id:F,name:A,toImport:R,entityManager:null,importDone:!0,appSettings:zv()}),i.value.push({id:F,path:`/modeling-${F}`,active:!0,pageType:"modeling",iconClass:"fa-solid fa-pencil",name:A}),n.addRoute({path:`/modeling-${F}`,name:`modeling-${F}`,component:Gk,props:Z=>({systemName:r.value.find(ee=>ee.id===F)?r.value.find(ee=>ee.id===F).name:"",pageId:F,modelingData:r.value.find(ee=>ee.id===F)})}),n.isReady().then(()=>{n.push(`/modeling-${F}`)})}function k(A,R){for(const F of i.value)F.id===R&&(F.name=A,document.title=ld+`: Modeling ${A}`);for(const F of r.value)if(F.id===R){F.name=A;break}}function T(A){let R=-1;for(let F=0;F<i.value.length;F++){if(i.value[F].id===A){n.removeRoute(`modeling-${i.value[F].id}`),i.value.splice(F,1);break}R=i.value[F].id}for(let F=0;F<r.value.length;F++)if(r.value[F].id===A){r.value.splice(F,1);break}n.push(i.value.find(F=>F.id===R).path)}return(A,R)=>{const F=wE("router-link"),Z=wE("router-view");return He(),Ke(Gt,null,[X("header",null,[X("nav",rpe,[X("div",ope,[X("a",spe,[ape,ii(" Clounaq "),lpe,X("span",cpe,"v"+Mt(Xn(t)),1)])]),upe,X("div",dpe,[X("ul",hpe,[(He(!0),Ke(Gt,null,kn(i.value,ee=>(He(),Ke("li",{class:mn(["nav-item",{active:ee.active}])},[X("div",fpe,[Dn(F,{class:"text-white",to:`${ee.path}`},{default:wu(()=>[X("i",{class:mn(ee.iconClass)},null,2),ii(" "+Mt(ee.name),1)]),_:2},1032,["to"]),ee.pageType==="modeling"?(He(),Ke("button",{key:0,class:"btn d-flex p-1 closeModelBtn",onClick:g=>T(ee.id)},mpe,8,ppe)):cn("",!0)])],2))),256)),X("li",ype,[X("a",{id:"newModelingApp",class:"nav-link text-white",onClick:R[0]||(R[0]=ee=>u.value="initial")},[vpe,ii(" New Application Model")])])]),X("ul",bpe,[X("li",_pe,[Dn(F,{class:"nav-link text-white",to:"/imprint"},{default:wu(()=>[xpe,ii(" Imprint ")]),_:1})])])])])]),X("main",wpe,[dn(X("div",Cpe,[X("div",Tpe,[X("button",{class:"btn d-flex ml-auto",onClick:R[1]||(R[1]=ee=>u.value="none")},Epe),Ape,dn(X("div",kpe,[Ipe,X("div",Ppe,[X("button",{type:"button",class:"btn btn-outline-dark btn-light",onClick:R[2]||(R[2]=ee=>u.value="startNew")},[Ope,ii(" Create new model ")]),X("button",{type:"button",class:"btn btn-outline-dark btn-light",onClick:R[3]||(R[3]=ee=>u.value="startImport")},[Lpe,ii(" Import existing model")])])],512),[[ir,u.value==="initial"]]),dn(X("div",Dpe,[Npe,X("form",Mpe,[X("div",Fpe,[X("div",Rpe,[Bpe,dn(X("input",{name:"systemName",type:"text",class:"form-control",id:"applicationNameInputField",placeholder:"Application name of your System","onUpdate:modelValue":R[4]||(R[4]=ee=>f.value=ee),required:""},null,512),[[vs,f.value]]),$pe]),X("div",{class:"startModelingBtnArea form-group row"},[X("div",{class:"col-auto"},[X("button",{id:"startModelingBtn",type:"button",class:"btn btn-outline-dark",onClick:m},[qpe,ii(" Start modeling")])])])])])],512),[[ir,u.value==="startNew"]]),dn(X("div",zpe,[Upe,X("input",{type:"file",accept:".json,.yaml,.yml,.tosca",ref_key:"selectedFile",ref:d,onChange:b,tabindex:"-1"},null,544)],512),[[ir,u.value==="startImport"]])])],512),[[ir,u.value!=="none"]]),X("div",Hpe,[(He(),tl(Z,{key:A.$route.path,"onStore:modelingData":R[5]||(R[5]=(ee,g,L,M,z)=>s(ee,L,g,M,z)),"onUpdate:systemName":R[6]||(R[6]=(ee,g)=>k(ee,g)),"onUpdate:evaluatedSystem":R[7]||(R[7]=ee=>l(ee))}))])],512),Vpe,Gpe],64)}}});window.onerror=e=>e.toString().includes("TypeError: SVGPoint.y setter")?(console.log(e),!0):!1;const jpe=[],Kpe=w6({history:J4(),routes:jpe}),WF=v4(Wpe);WF.use(Kpe);WF.mount("#vapp");export{fa as $,rp as A,tp as B,jK as C,iue as D,rue as E,Qce as F,Tie as G,Cge as H,cue as I,yle as J,HC as K,MN as L,dm as M,Jte as N,BN as O,hge as P,Va as Q,oo as R,ko as S,D2 as T,see as U,hue as V,_ge as W,Jae as X,GM as Y,cT as Z,Gae as _,nue as a,Ioe as a$,VC as a0,Bl as a1,Ap as a2,sI as a3,rne as a4,KI as a5,Tge as a6,tle as a7,gle as a8,Fu as a9,fI as aA,hI as aB,bge as aC,yge as aD,fge as aE,pge as aF,wge as aG,xge as aH,mge as aI,Qt as aJ,ha as aK,pm as aL,Xh as aM,Qv as aN,Ise as aO,gae as aP,fm as aQ,eb as aR,Cse as aS,yM as aT,Coe as aU,Toe as aV,wae as aW,FI as aX,Soe as aY,tT as aZ,woe as a_,Gse as aa,Rse as ab,ya as ac,Wse as ad,jse as ae,TM as af,z0 as ag,G0 as ah,tb as ai,_oe as aj,eT as ak,EM as al,CM as am,wse as an,yse as ao,Bse as ap,Yse as aq,gm as ar,Pge as as,oue as at,hm as au,Ft as av,Ut as aw,KC as ax,gge as ay,vge as az,tue as b,Jh as b0,mc as b1,OI as b2,nT as b3,bM as b4,Qw as b5,Moe as b6,zx as b7,Ale as b8,nee as b9,pT as c,Dp as d,vr as e,ib as f,eue as g,Ho as h,pF as i,sT as j,wle as k,zt as l,xN as m,xie as n,ple as o,MM as p,ale as q,$ae as r,Zce as s,Kce as t,Ige as u,NN as v,_le as w,pee as x,Goe as y,ZC as z};
